================================================================================
                        PROCÉDURIER DE TESTS — RestoQR
                              Page : Menu (menu)
================================================================================

Identifiants utilisés :
  - Admin    : admin@restoqr.ca   / password123
  - Client   : client@restoqr.ca  / password123

================================================================================
MODULE 1 — Header
================================================================================

1.1  Bouton Connexion (utilisateur non connecté)
     - Ouvrir la page /menu sans être connecté
     - Le bouton « Connexion » est visible
     - Clic sur « Connexion » : Redirection vers /login

1.2  Bouton Déconnexion (utilisateur connecté)
     Avec client@restoqr.ca : password123
     - Se connecter, accéder à /menu
     - Le bouton « Déconnexion » est visible
     - Clic sur « Déconnexion » : Redirection vers /login, session terminée

1.3  Bouton Admin (utilisateur admin)
     Avec admin@restoqr.ca : password123
     - Se connecter, accéder à /menu
     - Le bouton « Admin » est visible dans le header (après Déconnexion, séparé par « | »)
     - Clic sur « Admin » : Redirection vers /admin
     - Naviguer vers /order : Le bouton « Admin » est toujours visible dans le header
     - Naviguer vers /cuisine : Le bouton « Admin » est toujours visible dans le header
     - Naviguer vers /admin : Le bouton « Admin » est toujours visible dans le header

1.4  Bouton Admin absent (utilisateur non-admin)
     Avec client@restoqr.ca : password123
     - Se connecter, accéder à /menu : Le bouton « Admin » n'est PAS visible
     - Accéder à /order : Le bouton « Admin » n'est PAS visible
     - Accéder à /cuisine : Le bouton « Admin » n'est PAS visible

1.5  Bouton Admin absent (utilisateur non connecté)
     - Ouvrir la page /menu sans être connecté
     - Le bouton « Admin » n'est PAS visible dans le header

1.6  Bouton Admin absent (pages login / signup)
     - Accéder à /login : Le bouton « Admin » n'est PAS visible
     - Accéder à /signup : Le bouton « Admin » n'est PAS visible

1.7  Bouton Quitter (page admin)
     Avec admin@restoqr.ca : password123
     - Se connecter, accéder à /admin
     - Le bouton « Quitter » est visible dans le header avec l'icône flèche
     - Un séparateur « | » est affiché entre Déconnexion et Quitter
     - Clic sur « Quitter » : Retour à la page précédente (ex: /menu)

1.8  Changement de langue
     - Clic sur le bouton « FR » dans le header
     - Un menu déroulant apparaît avec « Français » et « English »
     - Clic sur « English » : L'interface passe en anglais (labels, boutons, textes)
     - Le bouton affiche maintenant « EN »
     - Clic sur « EN » puis « Français » : L'interface revient en français
     - Rafraîchir la page : La langue choisie est conservée (localStorage)


================================================================================
MODULE 2 — Navigation par catégories
================================================================================

2.1  Sidebar desktop (écran large >= 900px)
     - Les catégories sont listées dans la sidebar de gauche
     - La première catégorie est active par défaut (style surligné)
     - Clic sur une autre catégorie : La page scrolle vers la section correspondante
     - La catégorie cliquée devient active (style surligné)

2.2  Dropdown mobile (écran < 900px)
     - Réduire la fenêtre sous 900px de largeur
     - La sidebar disparaît, un dropdown de catégories apparaît
     - Le dropdown affiche la catégorie active
     - Sélectionner une autre catégorie : La page scrolle vers la section correspondante

================================================================================
MODULE 3 — Recherche, tri et filtres (SSF)
================================================================================

3.1  Recherche par nom
     - Taper un nom d'item existant dans la barre de recherche (ex: « Burger »)
     - Après ~300ms, seuls les items correspondants s'affichent
     - Effacer la recherche : Tous les items réapparaissent

3.2  Recherche sans résultat
     - Taper un texte qui ne correspond à aucun item (ex: « xyzzzz »)
     - Le message « Aucun résultat trouvé » apparaît avec l'icône search_off

3.3  Tri par prix ascendant
     - Dans le dropdown « Trier par prix », sélectionner « Prix croissant »
     - Les items sont réordonnés du moins cher au plus cher

3.4  Tri par prix descendant
     - Sélectionner « Prix décroissant »
     - Les items sont réordonnés du plus cher au moins cher

3.5  Filtre prix minimum
     - Entrer une valeur dans le champ « Prix min » (ex: 10)
     - Seuls les items avec un prix >= 10 s'affichent
     - Entrer une valeur qui ne correspond à aucunu item (ex: 99999) : Aucun item ne s'affiche,
       message « Aucun résultat trouvé »

3.6  Filtre prix maximum
     - Entrer une valeur dans le champ « Prix max » (ex: 15)
     - Seuls les items avec un prix <= 15 s'affichent
     - Entrer une valeur qui ne correspond à aucunu item : Aucun item ne s'affiche,
       message « Aucun résultat trouvé »

3.7  Combinaison de filtres
     - Entrer prix min = 5, prix max = 20, et taper un terme de recherche
     - Seuls les items correspondant aux 3 critères s'affichent
     - Ajouter un tri par prix croissant : Les résultats filtrés sont triés

================================================================================
MODULE 4 — Affichage du menu
================================================================================

4.1  Chargement initial
     - Accéder à /menu
     - Un spinner de chargement (mat-spinner) s'affiche pendant le chargement
     - Une fois chargé, le spinner disparaît et les items s'affichent
     - Les items archivés ou indisponible ne sont PAS visible dans le menu (/menu) pour les clients ni les admins


4.2  Affichage des items par catégorie
     - Les items sont regroupés par catégorie avec un titre de section (h1)
     - Chaque carte affiche : nom, description, prix (CA$X.XX) et image
     - Un bouton « + » est visible sur chaque carte

4.3  Erreur de chargement
     - Si le serveur est inaccessible, un message d'erreur s'affiche dans un bandeau

4.4  Filtrage par disponibilité (utilisateur non connecté ou client)
     - Seuls les items ayant au moins une disponibilité actuellement active
       (start_at <= maintenant ET (end_at IS NULL OU end_at > maintenant)) sont visibles
     - Un item sans aucune disponibilité n'apparaît PAS dans le menu
     - Un item dont toutes les disponibilités sont passées n'apparaît PAS dans le menu

4.5  Filtrage par disponibilité (utilisateur admin — page /menu)
     - Même comportement que pour un client : seuls les items disponibles
       sont visibles dans le menu, même pour un admin connecté

================================================================================
MODULE 5 — Modal d'item
================================================================================

5.1  Ouverture de la modal
     - Clic sur une carte d'item : La modal s'ouvre
     - La modal affiche : image, nom, description, prix

5.2  Quantité — Incrémenter
     - La quantité par défaut est 1
     - Clic sur le bouton « + » : La quantité passe à 2
     - Le total se met à jour (prix × quantité)
     - Avec une quantité de 50, le bouton « + » est désactivé (grisé)

5.3  Quantité — Décrémenter
     - Avec une quantité de 2, clic sur « - » : La quantité passe à 1
     - Avec une quantité de 1, le bouton « - » est désactivé (grisé)

5.4  Note spéciale
     - Taper un texte dans le champ « Instructions spéciales » (ex: « Sans oignon »)
     - Le compteur de caractères s'affiche (ex: 11/255)
     - Maximum 255 caractères autorisés

5.5  Ajouter au panier
     - Sélectionner quantité = 2 et ajouter une note
     - Clic sur « Ajouter au panier — CA$XX.XX »
     - La modal se ferme
     - Le badge du panier dans le header se met à jour (+2)
     - Le sous-total du header se met à jour

5.6  Fermeture de la modal — Bouton X
     - Clic sur le bouton « X » en haut à droite : La modal se ferme
     - Aucun item n'est ajouté au panier

5.7  Fermeture de la modal — Clic overlay
     - Clic sur la zone grisée derrière la modal : La modal se ferme
     - Aucun item n'est ajouté au panier


================================================================================
================================================================================
                    Page : Administration des items (admin-items)
================================================================================

Identifiants utilisés :
  - Admin    : admin@restoqr.ca   / password123
  - Client   : client@restoqr.ca  / password123
  - Serveur  : waiter@restoqr.ca  / password123

================================================================================
MODULE 6 — Accès à la page admin
================================================================================

6.1  Accès sans être connecté
     - Ouvrir directement l'URL /admin dans le navigateur sans être connecté
     - Redirection automatique vers /login

6.2  Accès avec un compte client
     Avec client@restoqr.ca : password123
     - Se connecter puis accéder à /admin
     - Redirection automatique vers /menu

6.3  Accès avec un compte serveur
     Avec waiter@restoqr.ca : password123
     - Se connecter puis accéder à /admin
     - Redirection automatique vers /menu

6.4  Accès avec un compte admin
     Avec admin@restoqr.ca : password123
     - Se connecter puis accéder à /admin
     - La page d'administration s'affiche correctement

================================================================================
MODULE 7 — Affichage de la liste des items
================================================================================

7.1  Chargement initial
     Avec admin@restoqr.ca : password123
     - Se connecter et accéder à /admin/items
     - Un spinner de chargement s'affiche pendant le chargement
     - Une fois chargé, les items s'affichent en grille, trié par catégorie

7.2  Affichage des cartes (item actif et disponible)
     - Chaque carte affiche : image, nom, description,
       catégorie, prix (X.XX $)
     - Chaque carte a un bouton « modifier » (icône edit) et « supprimer »
       (icône delete)

7.3  Affichage des cartes (item archivé)
     - Les items archivés apparaissent dans la liste avec un style grisé
     - L'image est en niveaux de gris avec un badge « ARCHIVÉ » superposé
     - Le nom, la description, la catégorie et le prix sont atténués
     - La carte a uniquement un bouton « désarchiver » (icône unarchive)
     - Les boutons « modifier » et « supprimer » ne sont PAS visibles

7.4  Affichage des cartes (item indisponible)
     - Les items non archivés mais sans disponibilité active apparaissent
       avec le même style grisé que les items archivés
     - L'image est en niveaux de gris avec un badge « INDISPONIBLE » superposé
     - Le nom, la description, la catégorie et le prix sont atténués
     - Les boutons « modifier » et « supprimer » restent visibles (l'item n'est
       pas archivé)

7.5  Tous les items visibles dans le panneau admin
     Avec admin@restoqr.ca : password123
     - Les items actifs, archivés ET indisponibles apparaissent tous dans la
       liste du panneau admin
     - Aucun item n'est masqué, quelle que soit sa disponibilité

7.6  État vide
     - Si aucun item n'existe, le message « Aucun item trouvé » s'affiche

================================================================================
MODULE 8 — Création d'un item
================================================================================

8.1  Ouverture de la modal de création
     Avec admin@restoqr.ca : password123
     - Clic sur le bouton « + » à côté du titre : La modal s'ouvre
     - Le titre de la modal est « Ajouter un item »
     - Les champs sont vides (nom, description, prix à 0, catégorie par défaut)
     - La section « Disponibilités » est visible avec un bouton « + »

8.2  Validation — Nom requis
     - Laisser le champ « Nom » vide et cliquer sur « Ajouter »
     - Message d'erreur : « Le nom est requis »

8.3  Validation — Nom trop long
     - Entrer un nom de plus de 100 caractères
     - Message d'erreur : « Maximum 100 caractères »

8.4  Validation — Nom espaces seulement
     - Entrer uniquement des espaces dans le champ « Nom »
     - Message d'erreur : « Ne peut pas contenir uniquement des espaces »

8.5  Validation — Description trop longue
     - Entrer une description de plus de 255 caractères
     - Message d'erreur : « Maximum 255 caractères »

8.6  Validation — Prix requis
     - Vider le champ « Prix » et cliquer sur « Ajouter »
     - Message d'erreur : « Le prix est requis »

8.7  Validation — Prix négatif
     - Entrer un prix négatif (ex: -5)
     - Message d'erreur : « Le prix doit être >= 0 »

8.8  Validation — Prix trop élevé
     - Entrer un prix supérieur à 9999.99
     - Message d'erreur : « Le prix doit être <= 9999.99 »

8.9  Validation — Image format invalide
     - Sélectionner un fichier non JPG/PNG (ex: .gif, .pdf)
     - Message d'erreur : « L'image doit être un fichier JPG ou PNG. »

8.10 Validation — Image trop lourde
     - Sélectionner une image de plus de 5 MB
     - Message d'erreur : « L'image doit être inférieure à 5 MB. »

8.11 Validation — Image obligatoire
     - Remplir tous les champs sauf l'image et cliquer sur « Ajouter »
     - Message d'erreur : « L'image est obligatoire. »

8.12 Validation — Disponibilités
     - Voir les validations du MODULE 12 (12.3 à 12.8)

8.13 Création réussie
     - Remplir tous les champs avec des valeurs valides (nom, description,
       prix, catégorie) et sélectionner une image JPG/PNG valide
     - Clic sur « Ajouter »
     - La modal se ferme
     - Le nouvel item apparaît dans la liste

8.14 Annulation
     - Remplir des champs puis cliquer sur « Annuler »
     - La modal se ferme, aucun item n'est créé

================================================================================
MODULE 9 — Modification d'un item
================================================================================

9.1  Ouverture de la modal de modification
     Avec admin@restoqr.ca : password123
     - Clic sur l'icône « edit » d'un item existant
     - La modal s'ouvre avec le titre « Modifier l'item »
     - Les champs sont pré-remplis (nom, description, prix, catégorie)
     - L'aperçu de l'image existante est affiché
     - La section « Disponibilités » est visible avec les disponibilités
       existantes pré-chargées

9.2  Validations
     - Mêmes validations que la création (8.2 à 8.12)

9.3  Modification réussie
     - Modifier le nom et/ou le prix d'un item existant
     - Clic sur « Enregistrer »
     - La modal se ferme
     - L'item mis à jour s'affiche dans la liste avec les nouvelles valeurs

9.4  Remplacement d'image
     - Ouvrir la modification d'un item avec une image existante
     - Sélectionner une nouvelle image JPG/PNG valide
     - L'aperçu se met à jour avec la nouvelle image
     - Clic sur « Enregistrer » : L'image est remplacée

9.5  Annulation
     - Modifier des champs puis cliquer sur « Annuler »
     - La modal se ferme, l'item n'est pas modifié

================================================================================
MODULE 10 — Suppression / Archivage d'un item
================================================================================

10.1 Ouverture de la modal — Item non utilisé (hard delete)
     Avec admin@restoqr.ca : password123
     - Clic sur l'icône « delete » d'un item qui n'apparaît dans aucune commande
       ni aucun combo (ex: Carpaccio de Bœuf, Filet de Bar Grillé)
     - Une modal de confirmation s'ouvre
     - Le titre est « Supprimer l'item »
     - Le message demande de confirmer la suppression définitive de l'item

10.2 Ouverture de la modal — Item utilisé (soft delete / archivage)
     - Clic sur l'icône « delete » d'un item présent dans une commande
       ou un combo (ex: Tartare de Saumon, Magret de Canard)
     - Une modal de confirmation s'ouvre
     - Le titre est « Archiver l'item »
     - Le message demande de confirmer l'archivage
     - Un avertissement indique que l'item sera archivé et ne sera plus visible
       dans le menu

10.3 Annulation
     - Clic sur « Annuler » : La modal se ferme, l'item est inchangé
     - Clic sur le bouton « X » : Même résultat

10.4 Confirmation — Suppression définitive (item non utilisé)
     - Clic sur « Supprimer »
     - La modal se ferme
     - L'item disparaît définitivement de la liste

10.5 Confirmation — Archivage (item utilisé)
     - Clic sur « Archiver »
     - La modal se ferme
     - La carte de l'item passe immédiatement au style grisé avec le badge
       « ARCHIVÉ » sur l'image, sans rechargement de la page
     - L'item n'est plus visible sur la page /menu (clients)

================================================================================
MODULE 11 — Désarchivage d'un item
================================================================================

11.1 Ouverture de la modal de désarchivage
     Avec admin@restoqr.ca : password123
     - Clic sur l'icône « unarchive » d'un item archivé (style grisé)
     - Une modal de confirmation s'ouvre
     - Le titre est « Désarchiver l'item »
     - Le message demande de confirmer le désarchivage de l'item (avec son nom)

11.2 Annulation du désarchivage
     - Clic sur « Annuler » : La modal se ferme, l'item reste archivé
     - Clic sur le bouton « X » : Même résultat

11.3 Confirmation du désarchivage
     - Clic sur « Désarchiver »
     - La modal se ferme
     - La carte de l'item revient immédiatement au style normal (image en couleur,
       badge « ARCHIVÉ » disparu, textes normaux)
     - Les boutons « modifier » et « supprimer » réapparaissent
     - L'item est de nouveau visible sur la page /menu (clients) si au moins
       une disponibilité est active

================================================================================
MODULE 12 — Gestion des disponibilités
================================================================================

12.1 Affichage de la section Disponibilités
     Avec admin@restoqr.ca : password123
     - Ouvrir la modal de création ou de modification d'un item
     - La section « Disponibilités » est visible sous le formulaire principal
     - Un bouton « + » (icône add) est présent à droite du titre « Disponibilités »

12.2 Ajout d'une disponibilité
     - Clic sur le bouton « + » : Une nouvelle ligne apparaît avec 3 champs :
       « Début », « Fin (optionnel) », « Description »
     - Les champs sont de type datetime-local (saisie manuelle ou calendrier natif)

12.3 Validation — Date de début requise
     - Laisser le champ « Début » vide et cliquer sur « Ajouter »
     - Message d'erreur : « La date de début est requise. »

12.4 Validation — Date de début dans le passé
     - Entrer une date de début antérieure à la minute courante
     - Message d'erreur : « La date de début doit être dans le futur. »
     - Note : une date égale à la minute courante est acceptée

12.5 Validation — Date de fin invalide
     - Entrer une date de fin antérieure ou égale à la date de début
     - Message d'erreur : « La fin doit être après le début. »

12.6 Validation — Durée minimale
     - Entrer une date de fin moins d'une heure après la date de début
     - Message d'erreur : « Durée d'écart minimale : 1 heure. »

12.7 Validation — Description espaces seulement
     - Entrer uniquement des espaces dans le champ « Description »
     - Message d'erreur : « La description ne peut pas être composée uniquement
       d'espaces. »

12.8 Validation — Chevauchement de périodes
     - Ajouter deux disponibilités dont les périodes se chevauchent
     - Un message d'erreur « Cette période chevauche une autre disponibilité. »
       apparaît sous chacune des lignes en conflit
     - Le bouton « Ajouter » / « Enregistrer » reste désactivé tant que le
       chevauchement existe

12.9 Suppression d'une disponibilité
     - Clic sur l'icône « delete » (poubelle) à droite d'une ligne :
       La ligne disparaît immédiatement du formulaire

12.10 Sauvegarde des disponibilités (création)
     - Ajouter une ou plusieurs disponibilités valides dans la modal de création
     - Clic sur « Ajouter »
     - L'item est créé, puis les disponibilités sont enregistrées en base
     - La modal se ferme

12.11 Sauvegarde des disponibilités (modification)
     - Ouvrir la modal d'un item existant ayant des disponibilités
     - Les disponibilités existantes sont pré-chargées dans le formulaire
     - Modifier une date, ajouter une nouvelle ligne, supprimer une ligne existante
     - Clic sur « Enregistrer »
     - Seules les changements sont envoyés (créations, modifications, suppressions)
     - La modal se ferme

12.12 Impact sur le menu — Item sans disponibilité
     - Un item sans aucune disponibilité enregistrée apparaît avec le badge
       « INDISPONIBLE » dans le panneau admin
     - Ce même item n'est PAS visible sur la page /menu

12.13 Impact sur le menu — Item avec disponibilité active
     - Un item ayant au moins une disponibilité dont start_at <= maintenant
       et end_at IS NULL ou end_at > maintenant apparaît normalement dans le menu
     - Dans le panneau admin, sa carte n'affiche aucun badge

12.14 Impact sur le menu — Item avec disponibilité future uniquement
     - Un item dont toutes les disponibilités ont un start_at dans le futur
       n'est PAS visible dans le menu
     - Dans le panneau admin, sa carte affiche le badge « INDISPONIBLE »

12.15 Fin optionnelle (disponibilité ouverte)
     - Ajouter une disponibilité sans remplir le champ « Fin »
     - Aucune erreur n'est affichée (la fin est optionnelle)
     - L'item reste visible dans le menu indéfiniment à partir de la date de début

================================================================================
MODULE 13 — Traduction (admin-items)
================================================================================

13.1 Traduction en anglais
     Avec admin@restoqr.ca : password123
     - Changer la langue à « English » via le header
     - Le titre passe à « Items Management »
     - Les boutons passent en anglais (Add, Save, Cancel, Delete, Archive,
       Restore)
     - Les labels des champs passent en anglais (Name, Description, Price,
       Category, Image)
     - Les messages de validation passent en anglais
     - Les titres et messages des modals passent en anglais (Delete item,
       Archive item, Restore item)
     - Le badge « ARCHIVÉ » passe à « ARCHIVED »
     - Le badge « INDISPONIBLE » passe à « UNAVAILABLE »
     - Les labels de disponibilités passent en anglais (Start, End (optional),
       Description, Availabilities)
     - Les messages de validation des disponibilités passent en anglais

13.2 Traduction en français
     - Changer la langue à « Français » via le header
     - Tous les textes reviennent en français

13.3 Persistance de la langue
     - Changer la langue à « English »
     - Rafraîchir la page
     - L'interface reste en anglais

================================================================================
