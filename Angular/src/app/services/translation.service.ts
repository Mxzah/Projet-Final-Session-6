import { Injectable, signal } from '@angular/core';

export type Lang = 'fr' | 'en';

const TRANSLATIONS: Record<string, Record<Lang, string>> = {
  // Header
  'header.logout': { fr: 'Déconnexion', en: 'Logout' },
  'header.login': { fr: 'Connexion', en: 'Login' },
  'header.quit': { fr: 'Menu', en: 'Menu' },
  'header.admin': { fr: 'Admin', en: 'Admin' },
  'header.kitchen': { fr: 'Cuisine', en: 'Kitchen' },

  // Menu page
  'menu.categories': { fr: 'Catégories', en: 'Categories' },
  'menu.search': { fr: 'Rechercher un item...', en: 'Search an item...' },
  'menu.priceMin': { fr: 'Prix min', en: 'Min price' },
  'menu.priceMax': { fr: 'Prix max', en: 'Max price' },
  'menu.sortByPrice': { fr: 'Trier par prix', en: 'Sort by price' },
  'menu.priceAsc': { fr: 'Prix croissant', en: 'Price ascending' },
  'menu.priceDesc': { fr: 'Prix décroissant', en: 'Price descending' },
  'menu.category': { fr: 'Catégorie', en: 'Category' },
  'menu.noResults': { fr: 'Aucun item trouvé.', en: 'No items found.' },
  'menu.noItems': { fr: 'Aucun item dans cette catégorie.', en: 'No items in this category.' },
  'menu.subtotal': { fr: 'Sous-total', en: 'Subtotal' },
  'menu.yourOrder': { fr: 'Votre commande', en: 'Your order' },
  'menu.cartEmpty': { fr: 'Votre panier est vide.', en: 'Your cart is empty.' },
  'menu.modify': { fr: 'Modifier', en: 'Edit' },
  'menu.remove': { fr: 'Retirer', en: 'Remove' },
  'menu.continue': { fr: 'Continuer', en: 'Continue' },
  'menu.fromPrice': { fr: 'PRIX', en: 'PRICE' },
  'menu.priceNote': { fr: 'Le prix peut varier selon les options.', en: 'Price may vary depending on options.' },
  'menu.specialInstructions': { fr: 'Instructions spéciales (optionnel)', en: 'Special instructions (optional)' },
  'menu.specialPlaceholder': { fr: 'Ex: Sans oignon, extra sauce, bien cuit...', en: 'E.g.: No onion, extra sauce, well done...' },
  'menu.addToCart': { fr: 'Ajouter au panier', en: 'Add to cart' },
  'menu.item': { fr: 'item(s)', en: 'item(s)' },
  'menu.unit': { fr: '/ unit', en: '/ unit' },
  'menu.portion': { fr: 'portion', en: 'portion' },
  'menu.portions': { fr: 'portions', en: 'portions' },
  'menu.loadError': { fr: 'Erreur lors du chargement du menu', en: 'Error loading the menu' },
  'menu.goToOrder': { fr: 'Voir la commande', en: 'View order' },

  // Admin items
  'admin.itemsTitle': { fr: 'Gestion des items', en: 'Items management' },
  'admin.itemsSubtitle': { fr: 'Consultez les plats et boissons du restaurant.', en: 'Browse the restaurant dishes and drinks.' },
  'admin.noItems': { fr: 'Aucun item.', en: 'No items.' },
  'admin.addItem': { fr: 'Ajouter un item', en: 'Add an item' },
  'admin.editItem': { fr: "Modifier l'item", en: 'Edit item' },
  'admin.deleteItem': { fr: "Supprimer l'item", en: 'Delete item' },
  'admin.deleteConfirm': { fr: 'Voulez-vous vraiment supprimer', en: 'Are you sure you want to delete' },
  'admin.archiveItem': { fr: "Archiver l'item", en: 'Archive item' },
  'admin.archiveConfirm': { fr: 'Voulez-vous vraiment archiver', en: 'Are you sure you want to archive' },
  'admin.archiveWarning': { fr: "Cet item est utilisé dans des commandes ou des combos. Il sera archivé et ne sera plus visible dans le menu.", en: "This item is used in orders or combos. It will be archived and no longer visible in the menu." },
  'admin.archive': { fr: 'Archiver', en: 'Archive' },
  'admin.archived': { fr: 'Archivé', en: 'Archived' },
  'admin.restoreBtn': { fr: 'Désarchiver', en: 'Restore' },
  'admin.restoreItem': { fr: "Désarchiver l'item", en: 'Restore item' },
  'admin.restoreConfirm': { fr: 'Voulez-vous vraiment désarchiver', en: 'Are you sure you want to restore' },
  'admin.cancel': { fr: 'Annuler', en: 'Cancel' },
  'admin.delete': { fr: 'Supprimer', en: 'Delete' },
  'admin.name': { fr: 'Nom', en: 'Name' },
  'admin.description': { fr: 'Description', en: 'Description' },
  'admin.price': { fr: 'Prix ($)', en: 'Price ($)' },
  'admin.category': { fr: 'Catégorie', en: 'Category' },
  'admin.image': { fr: 'Image', en: 'Image' },
  'admin.save': { fr: 'Enregistrer', en: 'Save' },
  'admin.saving': { fr: 'Enregistrement...', en: 'Saving...' },
  'admin.add': { fr: 'Ajouter', en: 'Add' },
  'admin.nameRequired': { fr: 'Le nom est requis.', en: 'Name is required.' },
  'admin.nameMaxLength': { fr: 'Le nom ne doit pas dépasser 100 caractères.', en: 'Name must not exceed 100 characters.' },
  'admin.nameWhitespace': { fr: "Le nom ne peut pas être composé uniquement d'espaces.", en: 'Name cannot be only whitespace.' },
  'admin.descMaxLength': { fr: 'La description ne doit pas dépasser 255 caractères.', en: 'Description must not exceed 255 characters.' },
  'admin.descWhitespace': { fr: "La description ne peut pas être composée uniquement d'espaces.", en: 'Description cannot be only whitespace.' },
  'admin.priceRequired': { fr: 'Le prix est requis.', en: 'Price is required.' },
  'admin.priceMin': { fr: 'Le prix doit être supérieur ou égal à 0.', en: 'Price must be greater than or equal to 0.' },
  'admin.priceMax': { fr: 'Le prix ne doit pas dépasser 9999.99 $.', en: 'Price must not exceed $9999.99.' },
  'admin.categoryRequired': { fr: 'La catégorie est requise.', en: 'Category is required.' },
  'admin.imageRequired': { fr: "L'image est obligatoire.", en: 'Image is required.' },
  'admin.imageFormat': { fr: "L'image doit être un fichier JPG ou PNG.", en: 'Image must be a JPG or PNG file.' },
  'admin.imageSize': { fr: "L'image doit être inférieure à 5 MB.", en: 'Image must be less than 5 MB.' },
  'admin.createError': { fr: 'Erreur lors de la création', en: 'Error during creation' },
  'admin.editError': { fr: 'Erreur lors de la modification', en: 'Error during modification' },
  'admin.editBtn': { fr: 'Modifier', en: 'Edit' },
  'admin.deleteBtn': { fr: 'Supprimer', en: 'Delete' },

  // Admin tables
  'tables.title': { fr: 'Gestion des tables', en: 'Table management' },
  'tables.subtitle': { fr: 'Créez des tables, personnalisez et téléchargez vos QR codes.', en: 'Create tables, customize and download your QR codes.' },
  'tables.qrStyle': { fr: 'Style des QR codes', en: 'QR code style' },
  'tables.baseUrl': { fr: 'URL de base (pour les QR codes)', en: 'Base URL (for QR codes)' },
  'tables.dotPattern': { fr: 'Motif des points', en: 'Dot pattern' },
  'tables.dotColor': { fr: 'Couleur des points', en: 'Dot color' },
  'tables.cornerSquare': { fr: 'Coins (carré)', en: 'Corners (square)' },
  'tables.cornerDot': { fr: 'Coins (point)', en: 'Corners (dot)' },
  'tables.cornerColor': { fr: 'Couleur des coins', en: 'Corner color' },
  'tables.bgColor': { fr: 'Couleur du fond', en: 'Background color' },
  'tables.addTable': { fr: 'Ajouter une table', en: 'Add a table' },
  'tables.number': { fr: 'Numéro', en: 'Number' },
  'tables.capacity': { fr: 'Capacité', en: 'Capacity' },
  'tables.create': { fr: 'Créer', en: 'Create' },
  'tables.creating': { fr: 'Création...', en: 'Creating...' },
  'tables.noTables': { fr: 'Aucune table créée.', en: 'No tables created.' },
  'tables.seats': { fr: 'places', en: 'seats' },
  'tables.available': { fr: 'Disponible', en: 'Available' },
  'tables.occupied': { fr: 'Occupée', en: 'Occupied' },
  'tables.copyLink': { fr: 'Copier le lien', en: 'Copy link' },
  'tables.copy': { fr: 'Copier', en: 'Copy' },
  'tables.copied': { fr: 'Copié!', en: 'Copied!' },
  'tables.downloadSvg': { fr: 'Télécharger SVG', en: 'Download SVG' },
  'tables.downloadPng': { fr: 'Télécharger PNG', en: 'Download PNG' },
  'tables.edit': { fr: 'Modifier', en: 'Edit' },
  'tables.delete': { fr: 'Supprimer', en: 'Delete' },
  'tables.deleteTitle': { fr: 'Supprimer la table', en: 'Delete table' },
  'tables.deleteConfirm': { fr: 'Supprimer la table', en: 'Delete table' },
  'tables.deleting': { fr: 'Suppression...', en: 'Deleting...' },
  'tables.cancel': { fr: 'Annuler', en: 'Cancel' },
  'tables.editTitle': { fr: 'Modifier la table', en: 'Edit table' },
  'tables.save': { fr: 'Sauvegarder', en: 'Save' },
  'tables.saving': { fr: 'Sauvegarde...', en: 'Saving...' },
  'tables.createError': { fr: 'Erreur lors de la création.', en: 'Error during creation.' },
  'tables.editError': { fr: 'Erreur lors de la modification.', en: 'Error during modification.' },
  'tables.deleteError': { fr: 'Erreur lors de la suppression.', en: 'Error during deletion.' },

  // Order page
  'order.title': { fr: 'Votre commande', en: 'Your order' },
  'order.server': { fr: 'Serveur', en: 'Server' },
  'order.vibeNotSet': { fr: 'pas implémenté', en: 'not implemented' },
  'order.addItems': { fr: 'Ajouter +', en: 'Add +' },
  'order.linesTitle': { fr: 'Lignes de commande', en: 'Order lines' },
  'order.pendingBadge': { fr: "En attente de l'envoi", en: 'Pending' },
  'order.modify': { fr: 'Modifier', en: 'Edit' },
  'order.delete': { fr: 'Supprimer', en: 'Delete' },
  'order.subtotal': { fr: 'Sous-total', en: 'Subtotal' },
  'order.article': { fr: 'article', en: 'item' },
  'order.articles': { fr: 'articles', en: 'items' },
  'order.details': { fr: 'Détails', en: 'Details' },
  'order.tipDisplay': { fr: 'Pourboire : CA$', en: 'Tip: CA$' },
  'order.noDetails': { fr: 'Aucun détail ajouté.', en: 'No details added.' },
  'order.noteLabel': { fr: 'Note générale (optionnelle)', en: 'General note (optional)' },
  'order.notePlaceholder': { fr: "Ex: le petit garçon aux cheveux blonds fête son anniversaire", en: 'E.g.: the blond boy is celebrating his birthday' },
  'order.noteErrorSpaces': { fr: "La note ne peut pas être composée uniquement d'espaces.", en: 'Note cannot be only whitespace.' },
  'order.tipLabel': { fr: 'Pourboire (CA$)', en: 'Tip (CA$)' },
  'order.tipErrorNegative': { fr: 'Le pourboire ne peut pas être négatif.', en: 'Tip cannot be negative.' },
  'order.tipErrorMax': { fr: 'Le pourboire ne peut pas dépasser 999,99 CA$.', en: 'Tip cannot exceed CA$999.99.' },
  'order.send': { fr: 'Envoyer', en: 'Send' },
  'order.empty': { fr: 'Aucune commande en cours.', en: 'No current order.' },
  'order.status.sent': { fr: 'Envoyée', en: 'Sent' },
  'order.status.inPreparation': { fr: 'En préparation', en: 'In preparation' },
  'order.status.ready': { fr: 'Prête', en: 'Ready' },
  'order.status.served': { fr: 'Servie', en: 'Served' },

  // Order CRUD
  'order.editLine': { fr: "Modifier la ligne", en: 'Edit order line' },
  'order.deleteLine': { fr: "Supprimer la ligne", en: 'Delete order line' },
  'order.deleteLineConfirm': { fr: 'Voulez-vous vraiment supprimer', en: 'Are you sure you want to delete' },
  'order.deleteLineHardDelete': { fr: '(hard delete)', en: '(hard delete)' },
  'order.deleteOrder': { fr: "Supprimer la commande", en: 'Delete order' },
  'order.deleteOrderConfirm': { fr: 'Voulez-vous vraiment supprimer cette commande', en: 'Are you sure you want to delete this order' },
  'order.quantity': { fr: 'Quantité', en: 'Quantity' },
  'order.noteField': { fr: 'Note', en: 'Note' },
  'order.notePlaceholderLine': { fr: 'Ex: Sans oignon, bien cuit...', en: 'E.g.: No onion, well done...' },
  'order.quantityRequired': { fr: 'La quantité est requise.', en: 'Quantity is required.' },
  'order.quantityMin': { fr: 'Minimum 1.', en: 'Minimum 1.' },
  'order.quantityMax': { fr: 'Maximum 50.', en: 'Maximum 50.' },
  'order.editError': { fr: 'Erreur lors de la modification.', en: 'Error during modification.' },
  'order.deleteError': { fr: 'Erreur lors de la suppression.', en: 'Error during deletion.' },
  'order.serverNotImplemented': { fr: 'Serveur pas encore implémenté', en: 'Server not yet implemented' },
  'order.editNote': { fr: 'Modifier la note', en: 'Edit note' },
  'order.noteSaved': { fr: 'Note sauvegardée', en: 'Note saved' },
  'order.saveNote': { fr: 'Sauvegarder la note', en: 'Save note' },

  // Cuisine page
  'cuisine.eyebrow': { fr: 'Tableau de bord', en: 'Dashboard' },
  'cuisine.title': { fr: 'Cuisine', en: 'Kitchen' },
  'cuisine.subtitle': { fr: 'Commandes actives en temps réel', en: 'Active orders in real time' },
  'cuisine.loadError': { fr: 'Impossible de charger les commandes.', en: 'Unable to load orders.' },
  'cuisine.retry': { fr: 'Réessayer', en: 'Retry' },
  'cuisine.empty': { fr: 'Aucune commande active', en: 'No active orders' },
  'cuisine.table': { fr: 'Table', en: 'Table' },
  'cuisine.people': { fr: 'personne(s)', en: 'person(s)' },
  'cuisine.noServer': { fr: 'Aucun serveur assigné', en: 'No server assigned' },
  'cuisine.linesLabel': { fr: 'Lignes de commande', en: 'Order lines' },
  'cuisine.modify': { fr: 'Modifier', en: 'Edit' },
  'cuisine.delete': { fr: 'Supprimer', en: 'Delete' },
  'cuisine.tipDisplay': { fr: 'Pourboire : CA$', en: 'Tip: CA$' },
  'cuisine.orderedAt': { fr: 'Commandé le', en: 'Ordered on' },
  'cuisine.status.sent': { fr: 'Envoyée', en: 'Sent' },
  'cuisine.status.inPreparation': { fr: 'En préparation', en: 'In preparation' },
  'cuisine.status.ready': { fr: 'Prête', en: 'Ready' },
  'cuisine.status.served': { fr: 'Servie', en: 'Served' },

  // Admin users
  'admin.users.tab': { fr: 'Utilisateurs', en: 'Users' },
  'admin.users.title': { fr: 'Gestion des utilisateurs', en: 'User management' },
  'admin.users.subtitle': { fr: 'Consultez et gérez les comptes utilisateurs.', en: 'Browse and manage user accounts.' },
  'admin.users.noUsers': { fr: 'Aucun utilisateur.', en: 'No users.' },
  'admin.users.add': { fr: 'Ajouter un utilisateur', en: 'Add a user' },
  'admin.users.edit': { fr: "Modifier l'utilisateur", en: 'Edit user' },
  'admin.users.deleteTitle': { fr: "Supprimer l'utilisateur", en: 'Delete user' },
  'admin.users.deleteConfirm': { fr: 'Voulez-vous vraiment supprimer', en: 'Are you sure you want to delete' },
  'admin.users.createError': { fr: "Erreur lors de la création", en: 'Error during creation' },
  'admin.users.editError': { fr: "Erreur lors de la modification", en: 'Error during modification' },
  'admin.users.search': { fr: 'Rechercher...', en: 'Search...' },
  'admin.users.filterStatus': { fr: 'Statut', en: 'Status' },
  'admin.users.filterType': { fr: 'Type', en: 'Type' },
  'admin.users.sort': { fr: 'Tri', en: 'Sort' },
  'admin.users.sortDefault': { fr: 'Par défaut', en: 'Default' },
  'admin.users.sortAZ': { fr: 'A-Z', en: 'A-Z' },
  'admin.users.sortZA': { fr: 'Z-A', en: 'Z-A' },
  'admin.users.all': { fr: 'Tous', en: 'All' },
  'admin.users.block': { fr: 'Bloquer', en: 'Block' },
  'admin.users.activate': { fr: 'Activer', en: 'Activate' },
  'admin.users.firstName': { fr: 'Prénom', en: 'First name' },
  'admin.users.lastName': { fr: 'Nom', en: 'Last name' },
  'admin.users.email': { fr: 'Email', en: 'Email' },
  'admin.users.typeLabel': { fr: 'Type', en: 'Type' },
  'admin.users.statusLabel': { fr: 'Statut', en: 'Status' },
  'admin.users.password': { fr: 'Mot de passe', en: 'Password' },
  'admin.users.passwordConfirmation': { fr: 'Confirmer le mot de passe', en: 'Confirm password' },
  'admin.users.firstNameRequired': { fr: 'Le prénom est requis.', en: 'First name is required.' },
  'admin.users.firstNameMaxLength': { fr: 'Maximum 50 caractères.', en: 'Maximum 50 characters.' },
  'admin.users.firstNameWhitespace': { fr: "Le prénom ne peut pas être composé uniquement d'espaces.", en: 'First name cannot be only whitespace.' },
  'admin.users.lastNameRequired': { fr: 'Le nom est requis.', en: 'Last name is required.' },
  'admin.users.lastNameMaxLength': { fr: 'Maximum 50 caractères.', en: 'Maximum 50 characters.' },
  'admin.users.lastNameWhitespace': { fr: "Le nom ne peut pas être composé uniquement d'espaces.", en: 'Last name cannot be only whitespace.' },
  'admin.users.emailRequired': { fr: "L'email est requis.", en: 'Email is required.' },
  'admin.users.emailInvalid': { fr: "Format d'email invalide.", en: 'Invalid email format.' },
  'admin.users.passwordRequired': { fr: 'Le mot de passe est requis.', en: 'Password is required.' },
  'admin.users.passwordMinLength': { fr: 'Minimum 6 caractères.', en: 'Minimum 6 characters.' },
  'admin.users.passwordMaxLength': { fr: 'Maximum 128 caractères.', en: 'Maximum 128 characters.' },
  'admin.users.passwordConfirmationRequired': { fr: 'La confirmation est requise.', en: 'Confirmation is required.' },
  'admin.users.type.Administrator': { fr: 'Administrateur', en: 'Administrator' },
  'admin.users.type.Waiter': { fr: 'Serveur', en: 'Waiter' },
  'admin.users.type.Client': { fr: 'Client', en: 'Client' },
  'admin.users.type.Cook': { fr: 'Cuisinier', en: 'Cook' },
  'admin.users.status.active': { fr: 'Actif', en: 'Active' },
  'admin.users.status.inactive': { fr: 'Inactif', en: 'Inactive' },
  'admin.users.status.blocked': { fr: 'Bloqué', en: 'Blocked' },

  // Login page
  'login.welcome': { fr: 'Bienvenue sur RestoQR', en: 'Welcome to RestoQR' },
  'login.welcomeText': { fr: 'Votre solution de gestion de restaurant simplifiée.', en: 'Your simplified restaurant management solution.' },
  'login.title': { fr: 'Connexion', en: 'Login' },
  'login.subtitle': { fr: 'Entrer votre email et mot de passe.', en: 'Enter your email and password.' },
  'login.email': { fr: 'Email', en: 'Email' },
  'login.emailPlaceholder': { fr: 'ex: admin@restoqr.ca', en: 'e.g.: admin@restoqr.ca' },
  'login.emailRequired': { fr: "L'email est requis", en: 'Email is required' },
  'login.emailInvalid': { fr: "Format d'email invalide", en: 'Invalid email format' },
  'login.password': { fr: 'Mot de passe', en: 'Password' },
  'login.passwordPlaceholder': { fr: 'Votre mot de passe', en: 'Your password' },
  'login.passwordRequired': { fr: 'Le mot de passe est requis', en: 'Password is required' },
  'login.passwordMinLength': { fr: 'Minimum 6 caractères', en: 'Minimum 6 characters' },
  'login.passwordMaxLength': { fr: 'Maximum 128 caractères', en: 'Maximum 128 characters' },
  'login.submit': { fr: 'Se connecter', en: 'Log in' },
  'login.loading': { fr: 'Connexion...', en: 'Logging in...' },
  'login.createAccount': { fr: 'Créer un compte', en: 'Create an account' },
  'login.defaultError': { fr: 'Une erreur est survenue lors de la connexion', en: 'An error occurred during login' },

  // Signup page
  'signup.welcome': { fr: 'Nouveau sur RestoQR?', en: 'New to RestoQR?' },
  'signup.welcomeText': { fr: 'Créez votre compte en quelques instants.', en: 'Create your account in seconds.' },
  'signup.title': { fr: 'Inscription', en: 'Sign up' },
  'signup.subtitle': { fr: 'Remplissez les informations ci-dessous.', en: 'Fill in the information below.' },
  'signup.firstName': { fr: 'Prénom', en: 'First name' },
  'signup.firstNamePlaceholder': { fr: 'Votre prénom', en: 'Your first name' },
  'signup.firstNameRequired': { fr: 'Le prénom est requis', en: 'First name is required' },
  'signup.firstNameMaxLength': { fr: 'Maximum 50 caractères', en: 'Maximum 50 characters' },
  'signup.lastName': { fr: 'Nom', en: 'Last name' },
  'signup.lastNamePlaceholder': { fr: 'Votre nom', en: 'Your last name' },
  'signup.lastNameRequired': { fr: 'Le nom est requis', en: 'Last name is required' },
  'signup.lastNameMaxLength': { fr: 'Maximum 50 caractères', en: 'Maximum 50 characters' },
  'signup.email': { fr: 'Email', en: 'Email' },
  'signup.emailPlaceholder': { fr: 'ex: admin@restoqr.ca', en: 'e.g.: admin@restoqr.ca' },
  'signup.emailRequired': { fr: "L'email est requis", en: 'Email is required' },
  'signup.emailInvalid': { fr: "Format d'email invalide", en: 'Invalid email format' },
  'signup.password': { fr: 'Mot de passe', en: 'Password' },
  'signup.passwordPlaceholder': { fr: 'Minimum 6 caractères', en: 'Minimum 6 characters' },
  'signup.passwordRequired': { fr: 'Le mot de passe est requis', en: 'Password is required' },
  'signup.passwordMinLength': { fr: 'Minimum 6 caractères', en: 'Minimum 6 characters' },
  'signup.passwordMaxLength': { fr: 'Maximum 128 caractères', en: 'Maximum 128 characters' },
  'signup.passwordConfirmation': { fr: 'Confirmer le mot de passe', en: 'Confirm password' },
  'signup.passwordConfirmationPlaceholder': { fr: 'Confirmer le mot de passe', en: 'Confirm password' },
  'signup.passwordConfirmationRequired': { fr: 'La confirmation est requise', en: 'Confirmation is required' },
  'signup.passwordMismatch': { fr: 'Les mots de passe ne correspondent pas', en: 'Passwords do not match' },
  'signup.submit': { fr: 'Créer le compte', en: 'Create account' },
  'signup.loading': { fr: 'Inscription...', en: 'Signing up...' },
  'signup.loginLink': { fr: 'Déjà inscrit? Se connecter', en: 'Already have an account? Log in' },
  'signup.defaultError': { fr: "Échec de l'inscription", en: 'Sign up failed' },
};

@Injectable({ providedIn: 'root' })
export class TranslationService {
  lang = signal<Lang>((localStorage.getItem('lang') as Lang) || 'fr');

  t(key: string): string {
    const entry = TRANSLATIONS[key];
    if (!entry) return key;
    return entry[this.lang()] ?? entry['fr'] ?? key;
  }

  setLang(lang: Lang): void {
    this.lang.set(lang);
    localStorage.setItem('lang', lang);
  }
}
