import{a as p}from"./chunk-HALU6EK7.js";import{V as a,Z as m,r as t}from"./chunk-QXPTUTPQ.js";var s=class n{constructor(e){this.apiService=e}getItems(e){let i={};return e?.search&&(i.search=e.search),e?.sort&&e.sort!=="none"&&(i.sort=e.sort),e?.price_min!=null&&e.price_min>0&&(i.price_min=String(e.price_min)),e?.price_max!=null&&e.price_max>0&&(i.price_max=String(e.price_max)),e?.admin&&(i.admin="true"),this.apiService.get("/api/items",i).pipe(t(r=>r.data))}getItem(e){return this.apiService.get(`/api/items/${e}`).pipe(t(i=>i.data))}createItem(e){let i=this.buildFormData(e);return this.apiService.post("/api/items",i).pipe(t(r=>r.data))}updateItem(e,i){let r=this.buildFormData(i);return this.apiService.put(`/api/items/${e}`,r).pipe(t(o=>o.data))}softDeleteItem(e){return this.apiService.delete(`/api/items/${e}`)}hardDeleteItem(e){return this.apiService.delete(`/api/items/${e}/hard`)}restoreItem(e){return this.apiService.put(`/api/items/${e}/restore`,{})}buildFormData(e){let i=new FormData;for(let r of Object.keys(e))e[r]!==void 0&&e[r]!==null&&(e[r]instanceof File?i.append(`item[${r}]`,e[r]):i.append(`item[${r}]`,String(e[r])));return i}static \u0275fac=function(i){return new(i||n)(m(p))};static \u0275prov=a({token:n,factory:n.\u0275fac,providedIn:"root"})};export{s as a};
