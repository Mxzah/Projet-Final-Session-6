import{a as oe,b as ae}from"./chunk-2AQAJZHF.js";import{a as _e}from"./chunk-EKA3UVVS.js";import{a as pe,b as ge}from"./chunk-ROZZO4PU.js";import{c as Y,h as J}from"./chunk-3BQBFXV3.js";import{a as fe}from"./chunk-QS33DWXP.js";import{a as de,c as le,e as ce,g as se}from"./chunk-NPE3J6VK.js";import{a as ue}from"./chunk-W4RF6HJM.js";import{D as K,E as Q,H as X,I as Z,b as $,f as B,k as U,t as G,u as H,w as W}from"./chunk-FLJ6PJLF.js";import{c as me}from"./chunk-3TXLFX2C.js";import{ga as ee,ha as te,ka as ne,la as ie,ma as re}from"./chunk-D5QILQE7.js";import{a as R}from"./chunk-CDTCJ4FF.js";import{c as A}from"./chunk-PJCREBP6.js";import{i as F}from"./chunk-F3C3U3PJ.js";import{b as q}from"./chunk-67GKTUIW.js";import"./chunk-ZIWWK3EM.js";import{Bb as N,Cb as D,Db as b,Eb as i,Fb as r,Gb as y,Lb as O,Pb as u,Rb as c,Sa as I,Ua as o,ac as z,bb as h,bc as L,cc as T,da as C,dc as a,ea as x,ec as f,fc as v,gc as w,hb as k,hc as V,lc as j,qa as m,tc as M,x as S,xb as p,yb as g,zb as E}from"./chunk-AI52TPR3.js";function xe(n,t){if(n&1&&(i(0,"div",2),a(1),r()),n&2){let e=c();o(),f(e.loadError())}}function ve(n,t){if(n&1&&(i(0,"div",2),a(1),r()),n&2){let e=c();o(),f(e.actionError())}}function he(n,t){if(n&1){let e=O();i(0,"mat-card",3)(1,"mat-card-content")(2,"mat-icon",5),a(3,"receipt_long"),r(),i(4,"p"),a(5),r(),i(6,"button",6),u("click",function(){C(e);let l=c();return x(l.onAddItems())}),y(7,"mat-icon",5),a(8),r()()()}if(n&2){let e=c();o(5),f(e.ts.t("order.empty")),o(3),v(" ",e.ts.t("order.addItems")," ")}}function be(n,t){if(n&1&&(i(0,"span",10)(1,"mat-icon"),a(2,"people"),r(),a(3),r()),n&2){let e=c(2);o(3),w(" ",e.existingNbPeople()," ",e.ts.t("order.people")," ")}}function Oe(n,t){if(n&1&&(i(0,"span",23),a(1),r()),n&2){let e=c(2);z("background-color",(e.existingVibeColor()??"#C87941")+"22")("color",e.existingVibeColor()??"#C87941"),o(),v(" \u2726 ",e.existingVibeName()," ")}}function Me(n,t){if(n&1&&(i(0,"div",27),y(1,"img",38),r()),n&2){let e=c().$implicit;o(),b("src",e.image_url,I)("alt",e.name)}}function Pe(n,t){if(n&1&&(i(0,"span"),a(1),r()),n&2){let e=c().$implicit,d=c(2);T(j("status-chip ",d.getStatusClass(e.status))),o(),f(d.getStatusLabel(e.status))}}function ye(n,t){if(n&1&&(i(0,"span",32),a(1),r()),n&2){let e=c(3);o(),f(e.ts.t("order.pendingBadge"))}}function we(n,t){if(n&1&&(i(0,"p",34)(1,"mat-icon",5),a(2,"sticky_note_2"),r(),i(3,"span"),a(4),r()()),n&2){let e=c().$implicit;o(4),f(e.note)}}function Se(n,t){if(n&1){let e=O();i(0,"mat-card-actions",37)(1,"button",39),u("click",function(){C(e);let l=c().$implicit,s=c(2);return x(s.openEditLine(l))}),i(2,"mat-icon"),a(3,"edit"),r()(),i(4,"button",40),u("click",function(){C(e);let l=c().$implicit,s=c(2);return x(s.confirmDeleteLine(l))}),i(5,"mat-icon"),a(6,"delete"),r()()()}if(n&2){let e=c(3);o(),b("title",e.ts.t("order.modify")),o(3),b("title",e.ts.t("order.delete"))}}function Ie(n,t){if(n&1&&(i(0,"mat-card",24)(1,"mat-card-content",25)(2,"div",26),p(3,Me,2,2,"div",27),i(4,"div",28)(5,"div",29)(6,"h3",30),a(7),r(),p(8,Pe,2,4,"span",31)(9,ye,2,1,"span",32),r(),i(10,"p",33),a(11),r(),p(12,we,5,1,"p",34),r(),i(13,"div",35)(14,"span"),a(15,"Total"),r(),i(16,"strong",36),a(17),r()()(),p(18,Se,7,2,"mat-card-actions",37),r()()),n&2){let e=t.$implicit,d=c(2);L("pending-line",e.status==="pending"),o(3),g(e.image_url?3:-1),o(4),f(e.name),o(),g(e.status!=="pending"?8:9),o(3),w("",e.quantity," x CA$",e.unit_price.toFixed(2)),o(),g(e.note?12:-1),o(5),v("CA$",(e.unit_price*e.quantity).toFixed(2)),o(),g(d.canModifyLine(e)?18:-1)}}function ke(n,t){if(n&1){let e=O();i(0,"div",42)(1,"mat-icon"),a(2,"sticky_note_2"),r(),i(3,"span"),a(4),r(),i(5,"button",39),u("click",function(){C(e);let l=c(3);return x(l.openEditNote())}),i(6,"mat-icon"),a(7,"edit"),r()()()}if(n&2){let e=c(3);o(4),f(e.existingNote()||e.ts.t("order.noNote")),o(),b("title",e.ts.t("order.editNote"))}}function Ee(n,t){if(n&1){let e=O();i(0,"mat-form-field",43)(1,"mat-label"),a(2),r(),i(3,"textarea",44),u("ngModelChange",function(l){C(e);let s=c(3);return x(s.noteInput.set(l))}),r()(),i(4,"div",45)(5,"button",46),u("click",function(){C(e);let l=c(3);return x(l.saveNote())}),i(6,"mat-icon"),a(7,"save"),r(),a(8),r(),i(9,"button",47),u("click",function(){C(e);let l=c(3);return x(l.cancelEditNote())}),a(10),r()()}if(n&2){let e=c(3);o(2),f(e.ts.t("order.editNote")),o(),b("ngModel",e.noteInput()),o(2),b("disabled",e.isSavingNote()),o(3),v(" ",e.ts.t("order.save")," "),o(2),v(" ",e.ts.t("order.cancel")," ")}}function Ne(n,t){if(n&1&&(i(0,"mat-card",19)(1,"mat-card-content",41),p(2,ke,8,2,"div",42)(3,Ee,11,5),r()()),n&2){let e=c(2);o(2),g(e.editingNote()?3:2)}}function De(n,t){if(n&1){let e=O();i(0,"button",6),u("click",function(){C(e);let l=c(2);return x(l.goToPay())}),i(1,"mat-icon",5),a(2,"payment"),r(),a(3),r()}if(n&2){let e=c(2);o(3),v(" ",e.ts.t("order.pay")," ")}}function ze(n,t){if(n&1){let e=O();i(0,"button",46),u("click",function(){C(e);let l=c(2);return x(l.onSend())}),i(1,"mat-icon",5),a(2,"send"),r(),a(3),r()}if(n&2){let e=c(2);b("disabled",e.pendingCount()===0||e.isSending()),o(3),v(" ",e.ts.t("order.send")," ")}}function Le(n,t){if(n&1){let e=O();i(0,"div",4)(1,"div",7)(2,"h1",8),a(3),r(),i(4,"div",9),p(5,be,4,2,"span",10),p(6,Oe,2,5,"span",11),i(7,"div",12)(8,"mat-icon"),a(9,"person"),r(),i(10,"span"),a(11),i(12,"strong"),a(13),r()()()(),i(14,"button",6),u("click",function(){C(e);let l=c();return x(l.onAddItems())}),y(15,"mat-icon",5),a(16),r()(),i(17,"div",13)(18,"h2",14),a(19),r(),N(20,Ie,19,10,"mat-card",15,E),r(),i(22,"mat-card",16)(23,"div",17)(24,"span"),a(25),r(),i(26,"span",18),a(27),r()()(),p(28,Ne,4,1,"mat-card",19),y(29,"mat-divider"),i(30,"div",20),p(31,De,4,1,"button",21)(32,ze,4,2,"button",22),r()()}if(n&2){let e=c();o(3),f(e.ts.t("order.title")),o(2),g(e.existingNbPeople()?5:-1),o(),g(e.existingVibeName()?6:-1),o(5),v("",e.ts.t("order.server"),": "),o(2),f(e.ts.t("order.serverNotImplemented")),o(3),v(" ",e.ts.t("order.addItems")," "),o(3),f(e.ts.t("order.linesTitle")),o(),D(e.lines()),o(5),V("",e.ts.t("order.subtotal")," (",e.totalItems()," ",e.totalItems()>1?e.ts.t("order.articles"):e.ts.t("order.article"),")"),o(2),v("CA$",e.subtotal().toFixed(2)),o(),g(e.openOrderId()!==null?28:-1),o(3),g(e.allServed()?31:32)}}var Ce=class n{constructor(t,e,d,l,s,P,_){this.cartService=t;this.ts=e;this.authService=d;this.orderService=l;this.router=s;this.dialog=P;this.errorService=_}pollingInterval=null;openOrderId=m(null);serverLines=m([]);isSending=m(!1);loadError=m("");actionError=m("");existingNote=m(null);existingVibeName=m(null);existingVibeColor=m(null);existingNbPeople=m(null);editingNote=m(!1);noteInput=m("");isSavingNote=m(!1);pendingLines=M(()=>this.cartService.lines().map((t,e)=>({id:-1-e,quantity:t.quantity,unit_price:t.unit_price,note:t.note,status:"pending",name:t.name,image_url:t.image_url||null})));lines=M(()=>[...this.serverLines(),...this.pendingLines()]);subtotal=M(()=>this.lines().reduce((t,e)=>t+e.unit_price*e.quantity,0));totalItems=M(()=>this.lines().reduce((t,e)=>t+e.quantity,0));pendingCount=M(()=>this.cartService.lines().length);allServed=M(()=>{let t=this.serverLines();return t.length>0&&t.every(e=>e.status==="served")&&this.pendingCount()===0});ngOnInit(){this.loadOpenOrder(),this.pollingInterval=setInterval(()=>this.loadOpenOrder(),1e4)}ngOnDestroy(){this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null)}mapApiLine(t){return{id:t.id,quantity:t.quantity,unit_price:t.unit_price,note:t.note,status:t.status,name:t.orderable_name||`${t.orderable_type} #${t.orderable_id}`,image_url:t.image_url||null}}loadOpenOrder(){this.loadError.set(""),this.orderService.getOrders().subscribe({next:t=>{let d=(t.data||[]).find(l=>!l.ended_at)||null;if(!d){this.openOrderId.set(null),this.serverLines.set([]),this.existingNote.set(null),this.existingVibeName.set(null),this.existingVibeColor.set(null),this.existingNbPeople.set(null);return}this.openOrderId.set(d.id),this.existingNote.set(d.note||null),this.existingVibeName.set(d.vibe_name??null),this.existingVibeColor.set(d.vibe_color??null),this.existingNbPeople.set(d.nb_people??null),this.serverLines.set((d.order_lines||[]).map(l=>this.mapApiLine(l)))},error:t=>{this.loadError.set(this.errorService.format(this.errorService.fromApiError(t))),this.openOrderId.set(null),this.serverLines.set([])}})}getStatusClass(t){return{sent:"status-sent",in_preparation:"status-prep",ready:"status-ready",served:"status-served"}[t]??""}getStatusLabel(t){let e={sent:"order.status.sent",in_preparation:"order.status.inPreparation",ready:"order.status.ready",served:"order.status.served"};return e[t]?this.ts.t(e[t]):""}canModifyLine(t){return t.status==="sent"||t.status==="pending"}openEditLine(t){let e=t.id<0,d={itemName:t.name,quantity:t.quantity,note:t.note};this.dialog.open(ge,{data:d,width:"440px",maxHeight:"90vh"}).afterClosed().subscribe(s=>{if(!s)return;if(e){let _=-t.id-1;this.cartService.updateLine(_,{quantity:s.quantity,note:s.note});return}let P=this.openOrderId();P&&(this.actionError.set(""),this.orderService.updateOrderLine(P,t.id,{quantity:s.quantity,note:s.note}).subscribe({next:()=>this.loadOpenOrder(),error:_=>{this.actionError.set(this.errorService.format(this.errorService.fromApiError(_)))}}))})}confirmDeleteLine(t){let e=t.id<0,d={title:this.ts.t("order.deleteLine"),message:this.ts.t("order.deleteLineConfirm"),itemName:t.name,warning:e?this.ts.t("order.cartRemoveInfo"):this.ts.t("order.hardDeleteWarning"),confirmLabel:this.ts.t("admin.delete"),confirmClass:"btn-danger"};this.dialog.open(pe,{data:d,width:"440px",maxHeight:"90vh"}).afterClosed().subscribe(s=>{if(!s)return;if(e){let _=-t.id-1;this.cartService.removeLine(_);return}let P=this.openOrderId();P&&(this.actionError.set(""),this.orderService.deleteOrderLine(P,t.id).subscribe({next:_=>{_.success?this.loadOpenOrder():this.actionError.set(this.errorService.format(this.errorService.fromApiError(_)))},error:_=>{this.actionError.set(this.errorService.format(this.errorService.fromApiError(_)))}}))})}onSend(){let t=this.cartService.lines(),e=this.openOrderId();if(t.length===0||this.isSending())return;if(!e){this.actionError.set(this.ts.t("order.noOrderRedirect")),this.router.navigate(["/form"]);return}this.isSending.set(!0),this.actionError.set("");let d=t.map(l=>this.orderService.createOrderLine(e,{quantity:l.quantity,note:l.note,orderable_type:l.orderable_type,orderable_id:l.orderable_id}));S(d).subscribe({next:()=>{this.cartService.clear(),this.loadOpenOrder()},error:l=>{this.actionError.set(this.errorService.format(this.errorService.fromApiError(l))),this.isSending.set(!1)},complete:()=>{this.isSending.set(!1)}})}openEditNote(){this.noteInput.set(this.existingNote()??""),this.editingNote.set(!0)}cancelEditNote(){this.editingNote.set(!1)}saveNote(){let t=this.openOrderId();!t||this.isSavingNote()||(this.isSavingNote.set(!0),this.orderService.updateOrder(t,{note:this.noteInput()}).subscribe({next:()=>{this.editingNote.set(!1),this.isSavingNote.set(!1),this.loadOpenOrder()},error:e=>{this.actionError.set(this.errorService.format(this.errorService.fromApiError(e))),this.isSavingNote.set(!1)}}))}onAddItems(){this.router.navigate(["/menu"])}goToPay(){this.router.navigate(["/pay"])}goBack(){this.router.navigate(["/menu"])}logout(){this.cartService.clear(),this.authService.logout().subscribe({next:t=>{t?.success&&this.router.navigate(["/login"])},error:()=>{localStorage.removeItem("currentUser"),this.router.navigate(["/login"])}})}static \u0275fac=function(e){return new(e||n)(h(fe),h(q),h(R),h(ue),h(A),h(Y),h(_e))};static \u0275cmp=k({type:n,selectors:[["app-order"]],decls:6,vars:3,consts:[[3,"logoutClick"],[1,"order-page"],[1,"order-error"],["appearance","outlined",1,"empty-state"],[1,"order-container"],["aria-hidden","true"],["mat-raised-button","","color","primary",3,"click"],[1,"order-header"],[1,"order-title"],[1,"server-vibe-row"],[1,"people-badge"],[1,"vibe-badge-header",3,"background-color","color"],[1,"server-info"],[1,"order-lines"],[1,"section-title"],["appearance","outlined",1,"order-line-card",3,"pending-line"],["appearance","outlined",1,"order-summary"],[1,"summary-row"],[1,"summary-price"],["appearance","outlined",1,"order-details-card"],[1,"order-actions"],["mat-raised-button","","color","primary"],["mat-raised-button","","color","primary",3,"disabled"],[1,"vibe-badge-header"],["appearance","outlined",1,"order-line-card"],[1,"line-content"],[1,"line-main"],[1,"line-image"],[1,"line-info"],[1,"line-head"],[1,"line-name"],[3,"class"],[1,"pending-badge"],[1,"line-details"],[1,"line-note"],[1,"line-total"],[1,"line-price"],[1,"item-actions"],["loading","lazy",3,"src","alt"],["mat-icon-button","",1,"action-btn","edit",3,"click","title"],["mat-icon-button","",1,"action-btn","delete",3,"click","title"],[1,"details-content"],[1,"detail-item"],["appearance","outline",1,"note-field"],["matInput","","rows","2","maxlength","255",3,"ngModelChange","ngModel"],[1,"note-actions"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-button","",3,"click"]],template:function(e,d){e&1&&(i(0,"app-header",0),u("logoutClick",function(){return d.logout()}),r(),i(1,"main",1),p(2,xe,2,1,"div",2),p(3,ve,2,1,"div",2),p(4,he,9,2,"mat-card",3)(5,Le,33,13,"div",4),r()),e&2&&(o(2),g(d.loadError()?2:-1),o(),g(d.actionError()?3:-1),o(),g(d.lines().length===0?4:5))},dependencies:[F,J,me,ne,te,ee,se,de,ce,le,ae,oe,re,ie,Q,K,W,Z,X,H,$,B,G,U],styles:['@import"https://fonts.googleapis.com/css2?family=Fraunces:wght@500;700&family=Space+Grotesk:wght@400;500;600&display=swap";[_nghost-%COMP%]{--ink: #1b1a17;--clay: #f3ede4;--sand: #fbf8f2;--copper: #c86d3f;--rust: #8a3f24;--sage: #7a8f6a;--shadow: 0 25px 60px rgba(27, 26, 23, .18);display:block;min-height:100vh;overflow-x:clip;overflow-y:visible;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);color:var(--ink);font-family:Space Grotesk,Segoe UI,sans-serif}[_nghost-%COMP%]:before, [_nghost-%COMP%]:after{content:"";position:fixed;inset:auto auto 8% -10%;width:320px;height:320px;background:conic-gradient(from 120deg,#c86d3f26,#7a8f6a26);border-radius:50%;filter:blur(10px);z-index:0}[_nghost-%COMP%]:after{inset:-5% -10% auto auto;width:280px;height:280px;background:radial-gradient(circle,rgba(200,109,63,.2),transparent 70%)}.page[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:minmax(280px,560px);justify-content:center;align-items:start;padding:1rem clamp(1rem,3vw,3rem) 1.5rem}.site-header[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;align-items:center;justify-content:space-between;padding:1rem clamp(1rem,3vw,3rem);background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff}.brand[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;letter-spacing:.3rem;text-transform:uppercase;color:#fff}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.panel[_ngcontent-%COMP%]{background:var(--sand);border-radius:24px;padding:1.5rem 2rem;box-shadow:var(--shadow);border:1px solid rgba(27,26,23,.08);animation:_ngcontent-%COMP%_float-in .8s ease forwards}.panel__header[_ngcontent-%COMP%]{display:grid;gap:.25rem;margin-bottom:1rem}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.2rem;font-size:.75rem;color:var(--rust);margin:0}h1[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:clamp(2rem,3vw,2.6rem);margin:0}.subtitle[_ngcontent-%COMP%]{margin:0;color:#1b1a17b3}.form[_ngcontent-%COMP%]{display:grid;gap:.75rem}.field[_ngcontent-%COMP%]{display:grid;gap:.25rem}label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border:1px solid rgba(27,26,23,.2);border-radius:12px;padding:.65rem .875rem;font-size:.95rem;background:#fff;transition:border-color .2s ease,box-shadow .2s ease}input[_ngcontent-%COMP%]:not([matInput]):focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--copper);box-shadow:0 0 0 3px #c86d3f33}.form__actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;margin-top:.5rem}button[_ngcontent-%COMP%]{border-radius:999px;padding:.65rem 1.5rem;font-size:.9rem;font-weight:600;cursor:pointer;border:none}.primary[_ngcontent-%COMP%]{background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff;box-shadow:0 12px 25px #8a3f2459}.ghost[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(27,26,23,.2);color:var(--ink)}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]{border-color:#fff6;color:#fff}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]:hover{background:#ffffff26}@keyframes _ngcontent-%COMP%_float-in{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media(max-width:900px){.page[_ngcontent-%COMP%]{min-height:auto}}@media(max-width:600px){.panel[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-radius:20px}.site-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.form__actions[_ngcontent-%COMP%]{flex-direction:column}button[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{font-size:1.75rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.95rem}}@media(max-width:400px){[_nghost-%COMP%]{overflow-x:clip;overflow-y:visible}.page[_ngcontent-%COMP%]{padding:1.5rem 1rem 3rem;grid-template-columns:1fr}.panel[_ngcontent-%COMP%]{padding:1.5rem 1rem;border-radius:16px}.site-header[_ngcontent-%COMP%]{padding:1rem 1rem 0}h1[_ngcontent-%COMP%]{font-size:1.5rem}.subtitle[_ngcontent-%COMP%]{font-size:.9rem}label[_ngcontent-%COMP%]{font-size:.875rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border-radius:10px;padding:.7rem .75rem;font-size:.9rem}button[_ngcontent-%COMP%]{padding:.7rem 1.2rem;font-size:.9rem}}.order-page[_ngcontent-%COMP%]{padding:1.5rem clamp(1rem,3vw,3rem) 2.5rem;min-height:calc(100vh - 60px);max-width:940px;margin:0 auto}.order-error[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.1rem;background:#fff3f0;border-radius:12px;color:var(--rust);font-size:.9rem;margin-bottom:1rem}.order-container[_ngcontent-%COMP%]{display:grid;gap:1.25rem}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:240px;gap:1rem;text-align:center}.empty-state[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:grid;gap:.75rem;justify-items:center}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem;color:#1b1a178c}.empty-state[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{justify-content:center}.order-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.75rem;margin-bottom:1rem}.order-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:clamp(1.5rem,2.5vw,2rem);margin:0;color:var(--ink)}.section-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:1.2rem;margin:0 0 1rem;color:var(--ink)}.order-lines[_ngcontent-%COMP%]{display:grid;gap:.9rem}.order-line-card[_ngcontent-%COMP%]{overflow:hidden}.line-content[_ngcontent-%COMP%]{display:grid;gap:1rem;padding:1.1rem 1.2rem}.line-main[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;gap:1rem}.line-image[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:12px;overflow:hidden;flex-shrink:0;background:var(--clay)}.line-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.line-info[_ngcontent-%COMP%]{flex:1}.line-head[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.75rem;flex-wrap:wrap;margin-bottom:.45rem}.line-name[_ngcontent-%COMP%]{font-weight:600;font-size:1.05rem;margin:0;color:var(--ink)}.line-details[_ngcontent-%COMP%]{font-size:.9rem;color:#1b1a1799;margin:0}.line-note[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.35rem;font-size:.83rem;color:#1b1a1780;margin:.35rem 0 0}.line-note[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:1rem;height:1rem;font-size:1rem}.line-total[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:.2rem;min-width:136px;color:#1b1a17b3;font-size:.8rem;text-transform:uppercase;letter-spacing:.05em}.line-price[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem;color:var(--ink);white-space:nowrap;text-transform:none;letter-spacing:normal}.order-summary[_ngcontent-%COMP%]{padding:.2rem 1.25rem}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:1.1rem;font-weight:600;color:var(--ink)}.summary-price[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:1.5rem;font-weight:700}.order-details-card[_ngcontent-%COMP%]{padding:.25rem 0}.details-title[_ngcontent-%COMP%]{font-size:1rem!important;font-weight:600;color:var(--ink)}.details-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;padding:.5rem 1.25rem 1.25rem!important}.detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem;font-size:.95rem;color:var(--ink)}.detail-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.1rem;width:1.1rem;height:1.1rem;color:var(--copper)}.vibe-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .85rem;border-radius:999px;font-weight:600;font-size:.9rem;align-self:flex-start}.no-details[_ngcontent-%COMP%]{color:#1b1a1773;font-size:.9rem;margin:0}.full-width[_ngcontent-%COMP%]{width:100%}.order-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem;flex-wrap:wrap}.order-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:130px}button[mat-raised-button].mat-primary[_ngcontent-%COMP%], button[mat-raised-button][color=primary][_ngcontent-%COMP%]{background:linear-gradient(120deg,var(--copper),var(--rust))!important;color:#fff!important}.status-chip[_ngcontent-%COMP%]{flex-shrink:0;padding:.2rem .65rem;border-radius:999px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05rem}.status-sent[_ngcontent-%COMP%]{background:#fff3e0;color:#e65100}.status-prep[_ngcontent-%COMP%]{background:#e3f2fd;color:#1565c0}.status-ready[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32}.status-served[_ngcontent-%COMP%]{background:#f5f5f5;color:#757575}.server-vibe-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.6rem;flex-wrap:wrap}.server-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem;font-size:.95rem;color:var(--ink)}.server-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.1rem;width:1.1rem;height:1.1rem;color:var(--copper)}.people-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.25rem;padding:.2rem .65rem;border-radius:999px;font-size:.82rem;font-weight:600;background:#1b1a1712;color:var(--ink)}.people-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.vibe-badge-header[_ngcontent-%COMP%]{padding:.2rem .75rem;border-radius:999px;font-weight:600;font-size:.82rem}.pending-line[_ngcontent-%COMP%]{border-left:3px solid var(--copper)!important;opacity:.85}.pending-badge[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;color:var(--copper);background:#c86d3f1f;padding:.2rem .65rem;border-radius:999px;white-space:nowrap}.item-actions[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-end;gap:.25rem;padding:0!important;margin:0!important}.action-btn[_ngcontent-%COMP%]{color:#1b1a1773!important;width:36px!important;height:36px!important;padding:0!important;border-radius:50%!important;display:flex!important;align-items:center!important;justify-content:center!important}.action-btn[_ngcontent-%COMP%]:hover{color:var(--ink)!important}.action-btn.delete[_ngcontent-%COMP%]:hover{color:var(--rust)!important}.action-btn.edit[_ngcontent-%COMP%]:hover{color:var(--gold, #C87941)!important}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0006;display:flex;align-items:center;justify-content:center;z-index:100}.modal[_ngcontent-%COMP%]{position:relative;background:var(--sand)!important;border-radius:16px!important;padding:1.5rem!important;max-width:400px;width:90%;box-shadow:0 12px 40px #00000026!important;max-height:90vh;overflow-y:auto}.modal-close[_ngcontent-%COMP%]{position:sticky!important;top:0;float:right;margin-left:auto;z-index:10;width:36px!important;height:36px!important;padding:0!important;border-radius:50%!important;background:#fff!important;border:1px solid rgba(27,26,23,.1)!important;display:flex!important;align-items:center!important;justify-content:center!important;color:var(--ink)!important}.modal-close[_ngcontent-%COMP%]:hover{background:var(--clay)!important}.modal[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:0!important;margin:0!important}.modal-edit[_ngcontent-%COMP%]{max-width:420px}.modal-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif!important;font-size:1.25rem!important;margin:0 0 .75rem!important;color:var(--ink)!important;padding:0!important}.modal-text[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:.9rem;color:#1b1a17b3}.modal-hard-delete[_ngcontent-%COMP%]{font-size:.8rem;color:var(--rust);font-style:italic;margin:-1rem 0 1rem}.modal-item-name[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:var(--ink);margin:0 0 1rem}.modal[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0!important}.modal-error[_ngcontent-%COMP%]{background:#dc35451a;color:#dc3545;padding:.5rem .75rem;border-radius:8px;font-size:.85rem;margin-bottom:1rem}.modal-field-full[_ngcontent-%COMP%]{width:100%;margin-bottom:.25rem}  .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__leading,   .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__notch,   .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__trailing{border-color:#1b1a1740!important;border-width:1px!important}  .modal-edit .mat-mdc-form-field.mat-focused .mat-mdc-floating-label{color:#1b1a1799!important}  .modal-edit .mdc-text-field--focused .mdc-notched-outline__leading,   .modal-edit .mdc-text-field--focused .mdc-notched-outline__notch,   .modal-edit .mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#1b1a1740!important;border-width:1px!important}  .modal-edit input.mat-mdc-input-element:focus,   .modal-edit textarea.mat-mdc-input-element:focus,   .modal-edit .mat-mdc-select:focus,   .modal-edit .mat-mdc-select-trigger:focus{outline:none!important;box-shadow:none!important}  .modal-edit .mat-mdc-text-field-wrapper:focus-within{outline:none!important;box-shadow:none!important}.modal-actions[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-end;gap:.75rem;margin:1rem 0 0!important;padding:0!important}.btn-cancel[_ngcontent-%COMP%]{border-radius:10px!important;color:var(--ink)!important;border-color:#1b1a1726!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-cancel[_ngcontent-%COMP%]:hover{background:#1b1a170a!important}.btn-danger[_ngcontent-%COMP%]{border-radius:10px!important;background:var(--rust)!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-danger[_ngcontent-%COMP%]:hover{opacity:.9}.btn-primary[_ngcontent-%COMP%]{border-radius:10px!important;background:var(--copper)!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-primary[_ngcontent-%COMP%]:hover{opacity:.9}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6!important;cursor:not-allowed}.btn-edit-note[_ngcontent-%COMP%]{align-self:flex-start;border-radius:10px!important;font-size:.85rem!important;color:var(--copper)!important;border-color:var(--copper)!important}.btn-edit-note[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem;margin-right:.25rem}@media(max-width:600px){.order-page[_ngcontent-%COMP%]{padding:1rem .75rem 2rem}.order-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.5rem}.order-title[_ngcontent-%COMP%]{font-size:1.3rem}.order-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.server-vibe-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.4rem}.line-content[_ngcontent-%COMP%]{padding:.85rem .9rem;gap:.6rem}.line-main[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}.line-image[_ngcontent-%COMP%]{width:60px;height:60px}.line-head[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.3rem}.line-name[_ngcontent-%COMP%]{font-size:.95rem}.line-total[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:space-between;width:100%;min-width:0}.line-price[_ngcontent-%COMP%]{font-size:1.05rem}.section-title[_ngcontent-%COMP%]{font-size:1rem}.summary-row[_ngcontent-%COMP%]{font-size:.95rem}.summary-price[_ngcontent-%COMP%]{font-size:1.25rem}.order-actions[_ngcontent-%COMP%]{flex-direction:column}.order-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.item-actions[_ngcontent-%COMP%]{justify-content:flex-start!important}.order-summary[_ngcontent-%COMP%]{padding:.2rem .9rem}.details-content[_ngcontent-%COMP%]{padding:.5rem .9rem 1rem!important}}@media(max-width:380px){.order-page[_ngcontent-%COMP%]{padding:.75rem .5rem 1.5rem}.order-title[_ngcontent-%COMP%]{font-size:1.15rem}.line-content[_ngcontent-%COMP%]{padding:.7rem}.line-name[_ngcontent-%COMP%]{font-size:.88rem}.line-details[_ngcontent-%COMP%]{font-size:.8rem}.status-chip[_ngcontent-%COMP%], .pending-badge[_ngcontent-%COMP%]{font-size:.68rem;padding:.15rem .5rem}}']})};export{Ce as OrderComponent};
