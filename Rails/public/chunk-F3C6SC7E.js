import{a as ii,c as ai,d as oi,e as nn}from"./chunk-GKTLWRJI.js";import{a as Re,b as Le}from"./chunk-BACOWRTO.js";import{a as ri,b as si,c as li,d as Va,e as di,f as en,g as ci,h as qa,i as $a,j as Ua}from"./chunk-USMGX4SM.js";import{a as Sa,b as Pe,c as ei,e as Yi,h as ke,i as Se,l as Oe,m as De}from"./chunk-HDPMMSNQ.js";import{b as xe,c as tt,e as we,f as Me,g as We,h as ua,i as It,j as ha,k as Ye,l as Hi,m as ga,n as Xe,o as Ze,s as fa,t as _a,u as ba,v as va,w as Ca,x as Ke}from"./chunk-NV5RFN63.js";import{C as se,G as Mn,H as Oa,I as Da,J as Xi,K as Aa,L as Ea,M as wi,N as Zi,O as Ra,P as La,Q as Ae,R as Mi,S as Ki,T as Fa,U as Ba,V as za,W as Na,X as ja,Y as Ji,_ as tn,a as Qi,ba as ni,c as qe,d as Je,ea as Xt,f as xi,fa as le,g as ya,h as xa,ha as Ee,ia as jt,j as wa,ja as Vt,k as Ma,ka as qt,m as Ia,n as Ta,na as Zt,oa as Ga,p as Wi,q as $e,r as Ie,t as Pa,w as ka,x as Te,y as ti,z as wn}from"./chunk-QZXQ4MSO.js";import{a as ye,b as pa}from"./chunk-KS5T54KA.js";import{b as la,e as da,f as re,n as ca,p as ma}from"./chunk-LWWUGVRY.js";import{$ as R,$a as Qe,A as Ne,Aa as Kn,Ab as ia,Bb as Qt,Bc as Yt,Cb as Ct,Cc as Gi,Db as yt,E as Yn,Eb as $,F as Ge,Fb as u,Gb as h,Hb as ot,Ib as yn,Jb as na,Mb as pt,N as Xn,Nb as xn,O as fe,P as Zn,Q as Ht,Qb as L,Rb as aa,Sb as w,Ta as Ni,Tb as Vi,Ub as qi,Va as p,Vb as $i,W as oe,Wb as ie,X as _e,Xb as ht,Yb as gt,Z as kt,_ as Bi,_a as pe,a as Mt,ac as vi,b as bi,bb as je,bc as oa,cb as it,cc as xt,d as vo,dc as Ce,e as Co,ea as z,eb as ji,ec as C,f as ze,fa as N,fc as P,gc as Q,h as Gn,hc as Ci,i as Et,ia as Rt,ib as mt,ja as zi,jb as ve,jc as Bt,k as Cn,kb as Ft,kc as zt,l as Hn,lc as Nt,ma as St,mb as Jn,n as Li,na as te,nb as ee,nc as yi,ob as Ve,oc as ra,pb as ta,pc as sa,r as ae,ra as dt,tc as Ui,w as Fi,wa as He,wb as ea,x as Qn,xa as be,xb as Dt,y as Wn,yb as V,z as Ue,za as Lt,zb as q,zc as Wt}from"./chunk-FQ2GUZ33.js";var no=vo((on,An)=>{"use strict";(function(n,a){typeof on=="object"&&typeof An=="object"?An.exports=a():typeof define=="function"&&define.amd?define([],a):typeof on=="object"?on.QRCodeStyling=a():n.QRCodeStyling=a()})(self,()=>(()=>{var n={192:(i,s)=>{var y,O,et=(function(){var ct=function(T,k){var S=T,M=he[k],x=null,D=0,F=null,E=[],j={},_t=function(m,f){x=(function(v){for(var _=new Array(v),b=0;b<v;b+=1){_[b]=new Array(v);for(var I=0;I<v;I+=1)_[b][I]=null}return _})(D=4*S+17),bt(0,0),bt(D-7,0),bt(0,D-7),r(),U(),l(m,f),S>=7&&o(m),F==null&&(F=c(S,M,E)),d(F,f)},bt=function(m,f){for(var v=-1;v<=7;v+=1)if(!(m+v<=-1||D<=m+v))for(var _=-1;_<=7;_+=1)f+_<=-1||D<=f+_||(x[m+v][f+_]=0<=v&&v<=6&&(_==0||_==6)||0<=_&&_<=6&&(v==0||v==6)||2<=v&&v<=4&&2<=_&&_<=4)},U=function(){for(var m=8;m<D-8;m+=1)x[m][6]==null&&(x[m][6]=m%2==0);for(var f=8;f<D-8;f+=1)x[6][f]==null&&(x[6][f]=f%2==0)},r=function(){for(var m=Kt.getPatternPosition(S),f=0;f<m.length;f+=1)for(var v=0;v<m.length;v+=1){var _=m[f],b=m[v];if(x[_][b]==null)for(var I=-2;I<=2;I+=1)for(var A=-2;A<=2;A+=1)x[_+I][b+A]=I==-2||I==2||A==-2||A==2||I==0&&A==0}},o=function(m){for(var f=Kt.getBCHTypeNumber(S),v=0;v<18;v+=1){var _=!m&&(f>>v&1)==1;x[Math.floor(v/3)][v%3+D-8-3]=_}for(v=0;v<18;v+=1)_=!m&&(f>>v&1)==1,x[v%3+D-8-3][Math.floor(v/3)]=_},l=function(m,f){for(var v=M<<3|f,_=Kt.getBCHTypeInfo(v),b=0;b<15;b+=1){var I=!m&&(_>>b&1)==1;b<6?x[b][8]=I:b<8?x[b+1][8]=I:x[D-15+b][8]=I}for(b=0;b<15;b+=1)I=!m&&(_>>b&1)==1,b<8?x[8][D-b-1]=I:b<9?x[8][15-b-1+1]=I:x[8][15-b-1]=I;x[D-8][8]=!m},d=function(m,f){for(var v=-1,_=D-1,b=7,I=0,A=Kt.getMaskFunction(f),B=D-1;B>0;B-=2)for(B==6&&(B-=1);;){for(var G=0;G<2;G+=1)if(x[_][B-G]==null){var H=!1;I<m.length&&(H=(m[I]>>>b&1)==1),A(_,B-G)&&(H=!H),x[_][B-G]=H,(b-=1)==-1&&(I+=1,b=7)}if((_+=v)<0||D<=_){_-=v,v=-v;break}}},c=function(m,f,v){for(var _=Ai.getRSBlocks(m,f),b=fi(),I=0;I<v.length;I+=1){var A=v[I];b.put(A.getMode(),4),b.put(A.getLength(),Kt.getLengthInBits(A.getMode(),m)),A.write(b)}var B=0;for(I=0;I<_.length;I+=1)B+=_[I].dataCount;if(b.getLengthInBits()>8*B)throw"code length overflow. ("+b.getLengthInBits()+">"+8*B+")";for(b.getLengthInBits()+4<=8*B&&b.put(0,4);b.getLengthInBits()%8!=0;)b.putBit(!1);for(;!(b.getLengthInBits()>=8*B||(b.put(236,8),b.getLengthInBits()>=8*B));)b.put(17,8);return(function(G,H){for(var W=0,vt=0,ut=0,st=new Array(H.length),at=new Array(H.length),Y=0;Y<H.length;Y+=1){var At=H[Y].dataCount,Ot=H[Y].totalCount-At;vt=Math.max(vt,At),ut=Math.max(ut,Ot),st[Y]=new Array(At);for(var K=0;K<st[Y].length;K+=1)st[Y][K]=255&G.getBuffer()[K+W];W+=At;var lt=Kt.getErrorCorrectPolynomial(Ot),J=ge(st[Y],lt.getLength()-1).mod(lt);for(at[Y]=new Array(lt.getLength()-1),K=0;K<at[Y].length;K+=1){var nt=K+J.getLength()-at[Y].length;at[Y][K]=nt>=0?J.getAt(nt):0}}var wt=0;for(K=0;K<H.length;K+=1)wt+=H[K].totalCount;var Pt=new Array(wt),X=0;for(K=0;K<vt;K+=1)for(Y=0;Y<H.length;Y+=1)K<st[Y].length&&(Pt[X]=st[Y][K],X+=1);for(K=0;K<ut;K+=1)for(Y=0;Y<H.length;Y+=1)K<at[Y].length&&(Pt[X]=at[Y][K],X+=1);return Pt})(b,_)};j.addData=function(m,f){var v=null;switch(f=f||"Byte"){case"Numeric":v=de(m);break;case"Alphanumeric":v=ce(m);break;case"Byte":v=Ei(m);break;case"Kanji":v=_i(m);break;default:throw"mode:"+f}E.push(v),F=null},j.isDark=function(m,f){if(m<0||D<=m||f<0||D<=f)throw m+","+f;return x[m][f]},j.getModuleCount=function(){return D},j.make=function(){if(S<1){for(var m=1;m<40;m++){for(var f=Ai.getRSBlocks(m,M),v=fi(),_=0;_<E.length;_++){var b=E[_];v.put(b.getMode(),4),v.put(b.getLength(),Kt.getLengthInBits(b.getMode(),m)),b.write(v)}var I=0;for(_=0;_<f.length;_++)I+=f[_].dataCount;if(v.getLengthInBits()<=8*I)break}S=m}_t(!1,(function(){for(var A=0,B=0,G=0;G<8;G+=1){_t(!0,G);var H=Kt.getLostPoint(j);(G==0||A>H)&&(A=H,B=G)}return B})())},j.createTableTag=function(m,f){m=m||2;var v="";v+='<table style="',v+=" border-width: 0px; border-style: none;",v+=" border-collapse: collapse;",v+=" padding: 0px; margin: "+(f=f===void 0?4*m:f)+"px;",v+='">',v+="<tbody>";for(var _=0;_<j.getModuleCount();_+=1){v+="<tr>";for(var b=0;b<j.getModuleCount();b+=1)v+='<td style="',v+=" border-width: 0px; border-style: none;",v+=" border-collapse: collapse;",v+=" padding: 0px; margin: 0px;",v+=" width: "+m+"px;",v+=" height: "+m+"px;",v+=" background-color: ",v+=j.isDark(_,b)?"#000000":"#ffffff",v+=";",v+='"/>';v+="</tr>"}return(v+="</tbody>")+"</table>"},j.createSvgTag=function(m,f,v,_){var b={};typeof arguments[0]=="object"&&(m=(b=arguments[0]).cellSize,f=b.margin,v=b.alt,_=b.title),m=m||2,f=f===void 0?4*m:f,(v=typeof v=="string"?{text:v}:v||{}).text=v.text||null,v.id=v.text?v.id||"qrcode-description":null,(_=typeof _=="string"?{text:_}:_||{}).text=_.text||null,_.id=_.text?_.id||"qrcode-title":null;var I,A,B,G,H=j.getModuleCount()*m+2*f,W="";for(G="l"+m+",0 0,"+m+" -"+m+",0 0,-"+m+"z ",W+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',W+=b.scalable?"":' width="'+H+'px" height="'+H+'px"',W+=' viewBox="0 0 '+H+" "+H+'" ',W+=' preserveAspectRatio="xMinYMin meet"',W+=_.text||v.text?' role="img" aria-labelledby="'+g([_.id,v.id].join(" ").trim())+'"':"",W+=">",W+=_.text?'<title id="'+g(_.id)+'">'+g(_.text)+"</title>":"",W+=v.text?'<description id="'+g(v.id)+'">'+g(v.text)+"</description>":"",W+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',W+='<path d="',A=0;A<j.getModuleCount();A+=1)for(B=A*m+f,I=0;I<j.getModuleCount();I+=1)j.isDark(A,I)&&(W+="M"+(I*m+f)+","+B+G);return(W+='" stroke="transparent" fill="black"/>')+"</svg>"},j.createDataURL=function(m,f){m=m||2,f=f===void 0?4*m:f;var v=j.getModuleCount()*m+2*f,_=f,b=v-f;return me(v,v,function(I,A){if(_<=I&&I<b&&_<=A&&A<b){var B=Math.floor((I-_)/m),G=Math.floor((A-_)/m);return j.isDark(G,B)?0:1}return 1})},j.createImgTag=function(m,f,v){m=m||2,f=f===void 0?4*m:f;var _=j.getModuleCount()*m+2*f,b="";return b+="<img",b+=' src="',b+=j.createDataURL(m,f),b+='"',b+=' width="',b+=_,b+='"',b+=' height="',b+=_,b+='"',v&&(b+=' alt="',b+=g(v),b+='"'),b+"/>"};var g=function(m){for(var f="",v=0;v<m.length;v+=1){var _=m.charAt(v);switch(_){case"<":f+="&lt;";break;case">":f+="&gt;";break;case"&":f+="&amp;";break;case'"':f+="&quot;";break;default:f+=_}}return f};return j.createASCII=function(m,f){if((m=m||1)<2)return(function(st){st=st===void 0?2:st;var at,Y,At,Ot,K,lt=1*j.getModuleCount()+2*st,J=st,nt=lt-st,wt={"\u2588\u2588":"\u2588","\u2588 ":"\u2580"," \u2588":"\u2584","  ":" "},Pt={"\u2588\u2588":"\u2580","\u2588 ":"\u2580"," \u2588":" ","  ":" "},X="";for(at=0;at<lt;at+=2){for(At=Math.floor((at-J)/1),Ot=Math.floor((at+1-J)/1),Y=0;Y<lt;Y+=1)K="\u2588",J<=Y&&Y<nt&&J<=at&&at<nt&&j.isDark(At,Math.floor((Y-J)/1))&&(K=" "),J<=Y&&Y<nt&&J<=at+1&&at+1<nt&&j.isDark(Ot,Math.floor((Y-J)/1))?K+=" ":K+="\u2588",X+=st<1&&at+1>=nt?Pt[K]:wt[K];X+=`
`}return lt%2&&st>0?X.substring(0,X.length-lt-1)+Array(lt+1).join("\u2580"):X.substring(0,X.length-1)})(f);m-=1,f=f===void 0?2*m:f;var v,_,b,I,A=j.getModuleCount()*m+2*f,B=f,G=A-f,H=Array(m+1).join("\u2588\u2588"),W=Array(m+1).join("  "),vt="",ut="";for(v=0;v<A;v+=1){for(b=Math.floor((v-B)/m),ut="",_=0;_<A;_+=1)I=1,B<=_&&_<G&&B<=v&&v<G&&j.isDark(b,Math.floor((_-B)/m))&&(I=0),ut+=I?H:W;for(b=0;b<m;b+=1)vt+=ut+`
`}return vt.substring(0,vt.length-1)},j.renderTo2dContext=function(m,f){f=f||2;for(var v=j.getModuleCount(),_=0;_<v;_++)for(var b=0;b<v;b++)m.fillStyle=j.isDark(_,b)?"black":"white",m.fillRect(_*f,b*f,f,f)},j};ct.stringToBytes=(ct.stringToBytesFuncs={default:function(T){for(var k=[],S=0;S<T.length;S+=1){var M=T.charCodeAt(S);k.push(255&M)}return k}}).default,ct.createStringToBytes=function(T,k){var S=(function(){for(var x=_n(T),D=function(){var U=x.read();if(U==-1)throw"eof";return U},F=0,E={};;){var j=x.read();if(j==-1)break;var _t=D(),bt=D()<<8|D();E[String.fromCharCode(j<<8|_t)]=bt,F+=1}if(F!=k)throw F+" != "+k;return E})(),M=63;return function(x){for(var D=[],F=0;F<x.length;F+=1){var E=x.charCodeAt(F);if(E<128)D.push(E);else{var j=S[x.charAt(F)];typeof j=="number"?(255&j)==j?D.push(j):(D.push(j>>>8),D.push(255&j)):D.push(M)}}return D}};var Z,ft,Tt,rt,Ut,he={L:1,M:0,Q:3,H:2},Kt=(Z=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],ft=1335,Tt=7973,Ut=function(T){for(var k=0;T!=0;)k+=1,T>>>=1;return k},(rt={}).getBCHTypeInfo=function(T){for(var k=T<<10;Ut(k)-Ut(ft)>=0;)k^=ft<<Ut(k)-Ut(ft);return 21522^(T<<10|k)},rt.getBCHTypeNumber=function(T){for(var k=T<<12;Ut(k)-Ut(Tt)>=0;)k^=Tt<<Ut(k)-Ut(Tt);return T<<12|k},rt.getPatternPosition=function(T){return Z[T-1]},rt.getMaskFunction=function(T){switch(T){case 0:return function(k,S){return(k+S)%2==0};case 1:return function(k,S){return k%2==0};case 2:return function(k,S){return S%3==0};case 3:return function(k,S){return(k+S)%3==0};case 4:return function(k,S){return(Math.floor(k/2)+Math.floor(S/3))%2==0};case 5:return function(k,S){return k*S%2+k*S%3==0};case 6:return function(k,S){return(k*S%2+k*S%3)%2==0};case 7:return function(k,S){return(k*S%3+(k+S)%2)%2==0};default:throw"bad maskPattern:"+T}},rt.getErrorCorrectPolynomial=function(T){for(var k=ge([1],0),S=0;S<T;S+=1)k=k.multiply(ge([1,ne.gexp(S)],0));return k},rt.getLengthInBits=function(T,k){if(1<=k&&k<10)switch(T){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+T}else if(k<27)switch(T){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+T}else{if(!(k<41))throw"type:"+k;switch(T){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+T}}},rt.getLostPoint=function(T){for(var k=T.getModuleCount(),S=0,M=0;M<k;M+=1)for(var x=0;x<k;x+=1){for(var D=0,F=T.isDark(M,x),E=-1;E<=1;E+=1)if(!(M+E<0||k<=M+E))for(var j=-1;j<=1;j+=1)x+j<0||k<=x+j||E==0&&j==0||F==T.isDark(M+E,x+j)&&(D+=1);D>5&&(S+=3+D-5)}for(M=0;M<k-1;M+=1)for(x=0;x<k-1;x+=1){var _t=0;T.isDark(M,x)&&(_t+=1),T.isDark(M+1,x)&&(_t+=1),T.isDark(M,x+1)&&(_t+=1),T.isDark(M+1,x+1)&&(_t+=1),_t!=0&&_t!=4||(S+=3)}for(M=0;M<k;M+=1)for(x=0;x<k-6;x+=1)T.isDark(M,x)&&!T.isDark(M,x+1)&&T.isDark(M,x+2)&&T.isDark(M,x+3)&&T.isDark(M,x+4)&&!T.isDark(M,x+5)&&T.isDark(M,x+6)&&(S+=40);for(x=0;x<k;x+=1)for(M=0;M<k-6;M+=1)T.isDark(M,x)&&!T.isDark(M+1,x)&&T.isDark(M+2,x)&&T.isDark(M+3,x)&&T.isDark(M+4,x)&&!T.isDark(M+5,x)&&T.isDark(M+6,x)&&(S+=40);var bt=0;for(x=0;x<k;x+=1)for(M=0;M<k;M+=1)T.isDark(M,x)&&(bt+=1);return S+Math.abs(100*bt/k/k-50)/5*10},rt),ne=(function(){for(var T=new Array(256),k=new Array(256),S=0;S<8;S+=1)T[S]=1<<S;for(S=8;S<256;S+=1)T[S]=T[S-4]^T[S-5]^T[S-6]^T[S-8];for(S=0;S<255;S+=1)k[T[S]]=S;return{glog:function(M){if(M<1)throw"glog("+M+")";return k[M]},gexp:function(M){for(;M<0;)M+=255;for(;M>=256;)M-=255;return T[M]}}})();function ge(T,k){if(T.length===void 0)throw T.length+"/"+k;var S=(function(){for(var x=0;x<T.length&&T[x]==0;)x+=1;for(var D=new Array(T.length-x+k),F=0;F<T.length-x;F+=1)D[F]=T[F+x];return D})(),M={getAt:function(x){return S[x]},getLength:function(){return S.length},multiply:function(x){for(var D=new Array(M.getLength()+x.getLength()-1),F=0;F<M.getLength();F+=1)for(var E=0;E<x.getLength();E+=1)D[F+E]^=ne.gexp(ne.glog(M.getAt(F))+ne.glog(x.getAt(E)));return ge(D,0)},mod:function(x){if(M.getLength()-x.getLength()<0)return M;for(var D=ne.glog(M.getAt(0))-ne.glog(x.getAt(0)),F=new Array(M.getLength()),E=0;E<M.getLength();E+=1)F[E]=M.getAt(E);for(E=0;E<x.getLength();E+=1)F[E]^=ne.gexp(ne.glog(x.getAt(E))+D);return ge(F,0).mod(x)}};return M}var Ai=(function(){var T=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],k=function(M,x){var D={};return D.totalCount=M,D.dataCount=x,D},S={getRSBlocks:function(M,x){var D=(function(o,l){switch(l){case he.L:return T[4*(o-1)+0];case he.M:return T[4*(o-1)+1];case he.Q:return T[4*(o-1)+2];case he.H:return T[4*(o-1)+3];default:return}})(M,x);if(D===void 0)throw"bad rs block @ typeNumber:"+M+"/errorCorrectionLevel:"+x;for(var F=D.length/3,E=[],j=0;j<F;j+=1)for(var _t=D[3*j+0],bt=D[3*j+1],U=D[3*j+2],r=0;r<_t;r+=1)E.push(k(bt,U));return E}};return S})(),fi=function(){var T=[],k=0,S={getBuffer:function(){return T},getAt:function(M){var x=Math.floor(M/8);return(T[x]>>>7-M%8&1)==1},put:function(M,x){for(var D=0;D<x;D+=1)S.putBit((M>>>x-D-1&1)==1)},getLengthInBits:function(){return k},putBit:function(M){var x=Math.floor(k/8);T.length<=x&&T.push(0),M&&(T[x]|=128>>>k%8),k+=1}};return S},de=function(T){var k=T,S={getMode:function(){return 1},getLength:function(D){return k.length},write:function(D){for(var F=k,E=0;E+2<F.length;)D.put(M(F.substring(E,E+3)),10),E+=3;E<F.length&&(F.length-E==1?D.put(M(F.substring(E,E+1)),4):F.length-E==2&&D.put(M(F.substring(E,E+2)),7))}},M=function(D){for(var F=0,E=0;E<D.length;E+=1)F=10*F+x(D.charAt(E));return F},x=function(D){if("0"<=D&&D<="9")return D.charCodeAt(0)-48;throw"illegal char :"+D};return S},ce=function(T){var k=T,S={getMode:function(){return 2},getLength:function(x){return k.length},write:function(x){for(var D=k,F=0;F+1<D.length;)x.put(45*M(D.charAt(F))+M(D.charAt(F+1)),11),F+=2;F<D.length&&x.put(M(D.charAt(F)),6)}},M=function(x){if("0"<=x&&x<="9")return x.charCodeAt(0)-48;if("A"<=x&&x<="Z")return x.charCodeAt(0)-65+10;switch(x){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+x}};return S},Ei=function(T){var k=ct.stringToBytes(T);return{getMode:function(){return 4},getLength:function(S){return k.length},write:function(S){for(var M=0;M<k.length;M+=1)S.put(k[M],8)}}},_i=function(T){var k=ct.stringToBytesFuncs.SJIS;if(!k)throw"sjis not supported.";(function(x,D){var F=k("\u53CB");if(F.length!=2||(F[0]<<8|F[1])!=38726)throw"sjis not supported."})();var S=k(T),M={getMode:function(){return 8},getLength:function(x){return~~(S.length/2)},write:function(x){for(var D=S,F=0;F+1<D.length;){var E=(255&D[F])<<8|255&D[F+1];if(33088<=E&&E<=40956)E-=33088;else{if(!(57408<=E&&E<=60351))throw"illegal char at "+(F+1)+"/"+E;E-=49472}E=192*(E>>>8&255)+(255&E),x.put(E,13),F+=2}if(F<D.length)throw"illegal char at "+(F+1)}};return M},Ri=function(){var T=[],k={writeByte:function(S){T.push(255&S)},writeShort:function(S){k.writeByte(S),k.writeByte(S>>>8)},writeBytes:function(S,M,x){M=M||0,x=x||S.length;for(var D=0;D<x;D+=1)k.writeByte(S[D+M])},writeString:function(S){for(var M=0;M<S.length;M+=1)k.writeByte(S.charCodeAt(M))},toByteArray:function(){return T},toString:function(){var S="";S+="[";for(var M=0;M<T.length;M+=1)M>0&&(S+=","),S+=T[M];return S+"]"}};return k},_n=function(T){var k=T,S=0,M=0,x=0,D={read:function(){for(;x<8;){if(S>=k.length){if(x==0)return-1;throw"unexpected end of file./"+x}var E=k.charAt(S);if(S+=1,E=="=")return x=0,-1;E.match(/^\s$/)||(M=M<<6|F(E.charCodeAt(0)),x+=6)}var j=M>>>x-8&255;return x-=8,j}},F=function(E){if(65<=E&&E<=90)return E-65;if(97<=E&&E<=122)return E-97+26;if(48<=E&&E<=57)return E-48+52;if(E==43)return 62;if(E==47)return 63;throw"c:"+E};return D},me=function(T,k,S){for(var M=(function(bt,U){var r=bt,o=U,l=new Array(bt*U),d={setPixel:function(m,f,v){l[f*r+m]=v},write:function(m){m.writeString("GIF87a"),m.writeShort(r),m.writeShort(o),m.writeByte(128),m.writeByte(0),m.writeByte(0),m.writeByte(0),m.writeByte(0),m.writeByte(0),m.writeByte(255),m.writeByte(255),m.writeByte(255),m.writeString(","),m.writeShort(0),m.writeShort(0),m.writeShort(r),m.writeShort(o),m.writeByte(0);var f=c(2);m.writeByte(2);for(var v=0;f.length-v>255;)m.writeByte(255),m.writeBytes(f,v,255),v+=255;m.writeByte(f.length-v),m.writeBytes(f,v,f.length-v),m.writeByte(0),m.writeString(";")}},c=function(m){for(var f=1<<m,v=1+(1<<m),_=m+1,b=g(),I=0;I<f;I+=1)b.add(String.fromCharCode(I));b.add(String.fromCharCode(f)),b.add(String.fromCharCode(v));var A,B,G,H=Ri(),W=(A=H,B=0,G=0,{write:function(at,Y){if(at>>>Y)throw"length over";for(;B+Y>=8;)A.writeByte(255&(at<<B|G)),Y-=8-B,at>>>=8-B,G=0,B=0;G|=at<<B,B+=Y},flush:function(){B>0&&A.writeByte(G)}});W.write(f,_);var vt=0,ut=String.fromCharCode(l[vt]);for(vt+=1;vt<l.length;){var st=String.fromCharCode(l[vt]);vt+=1,b.contains(ut+st)?ut+=st:(W.write(b.indexOf(ut),_),b.size()<4095&&(b.size()==1<<_&&(_+=1),b.add(ut+st)),ut=st)}return W.write(b.indexOf(ut),_),W.write(v,_),W.flush(),H.toByteArray()},g=function(){var m={},f=0,v={add:function(_){if(v.contains(_))throw"dup key:"+_;m[_]=f,f+=1},size:function(){return f},indexOf:function(_){return m[_]},contains:function(_){return m[_]!==void 0}};return v};return d})(T,k),x=0;x<k;x+=1)for(var D=0;D<T;D+=1)M.setPixel(D,x,S(D,x));var F=Ri();M.write(F);for(var E=(function(){var bt=0,U=0,r=0,o="",l={},d=function(g){o+=String.fromCharCode(c(63&g))},c=function(g){if(!(g<0)){if(g<26)return 65+g;if(g<52)return g-26+97;if(g<62)return g-52+48;if(g==62)return 43;if(g==63)return 47}throw"n:"+g};return l.writeByte=function(g){for(bt=bt<<8|255&g,U+=8,r+=1;U>=6;)d(bt>>>U-6),U-=6},l.flush=function(){if(U>0&&(d(bt<<6-U),bt=0,U=0),r%3!=0)for(var g=3-r%3,m=0;m<g;m+=1)o+="="},l.toString=function(){return o},l})(),j=F.toByteArray(),_t=0;_t<j.length;_t+=1)E.writeByte(j[_t]);return E.flush(),"data:image/gif;base64,"+E};return ct})();et.stringToBytesFuncs["UTF-8"]=function(ct){return(function(Z){for(var ft=[],Tt=0;Tt<Z.length;Tt++){var rt=Z.charCodeAt(Tt);rt<128?ft.push(rt):rt<2048?ft.push(192|rt>>6,128|63&rt):rt<55296||rt>=57344?ft.push(224|rt>>12,128|rt>>6&63,128|63&rt):(Tt++,rt=65536+((1023&rt)<<10|1023&Z.charCodeAt(Tt)),ft.push(240|rt>>18,128|rt>>12&63,128|rt>>6&63,128|63&rt))}return ft})(ct)},(O=typeof(y=function(){return et})=="function"?y.apply(s,[]):y)===void 0||(i.exports=O)}},a={};function t(i){var s=a[i];if(s!==void 0)return s.exports;var y=a[i]={exports:{}};return n[i](y,y.exports,t),y.exports}t.n=i=>{var s=i&&i.__esModule?()=>i.default:()=>i;return t.d(s,{a:s}),s},t.d=(i,s)=>{for(var y in s)t.o(s,y)&&!t.o(i,y)&&Object.defineProperty(i,y,{enumerable:!0,get:s[y]})},t.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s);var e={};return(()=>{"use strict";t.d(e,{default:()=>bt});let i=U=>!!U&&typeof U=="object"&&!Array.isArray(U);function s(U,...r){if(!r.length)return U;let o=r.shift();return o!==void 0&&i(U)&&i(o)?(U=Object.assign({},U),Object.keys(o).forEach(l=>{let d=U[l],c=o[l];Array.isArray(d)&&Array.isArray(c)?U[l]=c:i(d)&&i(c)?U[l]=s(Object.assign({},d),c):U[l]=c}),s(U,...r)):U}function y(U,r){let o=document.createElement("a");o.download=r,o.href=U,document.body.appendChild(o),o.click(),document.body.removeChild(o)}function O({originalHeight:U,originalWidth:r,maxHiddenDots:o,maxHiddenAxisDots:l,dotSize:d}){let c={x:0,y:0},g={x:0,y:0};if(U<=0||r<=0||o<=0||d<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};let m=U/r;return c.x=Math.floor(Math.sqrt(o/m)),c.x<=0&&(c.x=1),l&&l<c.x&&(c.x=l),c.x%2==0&&c.x--,g.x=c.x*d,c.y=1+2*Math.ceil((c.x*m-1)/2),g.y=Math.round(g.x*m),(c.y*c.x>o||l&&l<c.y)&&(l&&l<c.y?(c.y=l,c.y%2==0&&c.x--):c.y-=2,g.y=c.y*d,c.x=1+2*Math.ceil((c.y/m-1)/2),g.x=Math.round(g.y/m)),{height:g.y,width:g.x,hideYDots:c.x,hideXDots:c.y}}let et={L:.07,M:.15,Q:.25,H:.3},ct="dots",Z="rounded",ft="classy",Tt="classy-rounded",rt="extra-rounded";class Ut{constructor({context:r,type:o}){this._context=r,this._type=o}draw(r,o,l,d){let c=this._context,g;switch(this._type){case ct:g=this._drawDot;break;case ft:g=this._drawClassy;break;case Tt:g=this._drawClassyRounded;break;case Z:g=this._drawRounded;break;case rt:g=this._drawExtraRounded;break;default:g=this._drawSquare}g.call(this,{x:r,y:o,size:l,context:c,getNeighbor:d})}_rotateFigure({x:r,y:o,size:l,context:d,rotation:c=0,draw:g}){let m=r+l/2,f=o+l/2;d.translate(m,f),c&&d.rotate(c),g(),d.closePath(),c&&d.rotate(-c),d.translate(-m,-f)}_basicDot(r){let{size:o,context:l}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{l.arc(0,0,o/2,0,2*Math.PI)}}))}_basicSquare(r){let{size:o,context:l}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{l.rect(-o/2,-o/2,o,o)}}))}_basicSideRounded(r){let{size:o,context:l}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{l.arc(0,0,o/2,-Math.PI/2,Math.PI/2),l.lineTo(-o/2,o/2),l.lineTo(-o/2,-o/2),l.lineTo(0,-o/2)}}))}_basicCornerRounded(r){let{size:o,context:l}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{l.arc(0,0,o/2,-Math.PI/2,0),l.lineTo(o/2,o/2),l.lineTo(-o/2,o/2),l.lineTo(-o/2,-o/2),l.lineTo(0,-o/2)}}))}_basicCornerExtraRounded(r){let{size:o,context:l}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{l.arc(-o/2,o/2,o,-Math.PI/2,0),l.lineTo(-o/2,o/2),l.lineTo(-o/2,-o/2)}}))}_basicCornersRounded(r){let{size:o,context:l}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{l.arc(0,0,o/2,-Math.PI/2,0),l.lineTo(o/2,o/2),l.lineTo(0,o/2),l.arc(0,0,o/2,Math.PI/2,Math.PI),l.lineTo(-o/2,-o/2),l.lineTo(0,-o/2)}}))}_basicCornersExtraRounded(r){let{size:o,context:l}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{l.arc(-o/2,o/2,o,-Math.PI/2,0),l.arc(o/2,-o/2,o,Math.PI/2,Math.PI)}}))}_drawDot({x:r,y:o,size:l,context:d}){this._basicDot({x:r,y:o,size:l,context:d,rotation:0})}_drawSquare({x:r,y:o,size:l,context:d}){this._basicSquare({x:r,y:o,size:l,context:d,rotation:0})}_drawRounded({x:r,y:o,size:l,context:d,getNeighbor:c}){let g=c?+c(-1,0):0,m=c?+c(1,0):0,f=c?+c(0,-1):0,v=c?+c(0,1):0,_=g+m+f+v;if(_!==0)if(_>2||g&&m||f&&v)this._basicSquare({x:r,y:o,size:l,context:d,rotation:0});else{if(_===2){let b=0;return g&&f?b=Math.PI/2:f&&m?b=Math.PI:m&&v&&(b=-Math.PI/2),void this._basicCornerRounded({x:r,y:o,size:l,context:d,rotation:b})}if(_===1){let b=0;return f?b=Math.PI/2:m?b=Math.PI:v&&(b=-Math.PI/2),void this._basicSideRounded({x:r,y:o,size:l,context:d,rotation:b})}}else this._basicDot({x:r,y:o,size:l,context:d,rotation:0})}_drawExtraRounded({x:r,y:o,size:l,context:d,getNeighbor:c}){let g=c?+c(-1,0):0,m=c?+c(1,0):0,f=c?+c(0,-1):0,v=c?+c(0,1):0,_=g+m+f+v;if(_!==0)if(_>2||g&&m||f&&v)this._basicSquare({x:r,y:o,size:l,context:d,rotation:0});else{if(_===2){let b=0;return g&&f?b=Math.PI/2:f&&m?b=Math.PI:m&&v&&(b=-Math.PI/2),void this._basicCornerExtraRounded({x:r,y:o,size:l,context:d,rotation:b})}if(_===1){let b=0;return f?b=Math.PI/2:m?b=Math.PI:v&&(b=-Math.PI/2),void this._basicSideRounded({x:r,y:o,size:l,context:d,rotation:b})}}else this._basicDot({x:r,y:o,size:l,context:d,rotation:0})}_drawClassy({x:r,y:o,size:l,context:d,getNeighbor:c}){let g=c?+c(-1,0):0,m=c?+c(1,0):0,f=c?+c(0,-1):0,v=c?+c(0,1):0;g+m+f+v!==0?g||f?m||v?this._basicSquare({x:r,y:o,size:l,context:d,rotation:0}):this._basicCornerRounded({x:r,y:o,size:l,context:d,rotation:Math.PI/2}):this._basicCornerRounded({x:r,y:o,size:l,context:d,rotation:-Math.PI/2}):this._basicCornersRounded({x:r,y:o,size:l,context:d,rotation:Math.PI/2})}_drawClassyRounded({x:r,y:o,size:l,context:d,getNeighbor:c}){let g=c?+c(-1,0):0,m=c?+c(1,0):0,f=c?+c(0,-1):0,v=c?+c(0,1):0;g+m+f+v!==0?g||f?m||v?this._basicSquare({x:r,y:o,size:l,context:d,rotation:0}):this._basicCornerExtraRounded({x:r,y:o,size:l,context:d,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:r,y:o,size:l,context:d,rotation:-Math.PI/2}):this._basicCornersRounded({x:r,y:o,size:l,context:d,rotation:Math.PI/2})}}let he="square",Kt="extra-rounded";class ne{constructor({context:r,type:o}){this._context=r,this._type=o}draw(r,o,l,d){let c=this._context,g;switch(this._type){case he:g=this._drawSquare;break;case Kt:g=this._drawExtraRounded;break;default:g=this._drawDot}g.call(this,{x:r,y:o,size:l,context:c,rotation:d})}_rotateFigure({x:r,y:o,size:l,context:d,rotation:c=0,draw:g}){let m=r+l/2,f=o+l/2;d.translate(m,f),c&&d.rotate(c),g(),d.closePath(),c&&d.rotate(-c),d.translate(-m,-f)}_basicDot(r){let{size:o,context:l}=r,d=o/7;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{l.arc(0,0,o/2,0,2*Math.PI),l.arc(0,0,o/2-d,0,2*Math.PI)}}))}_basicSquare(r){let{size:o,context:l}=r,d=o/7;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{l.rect(-o/2,-o/2,o,o),l.rect(-o/2+d,-o/2+d,o-2*d,o-2*d)}}))}_basicExtraRounded(r){let{size:o,context:l}=r,d=o/7;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{l.arc(-d,-d,2.5*d,Math.PI,-Math.PI/2),l.lineTo(d,-3.5*d),l.arc(d,-d,2.5*d,-Math.PI/2,0),l.lineTo(3.5*d,-d),l.arc(d,d,2.5*d,0,Math.PI/2),l.lineTo(-d,3.5*d),l.arc(-d,d,2.5*d,Math.PI/2,Math.PI),l.lineTo(-3.5*d,-d),l.arc(-d,-d,1.5*d,Math.PI,-Math.PI/2),l.lineTo(d,-2.5*d),l.arc(d,-d,1.5*d,-Math.PI/2,0),l.lineTo(2.5*d,-d),l.arc(d,d,1.5*d,0,Math.PI/2),l.lineTo(-d,2.5*d),l.arc(-d,d,1.5*d,Math.PI/2,Math.PI),l.lineTo(-2.5*d,-d)}}))}_drawDot({x:r,y:o,size:l,context:d,rotation:c}){this._basicDot({x:r,y:o,size:l,context:d,rotation:c})}_drawSquare({x:r,y:o,size:l,context:d,rotation:c}){this._basicSquare({x:r,y:o,size:l,context:d,rotation:c})}_drawExtraRounded({x:r,y:o,size:l,context:d,rotation:c}){this._basicExtraRounded({x:r,y:o,size:l,context:d,rotation:c})}}let ge="square";class Ai{constructor({context:r,type:o}){this._context=r,this._type=o}draw(r,o,l,d){let c=this._context,g;g=this._type===ge?this._drawSquare:this._drawDot,g.call(this,{x:r,y:o,size:l,context:c,rotation:d})}_rotateFigure({x:r,y:o,size:l,context:d,rotation:c=0,draw:g}){let m=r+l/2,f=o+l/2;d.translate(m,f),c&&d.rotate(c),g(),d.closePath(),c&&d.rotate(-c),d.translate(-m,-f)}_basicDot(r){let{size:o,context:l}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{l.arc(0,0,o/2,0,2*Math.PI)}}))}_basicSquare(r){let{size:o,context:l}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{l.rect(-o/2,-o/2,o,o)}}))}_drawDot({x:r,y:o,size:l,context:d,rotation:c}){this._basicDot({x:r,y:o,size:l,context:d,rotation:c})}_drawSquare({x:r,y:o,size:l,context:d,rotation:c}){this._basicSquare({x:r,y:o,size:l,context:d,rotation:c})}}let fi="radial",de=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],ce=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];class Ei{constructor(r){this._canvas=document.createElement("canvas"),this._canvas.width=r.width,this._canvas.height=r.height,this._options=r}get context(){return this._canvas.getContext("2d")}get width(){return this._canvas.width}get height(){return this._canvas.height}getCanvas(){return this._canvas}clear(){let r=this.context;r&&r.clearRect(0,0,this._canvas.width,this._canvas.height)}async drawQR(r){let o=r.getModuleCount(),l=Math.min(this._options.width,this._options.height)-2*this._options.margin,d=Math.floor(l/o),c={hideXDots:0,hideYDots:0,width:0,height:0};if(this._qr=r,this._options.image){if(await this.loadImage(),!this._image)return;let{imageOptions:g,qrOptions:m}=this._options,f=g.imageSize*et[m.errorCorrectionLevel],v=Math.floor(f*o*o);c=O({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:v,maxHiddenAxisDots:o-14,dotSize:d})}this.clear(),this.drawBackground(),this.drawDots((g,m)=>{var f,v,_,b,I,A;return!(this._options.imageOptions.hideBackgroundDots&&g>=(o-c.hideXDots)/2&&g<(o+c.hideXDots)/2&&m>=(o-c.hideYDots)/2&&m<(o+c.hideYDots)/2||!((f=de[g])===null||f===void 0)&&f[m]||!((v=de[g-o+7])===null||v===void 0)&&v[m]||!((_=de[g])===null||_===void 0)&&_[m-o+7]||!((b=ce[g])===null||b===void 0)&&b[m]||!((I=ce[g-o+7])===null||I===void 0)&&I[m]||!((A=ce[g])===null||A===void 0)&&A[m-o+7])}),this.drawCorners(),this._options.image&&this.drawImage({width:c.width,height:c.height,count:o,dotSize:d})}drawBackground(){let r=this.context,o=this._options;if(r){if(o.backgroundOptions.gradient){let l=o.backgroundOptions.gradient,d=this._createGradient({context:r,options:l,additionalRotation:0,x:0,y:0,size:this._canvas.width>this._canvas.height?this._canvas.width:this._canvas.height});l.colorStops.forEach(({offset:c,color:g})=>{d.addColorStop(c,g)}),r.fillStyle=d}else o.backgroundOptions.color&&(r.fillStyle=o.backgroundOptions.color);r.fillRect(0,0,this._canvas.width,this._canvas.height)}}drawDots(r){if(!this._qr)throw"QR code is not defined";let o=this.context;if(!o)throw"QR code is not defined";let l=this._options,d=this._qr.getModuleCount();if(d>l.width||d>l.height)throw"The canvas is too small.";let c=Math.min(l.width,l.height)-2*l.margin,g=Math.floor(c/d),m=Math.floor((l.width-d*g)/2),f=Math.floor((l.height-d*g)/2),v=new Ut({context:o,type:l.dotsOptions.type});o.beginPath();for(let _=0;_<d;_++)for(let b=0;b<d;b++){if(r&&!r(_,b)||!this._qr.isDark(_,b))continue;let I=this._options.useLegacyDotRotation?m+_*g:f+b*g,A=this._options.useLegacyDotRotation?f+b*g:m+_*g;v.draw(I,A,g,(B,G)=>this._options.useLegacyDotRotation?!(_+B<0||b+G<0||_+B>=d||b+G>=d)&&!(r&&!r(_+B,b+G))&&!!this._qr&&this._qr.isDark(_+B,b+G):!(b+B<0||_+G<0||b+B>=d||_+G>=d)&&!(r&&!r(b+B,_+G))&&!!this._qr&&this._qr.isDark(_+G,b+B))}if(l.dotsOptions.gradient){let _=l.dotsOptions.gradient,b=this._createGradient({context:o,options:_,additionalRotation:0,x:m,y:f,size:d*g});_.colorStops.forEach(({offset:I,color:A})=>{b.addColorStop(I,A)}),o.fillStyle=o.strokeStyle=b}else l.dotsOptions.color&&(o.fillStyle=o.strokeStyle=l.dotsOptions.color);o.fill("evenodd")}drawCorners(r){if(!this._qr)throw"QR code is not defined";let o=this.context;if(!o)throw"QR code is not defined";let l=this._options,d=this._qr.getModuleCount(),c=Math.min(l.width,l.height)-2*l.margin,g=Math.floor(c/d),m=7*g,f=3*g,v=Math.floor((l.width-d*g)/2),_=Math.floor((l.height-d*g)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(([b,I,A])=>{var B,G,H,W,vt,ut,st,at,Y,At;if(r&&!r(b,I))return;let Ot=v+b*g*(d-7),K=_+I*g*(d-7);if(!((B=l.cornersSquareOptions)===null||B===void 0)&&B.type){let lt=new ne({context:o,type:(G=l.cornersSquareOptions)===null||G===void 0?void 0:G.type});o.beginPath(),lt.draw(Ot,K,m,A)}else{let lt=new Ut({context:o,type:l.dotsOptions.type});o.beginPath();for(let J=0;J<de.length;J++)for(let nt=0;nt<de[J].length;nt++)!((H=de[J])===null||H===void 0)&&H[nt]&&lt.draw(Ot+J*g,K+nt*g,g,(wt,Pt)=>{var X;return!!(!((X=de[J+wt])===null||X===void 0)&&X[nt+Pt])})}if(!((W=l.cornersSquareOptions)===null||W===void 0)&&W.gradient){let lt=l.cornersSquareOptions.gradient,J=this._createGradient({context:o,options:lt,additionalRotation:A,x:Ot,y:K,size:m});lt.colorStops.forEach(({offset:nt,color:wt})=>{J.addColorStop(nt,wt)}),o.fillStyle=o.strokeStyle=J}else!((vt=l.cornersSquareOptions)===null||vt===void 0)&&vt.color&&(o.fillStyle=o.strokeStyle=l.cornersSquareOptions.color);if(o.fill("evenodd"),(ut=l.cornersDotOptions)===null||ut===void 0?void 0:ut.type){let lt=new Ai({context:o,type:(st=l.cornersDotOptions)===null||st===void 0?void 0:st.type});o.beginPath(),lt.draw(Ot+2*g,K+2*g,f,A)}else{let lt=new Ut({context:o,type:l.dotsOptions.type});o.beginPath();for(let J=0;J<ce.length;J++)for(let nt=0;nt<ce[J].length;nt++)!((at=ce[J])===null||at===void 0)&&at[nt]&&lt.draw(Ot+J*g,K+nt*g,g,(wt,Pt)=>{var X;return!!(!((X=ce[J+wt])===null||X===void 0)&&X[nt+Pt])})}if(!((Y=l.cornersDotOptions)===null||Y===void 0)&&Y.gradient){let lt=l.cornersDotOptions.gradient,J=this._createGradient({context:o,options:lt,additionalRotation:A,x:Ot+2*g,y:K+2*g,size:f});lt.colorStops.forEach(({offset:nt,color:wt})=>{J.addColorStop(nt,wt)}),o.fillStyle=o.strokeStyle=J}else!((At=l.cornersDotOptions)===null||At===void 0)&&At.color&&(o.fillStyle=o.strokeStyle=l.cornersDotOptions.color);o.fill("evenodd")})}loadImage(){return new Promise((r,o)=>{let l=this._options,d=new Image;if(!l.image)return o("Image is not defined");typeof l.imageOptions.crossOrigin=="string"&&(d.crossOrigin=l.imageOptions.crossOrigin),this._image=d,d.onload=()=>{r()},d.src=l.image})}drawImage({width:r,height:o,count:l,dotSize:d}){let c=this.context;if(!c)throw"canvasContext is not defined";if(!this._image)throw"image is not defined";let g=this._options,m=Math.floor((g.width-l*d)/2),f=Math.floor((g.height-l*d)/2),v=m+g.imageOptions.margin+(l*d-r)/2,_=f+g.imageOptions.margin+(l*d-o)/2,b=r-2*g.imageOptions.margin,I=o-2*g.imageOptions.margin;c.drawImage(this._image,v,_,b<0?0:b,I<0?0:I)}_createGradient({context:r,options:o,additionalRotation:l,x:d,y:c,size:g}){let m;if(o.type===fi)m=r.createRadialGradient(d+g/2,c+g/2,0,d+g/2,c+g/2,g/2);else{let f=((o.rotation||0)+l)%(2*Math.PI),v=(f+2*Math.PI)%(2*Math.PI),_=d+g/2,b=c+g/2,I=d+g/2,A=c+g/2;v>=0&&v<=.25*Math.PI||v>1.75*Math.PI&&v<=2*Math.PI?(_-=g/2,b-=g/2*Math.tan(f),I+=g/2,A+=g/2*Math.tan(f)):v>.25*Math.PI&&v<=.75*Math.PI?(b-=g/2,_-=g/2/Math.tan(f),A+=g/2,I+=g/2/Math.tan(f)):v>.75*Math.PI&&v<=1.25*Math.PI?(_+=g/2,b+=g/2*Math.tan(f),I-=g/2,A-=g/2*Math.tan(f)):v>1.25*Math.PI&&v<=1.75*Math.PI&&(b+=g/2,_+=g/2/Math.tan(f),A-=g/2,I-=g/2/Math.tan(f)),m=r.createLinearGradient(Math.round(_),Math.round(b),Math.round(I),Math.round(A))}return m}}class _i{constructor({svg:r,type:o}){this._svg=r,this._type=o}draw(r,o,l,d){let c;switch(this._type){case ct:c=this._drawDot;break;case ft:c=this._drawClassy;break;case Tt:c=this._drawClassyRounded;break;case Z:c=this._drawRounded;break;case rt:c=this._drawExtraRounded;break;default:c=this._drawSquare}c.call(this,{x:r,y:o,size:l,getNeighbor:d})}_rotateFigure({x:r,y:o,size:l,rotation:d=0,draw:c}){var g;let m=r+l/2,f=o+l/2;c(),(g=this._element)===null||g===void 0||g.setAttribute("transform",`rotate(${180*d/Math.PI},${m},${f})`)}_basicDot(r){let{size:o,x:l,y:d}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(l+o/2)),this._element.setAttribute("cy",String(d+o/2)),this._element.setAttribute("r",String(o/2))}}))}_basicSquare(r){let{size:o,x:l,y:d}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(l)),this._element.setAttribute("y",String(d)),this._element.setAttribute("width",String(o)),this._element.setAttribute("height",String(o))}}))}_basicSideRounded(r){let{size:o,x:l,y:d}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${l} ${d}v ${o}h `+o/2+`a ${o/2} ${o/2}, 0, 0, 0, 0 ${-o}`)}}))}_basicCornerRounded(r){let{size:o,x:l,y:d}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${l} ${d}v ${o}h ${o}v `+-o/2+`a ${o/2} ${o/2}, 0, 0, 0, ${-o/2} ${-o/2}`)}}))}_basicCornerExtraRounded(r){let{size:o,x:l,y:d}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${l} ${d}v ${o}h ${o}a ${o} ${o}, 0, 0, 0, ${-o} ${-o}`)}}))}_basicCornersRounded(r){let{size:o,x:l,y:d}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${l} ${d}v `+o/2+`a ${o/2} ${o/2}, 0, 0, 0, ${o/2} ${o/2}h `+o/2+"v "+-o/2+`a ${o/2} ${o/2}, 0, 0, 0, ${-o/2} ${-o/2}`)}}))}_drawDot({x:r,y:o,size:l}){this._basicDot({x:r,y:o,size:l,rotation:0})}_drawSquare({x:r,y:o,size:l}){this._basicSquare({x:r,y:o,size:l,rotation:0})}_drawRounded({x:r,y:o,size:l,getNeighbor:d}){let c=d?+d(-1,0):0,g=d?+d(1,0):0,m=d?+d(0,-1):0,f=d?+d(0,1):0,v=c+g+m+f;if(v!==0)if(v>2||c&&g||m&&f)this._basicSquare({x:r,y:o,size:l,rotation:0});else{if(v===2){let _=0;return c&&m?_=Math.PI/2:m&&g?_=Math.PI:g&&f&&(_=-Math.PI/2),void this._basicCornerRounded({x:r,y:o,size:l,rotation:_})}if(v===1){let _=0;return m?_=Math.PI/2:g?_=Math.PI:f&&(_=-Math.PI/2),void this._basicSideRounded({x:r,y:o,size:l,rotation:_})}}else this._basicDot({x:r,y:o,size:l,rotation:0})}_drawExtraRounded({x:r,y:o,size:l,getNeighbor:d}){let c=d?+d(-1,0):0,g=d?+d(1,0):0,m=d?+d(0,-1):0,f=d?+d(0,1):0,v=c+g+m+f;if(v!==0)if(v>2||c&&g||m&&f)this._basicSquare({x:r,y:o,size:l,rotation:0});else{if(v===2){let _=0;return c&&m?_=Math.PI/2:m&&g?_=Math.PI:g&&f&&(_=-Math.PI/2),void this._basicCornerExtraRounded({x:r,y:o,size:l,rotation:_})}if(v===1){let _=0;return m?_=Math.PI/2:g?_=Math.PI:f&&(_=-Math.PI/2),void this._basicSideRounded({x:r,y:o,size:l,rotation:_})}}else this._basicDot({x:r,y:o,size:l,rotation:0})}_drawClassy({x:r,y:o,size:l,getNeighbor:d}){let c=d?+d(-1,0):0,g=d?+d(1,0):0,m=d?+d(0,-1):0,f=d?+d(0,1):0;c+g+m+f!==0?c||m?g||f?this._basicSquare({x:r,y:o,size:l,rotation:0}):this._basicCornerRounded({x:r,y:o,size:l,rotation:Math.PI/2}):this._basicCornerRounded({x:r,y:o,size:l,rotation:-Math.PI/2}):this._basicCornersRounded({x:r,y:o,size:l,rotation:Math.PI/2})}_drawClassyRounded({x:r,y:o,size:l,getNeighbor:d}){let c=d?+d(-1,0):0,g=d?+d(1,0):0,m=d?+d(0,-1):0,f=d?+d(0,1):0;c+g+m+f!==0?c||m?g||f?this._basicSquare({x:r,y:o,size:l,rotation:0}):this._basicCornerExtraRounded({x:r,y:o,size:l,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:r,y:o,size:l,rotation:-Math.PI/2}):this._basicCornersRounded({x:r,y:o,size:l,rotation:Math.PI/2})}}class Ri{constructor({svg:r,type:o}){this._svg=r,this._type=o}draw(r,o,l,d){let c;switch(this._type){case he:c=this._drawSquare;break;case Kt:c=this._drawExtraRounded;break;default:c=this._drawDot}c.call(this,{x:r,y:o,size:l,rotation:d})}_rotateFigure({x:r,y:o,size:l,rotation:d=0,draw:c}){var g;let m=r+l/2,f=o+l/2;c(),(g=this._element)===null||g===void 0||g.setAttribute("transform",`rotate(${180*d/Math.PI},${m},${f})`)}_basicDot(r){let{size:o,x:l,y:d}=r,c=o/7;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${l+o/2} ${d}a ${o/2} ${o/2} 0 1 0 0.1 0zm 0 ${c}a ${o/2-c} ${o/2-c} 0 1 1 -0.1 0Z`)}}))}_basicSquare(r){let{size:o,x:l,y:d}=r,c=o/7;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${l} ${d}v ${o}h ${o}v `+-o+`zM ${l+c} ${d+c}h `+(o-2*c)+"v "+(o-2*c)+"h "+(2*c-o)+"z")}}))}_basicExtraRounded(r){let{size:o,x:l,y:d}=r,c=o/7;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${l} ${d+2.5*c}v `+2*c+`a ${2.5*c} ${2.5*c}, 0, 0, 0, ${2.5*c} ${2.5*c}h `+2*c+`a ${2.5*c} ${2.5*c}, 0, 0, 0, ${2.5*c} ${2.5*-c}v `+-2*c+`a ${2.5*c} ${2.5*c}, 0, 0, 0, ${2.5*-c} ${2.5*-c}h `+-2*c+`a ${2.5*c} ${2.5*c}, 0, 0, 0, ${2.5*-c} ${2.5*c}M ${l+2.5*c} ${d+c}h `+2*c+`a ${1.5*c} ${1.5*c}, 0, 0, 1, ${1.5*c} ${1.5*c}v `+2*c+`a ${1.5*c} ${1.5*c}, 0, 0, 1, ${1.5*-c} ${1.5*c}h `+-2*c+`a ${1.5*c} ${1.5*c}, 0, 0, 1, ${1.5*-c} ${1.5*-c}v `+-2*c+`a ${1.5*c} ${1.5*c}, 0, 0, 1, ${1.5*c} ${1.5*-c}`)}}))}_drawDot({x:r,y:o,size:l,rotation:d}){this._basicDot({x:r,y:o,size:l,rotation:d})}_drawSquare({x:r,y:o,size:l,rotation:d}){this._basicSquare({x:r,y:o,size:l,rotation:d})}_drawExtraRounded({x:r,y:o,size:l,rotation:d}){this._basicExtraRounded({x:r,y:o,size:l,rotation:d})}}class _n{constructor({svg:r,type:o}){this._svg=r,this._type=o}draw(r,o,l,d){let c;c=this._type===ge?this._drawSquare:this._drawDot,c.call(this,{x:r,y:o,size:l,rotation:d})}_rotateFigure({x:r,y:o,size:l,rotation:d=0,draw:c}){var g;let m=r+l/2,f=o+l/2;c(),(g=this._element)===null||g===void 0||g.setAttribute("transform",`rotate(${180*d/Math.PI},${m},${f})`)}_basicDot(r){let{size:o,x:l,y:d}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(l+o/2)),this._element.setAttribute("cy",String(d+o/2)),this._element.setAttribute("r",String(o/2))}}))}_basicSquare(r){let{size:o,x:l,y:d}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(l)),this._element.setAttribute("y",String(d)),this._element.setAttribute("width",String(o)),this._element.setAttribute("height",String(o))}}))}_drawDot({x:r,y:o,size:l,rotation:d}){this._basicDot({x:r,y:o,size:l,rotation:d})}_drawSquare({x:r,y:o,size:l,rotation:d}){this._basicSquare({x:r,y:o,size:l,rotation:d})}}let me=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],T=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];class k{constructor(r){this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(r.width)),this._element.setAttribute("height",String(r.height)),this._element.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._style=document.createElementNS("http://www.w3.org/2000/svg","style"),this._options=r}get width(){return this._options.width}get height(){return this._options.height}getElement(){return this._element}clear(){var r;let o=this._element;this._element=o.cloneNode(!1),(r=o?.parentNode)===null||r===void 0||r.replaceChild(this._element,o),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._style=document.createElementNS("http://www.w3.org/2000/svg","style"),this._element.appendChild(this._style),this._element.appendChild(this._defs)}async drawQR(r){let o=r.getModuleCount(),l=Math.min(this._options.width,this._options.height)-2*this._options.margin,d=Math.floor(l/o),c={hideXDots:0,hideYDots:0,width:0,height:0};if(this._qr=r,this._options.image){if(await this.loadImage(),!this._image)return;let{imageOptions:g,qrOptions:m}=this._options,f=g.imageSize*et[m.errorCorrectionLevel],v=Math.floor(f*o*o);c=O({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:v,maxHiddenAxisDots:o-14,dotSize:d})}this._element.appendChild(this._style),this._element.appendChild(this._defs),this.clear(),this.drawBackground(),this.drawDots((g,m)=>{var f,v,_,b,I,A;return!(this._options.imageOptions.hideBackgroundDots&&g>=(o-c.hideXDots)/2&&g<(o+c.hideXDots)/2&&m>=(o-c.hideYDots)/2&&m<(o+c.hideYDots)/2||!((f=me[g])===null||f===void 0)&&f[m]||!((v=me[g-o+7])===null||v===void 0)&&v[m]||!((_=me[g])===null||_===void 0)&&_[m-o+7]||!((b=T[g])===null||b===void 0)&&b[m]||!((I=T[g-o+7])===null||I===void 0)&&I[m]||!((A=T[g])===null||A===void 0)&&A[m-o+7])}),this.drawCorners(),this._options.image&&await this.drawImage({width:c.width,height:c.height,count:o,dotSize:d})}drawBackground(){var r,o,l;let d=this._element,c=this._options;if(d){let g=(r=c.backgroundOptions)===null||r===void 0?void 0:r.gradient,m=(o=c.backgroundOptions)===null||o===void 0?void 0:o.color;g?this._createColor({options:g,color:m,additionalRotation:0,x:0,y:0,height:c.height,width:c.width,name:"background-color"}):!((l=c.backgroundOptions)===null||l===void 0)&&l.color&&this._createStyle({color:m,name:"background-color"})}}drawDots(r){var o,l,d;if(!this._qr)throw"QR code is not defined";let c=this._options,g=this._qr.getModuleCount();if(g>c.width||g>c.height)throw"The canvas is too small.";let m=Math.min(c.width,c.height)-2*c.margin,f=Math.floor(m/g),v=Math.floor((c.width-g*f)/2),_=Math.floor((c.height-g*f)/2),b=new _i({svg:this._element,type:c.dotsOptions.type});!((o=c.dotsOptions)===null||o===void 0)&&o.gradient?(this._dotsClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id","clip-path-dot-color"),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(l=c.dotsOptions)===null||l===void 0?void 0:l.gradient,color:c.dotsOptions.color,additionalRotation:0,x:v,y:_,height:g*f,width:g*f,name:"dot-color"})):c.dotsOptions.color&&(this._dots=document.createElementNS("http://www.w3.org/2000/svg","g"),this._dots.setAttribute("class","dot-color"),this._element.appendChild(this._dots),this._createStyle({color:c.dotsOptions.color,name:"dot-color"}));for(let I=0;I<g;I++)for(let A=0;A<g;A++){if(r&&!r(I,A)||!(!((d=this._qr)===null||d===void 0)&&d.isDark(I,A)))continue;let B=this._options.useLegacyDotRotation?v+I*f:_+A*f,G=this._options.useLegacyDotRotation?_+A*f:v+I*f;b.draw(B,G,f,(H,W)=>this._options.useLegacyDotRotation?!(I+H<0||A+W<0||I+H>=g||A+W>=g)&&!(r&&!r(I+H,A+W))&&!!this._qr&&this._qr.isDark(I+H,A+W):!(A+H<0||I+W<0||A+H>=g||I+W>=g)&&!(r&&!r(A+H,I+W))&&!!this._qr&&this._qr.isDark(I+W,A+H)),b._element&&this._dotsClipPath?this._dotsClipPath.appendChild(b._element):b._element&&this._dots&&this._dots.appendChild(b._element)}}drawCorners(){if(!this._qr)throw"QR code is not defined";let r=this._element,o=this._options;if(!r)throw"Element code is not defined";let l=this._qr.getModuleCount(),d=Math.min(o.width,o.height)-2*o.margin,c=Math.floor(d/l),g=7*c,m=3*c,f=Math.floor((o.width-l*c)/2),v=Math.floor((o.height-l*c)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(([_,b,I])=>{var A,B,G,H,W,vt,ut,st,at,Y,At,Ot,K,lt;let J=f+_*c*(l-7),nt=v+b*c*(l-7),wt=this._dotsClipPath,Pt=this._dotsClipPath;if(!((A=o.cornersSquareOptions)===null||A===void 0)&&A.gradient?(wt=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),wt.setAttribute("id",`clip-path-corners-square-color-${_}-${b}`),this._defs.appendChild(wt),this._cornersSquareClipPath=this._cornersDotClipPath=Pt=wt,this._createColor({options:(B=o.cornersSquareOptions)===null||B===void 0?void 0:B.gradient,color:(G=o.cornersSquareOptions)===null||G===void 0?void 0:G.color,additionalRotation:I,x:J,y:nt,height:g,width:g,name:`corners-square-color-${_}-${b}`})):(this._cornerSquares=document.createElementNS("http://www.w3.org/2000/svg","g"),this._cornerSquares.setAttribute("class",`corners-square-color-${_}-${b}`),this._element.appendChild(this._cornerSquares),this._createStyle({color:(H=o.cornersSquareOptions)===null||H===void 0?void 0:H.color,name:`corners-square-color-${_}-${b}`})),(W=o.cornersSquareOptions)===null||W===void 0?void 0:W.type){let X=new Ri({svg:this._element,type:o.cornersSquareOptions.type});X.draw(J,nt,g,I),!((vt=o.cornersSquareOptions)===null||vt===void 0)&&vt.gradient&&X._element&&wt?wt.appendChild(X._element):X._element&&this._cornerSquares&&this._cornerSquares.appendChild(X._element)}else{let X=new _i({svg:this._element,type:o.dotsOptions.type});for(let Gt=0;Gt<me.length;Gt++)for(let Jt=0;Jt<me[Gt].length;Jt++)!((ut=me[Gt])===null||ut===void 0)&&ut[Jt]&&(X.draw(J+Gt*c,nt+Jt*c,c,(bn,vn)=>{var Be;return!!(!((Be=me[Gt+bn])===null||Be===void 0)&&Be[Jt+vn])}),X._element&&this._cornersSquareClipPath?this._cornersSquareClipPath.appendChild(X._element):X._element&&this._cornerSquares&&this._cornerSquares.appendChild(X._element))}if(!((st=o.cornersDotOptions)===null||st===void 0)&&st.gradient?(Pt=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),Pt.setAttribute("id",`clip-path-corners-dot-color-${_}-${b}`),this._defs.appendChild(Pt),this._cornersDotClipPath=Pt,this._createColor({options:(at=o.cornersDotOptions)===null||at===void 0?void 0:at.gradient,color:(Y=o.cornersDotOptions)===null||Y===void 0?void 0:Y.color,additionalRotation:I,x:J+2*c,y:nt+2*c,height:m,width:m,name:`corners-dot-color-${_}-${b}`})):(this._cornerDots=document.createElementNS("http://www.w3.org/2000/svg","g"),this._cornerDots.setAttribute("class",`corners-dot-color-${_}-${b}`),this._element.appendChild(this._cornerDots),this._createStyle({color:(At=o.cornersDotOptions)===null||At===void 0?void 0:At.color,name:`corners-dot-color-${_}-${b}`})),(Ot=o.cornersDotOptions)===null||Ot===void 0?void 0:Ot.type){let X=new _n({svg:this._element,type:o.cornersDotOptions.type});X.draw(J+2*c,nt+2*c,m,I),!((K=o.cornersDotOptions)===null||K===void 0)&&K.gradient&&X._element&&Pt?Pt.appendChild(X._element):X._element&&this._cornerDots&&this._cornerDots.appendChild(X._element)}else{let X=new _i({svg:this._element,type:o.dotsOptions.type});for(let Gt=0;Gt<T.length;Gt++)for(let Jt=0;Jt<T[Gt].length;Jt++)!((lt=T[Gt])===null||lt===void 0)&&lt[Jt]&&(X.draw(J+Gt*c,nt+Jt*c,c,(bn,vn)=>{var Be;return!!(!((Be=T[Gt+bn])===null||Be===void 0)&&Be[Jt+vn])}),X._element&&this._cornersDotClipPath?this._cornersDotClipPath.appendChild(X._element):X._element&&this._cornerDots&&this._cornerDots.appendChild(X._element))}})}loadImage(){return new Promise((r,o)=>{let l=this._options,d=new Image;if(!l.image)return o("Image is not defined");typeof l.imageOptions.crossOrigin=="string"&&(d.crossOrigin=l.imageOptions.crossOrigin),this._image=d,d.onload=()=>{r()},d.src=l.image})}async drawImage({width:r,height:o,count:l,dotSize:d}){let c=this._options,g=Math.floor((c.width-l*d)/2),m=Math.floor((c.height-l*d)/2),f=g+c.imageOptions.margin+(l*d-r)/2,v=m+c.imageOptions.margin+(l*d-o)/2,_=r-2*c.imageOptions.margin,b=o-2*c.imageOptions.margin,I=document.createElementNS("http://www.w3.org/2000/svg","image"),A=await this._getBase64Image(c.image||"");I.setAttribute("href",A),I.setAttribute("xlink:href",A),I.setAttribute("x",String(f)),I.setAttribute("y",String(v)),I.setAttribute("width",`${_}px`),I.setAttribute("height",`${b}px`),this._element.appendChild(I)}async _getImageBlob(r){return(await fetch(r)).blob()}_blobToBase64(r){return new Promise(o=>{let l=new FileReader;l.onload=function(){let d=l.result;o(d)},l.readAsDataURL(r)})}async _getBase64Image(r){if(r==="")return new Promise(l=>{l("")});let o=await this._getImageBlob(r);return await this._blobToBase64(o)}_createColor({options:r,color:o,additionalRotation:l,x:d,y:c,height:g,width:m,name:f}){let v=m>g?m:g,_=document.createElementNS("http://www.w3.org/2000/svg","rect");if(_.setAttribute("x",String(d)),_.setAttribute("y",String(c)),_.setAttribute("height",String(g)),_.setAttribute("width",String(m)),_.setAttribute("clip-path",`url('#clip-path-${f}')`),r){let b;if(r.type===fi)b=document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),b.setAttribute("id",f),b.setAttribute("gradientUnits","userSpaceOnUse"),b.setAttribute("fx",String(d+m/2)),b.setAttribute("fy",String(c+g/2)),b.setAttribute("cx",String(d+m/2)),b.setAttribute("cy",String(c+g/2)),b.setAttribute("r",String(v/2));else{let I=((r.rotation||0)+l)%(2*Math.PI),A=(I+2*Math.PI)%(2*Math.PI),B=d+m/2,G=c+g/2,H=d+m/2,W=c+g/2;A>=0&&A<=.25*Math.PI||A>1.75*Math.PI&&A<=2*Math.PI?(B-=m/2,G-=g/2*Math.tan(I),H+=m/2,W+=g/2*Math.tan(I)):A>.25*Math.PI&&A<=.75*Math.PI?(G-=g/2,B-=m/2/Math.tan(I),W+=g/2,H+=m/2/Math.tan(I)):A>.75*Math.PI&&A<=1.25*Math.PI?(B+=m/2,G+=g/2*Math.tan(I),H-=m/2,W-=g/2*Math.tan(I)):A>1.25*Math.PI&&A<=1.75*Math.PI&&(G+=g/2,B+=m/2/Math.tan(I),W-=g/2,H-=m/2/Math.tan(I)),b=document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),b.setAttribute("id",f),b.setAttribute("gradientUnits","userSpaceOnUse"),b.setAttribute("x1",String(Math.round(B))),b.setAttribute("y1",String(Math.round(G))),b.setAttribute("x2",String(Math.round(H))),b.setAttribute("y2",String(Math.round(W)))}r.colorStops.forEach(({offset:I,color:A})=>{let B=document.createElementNS("http://www.w3.org/2000/svg","stop");B.setAttribute("offset",100*I+"%"),B.setAttribute("stop-color",A),b.appendChild(B)}),_.setAttribute("fill",`url('#${f}')`),this._defs.appendChild(b)}else o&&_.setAttribute("fill",o);this._element.appendChild(_)}_createStyle({color:r,name:o}){this._style.innerHTML+=`.${o}{ fill: ${r}; }`}}let S="canvas",M={};for(let U=0;U<=40;U++)M[U]=U;let x={type:S,width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:M[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,crossOrigin:"anonymous",margin:0},dotsOptions:{type:"square",color:"#000"},backgroundOptions:{color:"#fff"},useLegacyDotRotation:!1};function D(U){let r=Object.assign({},U);if(!r.colorStops||!r.colorStops.length)throw"Field 'colorStops' is required in gradient";return r.rotation?r.rotation=Number(r.rotation):r.rotation=0,r.colorStops=r.colorStops.map(o=>Object.assign(Object.assign({},o),{offset:Number(o.offset)})),r}function F(U){let r=Object.assign({},U);return r.width=Number(r.width),r.height=Number(r.height),r.margin=Number(r.margin),r.imageOptions=Object.assign(Object.assign({},r.imageOptions),{hideBackgroundDots:!!r.imageOptions.hideBackgroundDots,imageSize:Number(r.imageOptions.imageSize),margin:Number(r.imageOptions.margin)}),r.margin>Math.min(r.width,r.height)&&(r.margin=Math.min(r.width,r.height)),r.dotsOptions=Object.assign({},r.dotsOptions),r.dotsOptions.gradient&&(r.dotsOptions.gradient=D(r.dotsOptions.gradient)),r.cornersSquareOptions&&(r.cornersSquareOptions=Object.assign({},r.cornersSquareOptions),r.cornersSquareOptions.gradient&&(r.cornersSquareOptions.gradient=D(r.cornersSquareOptions.gradient))),r.cornersDotOptions&&(r.cornersDotOptions=Object.assign({},r.cornersDotOptions),r.cornersDotOptions.gradient&&(r.cornersDotOptions.gradient=D(r.cornersDotOptions.gradient))),r.backgroundOptions&&(r.backgroundOptions=Object.assign({},r.backgroundOptions),r.backgroundOptions.gradient&&(r.backgroundOptions.gradient=D(r.backgroundOptions.gradient))),r}var E=t(192),j=t.n(E);class _t{constructor(r){this._options=r?F(s(x,r)):x,this.update()}static _clearContainer(r){r&&(r.innerHTML="")}async _getQRStylingElement(r){if(!this._qr)throw"QR code is empty";if(r.toLowerCase()==="svg"){let o,l;return this._svg&&this._svgDrawingPromise?(l=this._svg,o=this._svgDrawingPromise):(l=new k(this._options),o=l.drawQR(this._qr)),await o,l}{let o,l;return this._canvas&&this._canvasDrawingPromise?(l=this._canvas,o=this._canvasDrawingPromise):(l=new Ei(this._options),o=l.drawQR(this._qr)),await o,l}}update(r){_t._clearContainer(this._container),this._options=r?F(s(this._options,r)):this._options,this._options.data&&(this._qr=j()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||(function(o){switch(!0){case/^[0-9]*$/.test(o):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(o):return"Alphanumeric";default:return"Byte"}})(this._options.data)),this._qr.make(),this._options.type===S?(this._canvas=new Ei(this._options),this._canvasDrawingPromise=this._canvas.drawQR(this._qr),this._svgDrawingPromise=void 0,this._svg=void 0):(this._svg=new k(this._options),this._svgDrawingPromise=this._svg.drawQR(this._qr),this._canvasDrawingPromise=void 0,this._canvas=void 0),this.append(this._container))}append(r){if(r){if(typeof r.appendChild!="function")throw"Container should be a single DOM node";this._options.type===S?this._canvas&&r.appendChild(this._canvas.getCanvas()):this._svg&&r.appendChild(this._svg.getElement()),this._container=r}}async getRawData(r="png",o){if(!this._qr)throw"QR code is empty";let l=r.toLocaleLowerCase();if(l==="svg"){let d=await this._getQRStylingElement(l),c=new XMLSerializer().serializeToString(d.getElement());return new Blob([`<?xml version="1.0" standalone="no"?>\r
`+c],{type:"image/svg+xml"})}{let d=await this._getQRStylingElement(l);return new Promise(c=>d.getCanvas().toBlob(c,`image/${l}`,o))}}async toDataUrl(r="png",o){if(!this._qr)throw"QR code is empty";let l=r.toLocaleLowerCase();return(await this._getQRStylingElement(l)).getCanvas().toDataURL(`image/${l}`,o)}async download(r){if(!this._qr)throw"QR code is empty";let o="png",l="qr";typeof r=="object"&&r!==null&&(r.name&&(l=r.name),r.extension&&(o=r.extension));let d=o.toLocaleLowerCase();if(d==="svg"){let c=await this._getQRStylingElement(d),g=new XMLSerializer().serializeToString(c.getElement());g=`<?xml version="1.0" standalone="no"?>\r
`+g,y("data:image/svg+xml;charset=utf-8,"+encodeURIComponent(g),`${l}.svg`)}else y((await this._getQRStylingElement(d)).getCanvas().toDataURL(`image/${o}`),`${l}.${o}`)}}let bt=_t})(),e.default})())});var Sn=["*"];function wo(n,a){n&1&&qi(0)}var Mo=["tabListContainer"],Io=["tabList"],To=["tabListInner"],Po=["nextPaginator"],ko=["previousPaginator"],So=["content"];function Oo(n,a){}var Do=["tabBodyWrapper"],Ao=["tabHeader"];function Eo(n,a){}function Ro(n,a){if(n&1&&Ve(0,Eo,0,0,"ng-template",12),n&2){let t=w().$implicit;$("cdkPortalOutlet",t.templateLabel)}}function Lo(n,a){if(n&1&&C(0),n&2){let t=w().$implicit;P(t.textLabel)}}function Fo(n,a){if(n&1){let t=pt();u(0,"div",7,2),L("click",function(){let i=z(t),s=i.$implicit,y=i.$index,O=w(),et=vi(1);return N(O._handleClick(s,et,y))})("cdkFocusChange",function(i){let s=z(t).$index,y=w();return N(y._tabFocusChanged(i,s))}),ot(2,"span",8)(3,"div",9),u(4,"span",10)(5,"span",11),V(6,Ro,1,1,null,12)(7,Lo,1,1),h()()()}if(n&2){let t=a.$implicit,e=a.$index,i=vi(1),s=w();Ce(t.labelClass),xt("mdc-tab--active",s.selectedIndex===e),$("id",s._getTabLabelId(t,e))("disabled",t.disabled)("fitInkBarToContent",s.fitInkBarToContent),Dt("tabIndex",s._getTabIndex(e))("aria-posinset",e+1)("aria-setsize",s._tabs.length)("aria-controls",s._getTabContentId(e))("aria-selected",s.selectedIndex===e)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),p(3),$("matRippleTrigger",i)("matRippleDisabled",t.disabled||s.disableRipple),p(3),q(t.templateLabel?6:7)}}function Bo(n,a){n&1&&qi(0)}function zo(n,a){if(n&1){let t=pt();u(0,"mat-tab-body",13),L("_onCentered",function(){z(t);let i=w();return N(i._removeTabBodyWrapperHeight())})("_onCentering",function(i){z(t);let s=w();return N(s._setTabBodyWrapperHeight(i))})("_beforeCentering",function(i){z(t);let s=w();return N(s._bodyCentered(i))}),h()}if(n&2){let t=a.$implicit,e=a.$index,i=w();Ce(t.bodyClass),$("id",i._getTabContentId(e))("content",t.content)("position",t.position)("animationDuration",i.animationDuration)("preserveContent",i.preserveContent),Dt("tabindex",i.contentTabIndex!=null&&i.selectedIndex===e?i.contentTabIndex:null)("aria-labelledby",i._getTabLabelId(t,e))("aria-hidden",i.selectedIndex!==e)}}var No=new kt("MatTabContent"),jo=(()=>{class n{template=R(Qe);constructor(){}static \u0275fac=function(e){return new(e||n)};static \u0275dir=Ft({type:n,selectors:[["","matTabContent",""]],features:[yi([{provide:No,useExisting:n}])]})}return n})(),Vo=new kt("MatTabLabel"),Ya=new kt("MAT_TAB"),qo=(()=>{class n extends La{_closestTab=R(Ya,{optional:!0});static \u0275fac=(()=>{let t;return function(i){return(t||(t=be(n)))(i||n)}})();static \u0275dir=Ft({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[yi([{provide:Vo,useExisting:n}]),ee]})}return n})(),Xa=new kt("MAT_TAB_GROUP"),On=(()=>{class n{_viewContainerRef=R(ji);_closestTabGroup=R(Xa,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;id=null;_contentPortal=null;get content(){return this._contentPortal}_stateChanges=new Et;position=null;origin=null;isActive=!1;constructor(){R(xa).load(Oa)}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Zi(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=mt({type:n,selectors:[["mat-tab"]],contentQueries:function(e,i,s){if(e&1&&$i(s,qo,5)(s,jo,7,Qe),e&2){let y;ht(y=gt())&&(i.templateLabel=y.first),ht(y=gt())&&(i._explicitContent=y.first)}},viewQuery:function(e,i){if(e&1&&ie(Qe,7),e&2){let s;ht(s=gt())&&(i._implicitContent=s.first)}},hostAttrs:["hidden",""],hostVars:1,hostBindings:function(e,i){e&2&&Dt("id",null)},inputs:{disabled:[2,"disabled","disabled",Yt],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass",id:"id"},exportAs:["matTab"],features:[yi([{provide:Ya,useExisting:n}]),He],ngContentSelectors:Sn,decls:1,vars:0,template:function(e,i){e&1&&(Vi(),ta(0,wo,1,0,"ng-template"))},encapsulation:2})}return n})(),In="mdc-tab-indicator--active",Ha="mdc-tab-indicator--no-transition",Tn=class{_items;_currentItem;constructor(a){this._items=a}hide(){this._items.forEach(a=>a.deactivateInkBar()),this._currentItem=void 0}alignToElement(a){let t=this._items.find(i=>i.elementRef.nativeElement===a),e=this._currentItem;if(t!==e&&(e?.deactivateInkBar(),t)){let i=e?.elementRef.nativeElement.getBoundingClientRect?.();t.activateInkBar(i),this._currentItem=t}}},$o=(()=>{class n{_elementRef=R(Lt);_inkBarElement=null;_inkBarContentElement=null;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(t){this._fitToContent!==t&&(this._fitToContent=t,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(t){let e=this._elementRef.nativeElement;if(!t||!e.getBoundingClientRect||!this._inkBarContentElement){e.classList.add(In);return}let i=e.getBoundingClientRect(),s=t.width/i.width,y=t.left-i.left;e.classList.add(Ha),this._inkBarContentElement.style.setProperty("transform",`translateX(${y}px) scaleX(${s})`),e.getBoundingClientRect(),e.classList.remove(Ha),e.classList.add(In),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(In)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let t=this._elementRef.nativeElement.ownerDocument||document,e=this._inkBarElement=t.createElement("span"),i=this._inkBarContentElement=t.createElement("span");e.className="mdc-tab-indicator",i.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",e.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let t=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;t.appendChild(this._inkBarElement)}static \u0275fac=function(e){return new(e||n)};static \u0275dir=Ft({type:n,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",Yt]}})}return n})();var Za=(()=>{class n extends $o{elementRef=R(Lt);disabled=!1;focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static \u0275fac=(()=>{let t;return function(i){return(t||(t=be(n)))(i||n)}})();static \u0275dir=Ft({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,i){e&2&&(Dt("aria-disabled",!!i.disabled),xt("mat-mdc-tab-disabled",i.disabled))},inputs:{disabled:[2,"disabled","disabled",Yt]},features:[ee]})}return n})(),Qa={passive:!0},Uo=650,Go=100,Ho=(()=>{class n{_elementRef=R(Lt);_changeDetectorRef=R(Wt);_viewportRuler=R(Aa);_dir=R(Te,{optional:!0});_ngZone=R(te);_platform=R(qe);_sharedResizeObserver=R(Sa);_injector=R(Rt);_renderer=R(je);_animationsDisabled=se();_eventCleanups;_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new Et;_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged=!1;_keyManager;_currentTextContent;_stopScrolling=new Et;disablePagination=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(t){let e=isNaN(t)?0:t;this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}_selectedIndex=0;selectFocusedIndex=new St;indexFocused=new St;constructor(){this._eventCleanups=this._ngZone.runOutsideAngular(()=>[this._renderer.listen(this._elementRef.nativeElement,"mouseleave",()=>this._stopInterval())])}ngAfterViewInit(){this._eventCleanups.push(this._renderer.listen(this._previousPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("before"),Qa),this._renderer.listen(this._nextPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("after"),Qa))}ngAfterContentInit(){let t=this._dir?this._dir.change:Li("ltr"),e=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(Yn(32),Ht(this._destroyed)),i=this._viewportRuler.change(150).pipe(Ht(this._destroyed)),s=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Pa(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(Math.max(this._selectedIndex,0)),pe(s,{injector:this._injector}),Ue(t,i,e,this._items.changes,this._itemsResized()).pipe(Ht(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),s()})}),this._keyManager?.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(y=>{this.indexFocused.emit(y),this._setTabFocus(y)})}_itemsResized(){return typeof ResizeObserver!="function"?Hn:this._items.changes.pipe(fe(this._items),Zn(t=>new Gn(e=>this._ngZone.runOutsideAngular(()=>{let i=new ResizeObserver(s=>e.next(s));return t.forEach(s=>i.observe(s.elementRef.nativeElement)),()=>{i.disconnect()}}))),Xn(1),Ne(t=>t.some(e=>e.contentRect.width>0&&e.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._eventCleanups.forEach(t=>t()),this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!Ie(t))switch(t.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let e=this._items.get(this.focusIndex);e&&!e.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t))}break;default:this._keyManager?.onKeydown(t)}}_onContentChanges(){let t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){return this._items?!!this._items.toArray()[t]:!0}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();let e=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?e.scrollLeft=0:e.scrollLeft=e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let t=this.scrollDistance,e=this._getLayoutDirection()==="ltr"?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(e)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){let e=this._tabListContainer.nativeElement.offsetWidth,i=(t=="before"?-1:1)*e/3;return this._scrollTo(this._scrollDistance+i)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;let e=this._items?this._items.toArray()[t]:null;if(!e)return;let i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:y}=e.elementRef.nativeElement,O,et;this._getLayoutDirection()=="ltr"?(O=s,et=O+y):(et=this._tabListInner.nativeElement.offsetWidth-s,O=et-y);let ct=this.scrollDistance,Z=this.scrollDistance+i;O<ct?this.scrollDistance-=ct-O:et>Z&&(this.scrollDistance+=Math.min(et-Z,O-ct))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let t=this._tabListInner.nativeElement.scrollWidth,e=this._elementRef.nativeElement.offsetWidth,i=t-e>=5;i||(this.scrollDistance=0),i!==this._showPaginationControls&&(this._showPaginationControls=i,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let t=this._tabListInner.nativeElement.scrollWidth,e=this._tabListContainer.nativeElement.offsetWidth;return t-e||0}_alignInkBarToSelectedTab(){let t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,e){e&&e.button!=null&&e.button!==0||(this._stopInterval(),Wn(Uo,Go).pipe(Ht(Ue(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:i,distance:s}=this._scrollHeader(t);(s===0||s>=i)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}static \u0275fac=function(e){return new(e||n)};static \u0275dir=Ft({type:n,inputs:{disablePagination:[2,"disablePagination","disablePagination",Yt],selectedIndex:[2,"selectedIndex","selectedIndex",Gi]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}})}return n})(),Qo=(()=>{class n extends Ho{_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new Tn(this._items),super.ngAfterContentInit()}_itemSelected(t){t.preventDefault()}static \u0275fac=(()=>{let t;return function(i){return(t||(t=be(n)))(i||n)}})();static \u0275cmp=mt({type:n,selectors:[["mat-tab-header"]],contentQueries:function(e,i,s){if(e&1&&$i(s,Za,4),e&2){let y;ht(y=gt())&&(i._items=y)}},viewQuery:function(e,i){if(e&1&&ie(Mo,7)(Io,7)(To,7)(Po,5)(ko,5),e&2){let s;ht(s=gt())&&(i._tabListContainer=s.first),ht(s=gt())&&(i._tabList=s.first),ht(s=gt())&&(i._tabListInner=s.first),ht(s=gt())&&(i._nextPaginator=s.first),ht(s=gt())&&(i._previousPaginator=s.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(e,i){e&2&&xt("mat-mdc-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-mdc-tab-header-rtl",i._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",Yt]},features:[ee],ngContentSelectors:Sn,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(e,i){if(e&1){let s=pt();Vi(),u(0,"div",5,0),L("click",function(){return z(s),N(i._handlePaginatorClick("before"))})("mousedown",function(O){return z(s),N(i._handlePaginatorPress("before",O))})("touchend",function(){return z(s),N(i._stopInterval())}),ot(2,"div",6),h(),u(3,"div",7,1),L("keydown",function(O){return z(s),N(i._handleKeydown(O))}),u(5,"div",8,2),L("cdkObserveContent",function(){return z(s),N(i._onContentChanges())}),u(7,"div",9,3),qi(9),h()()(),u(10,"div",10,4),L("mousedown",function(O){return z(s),N(i._handlePaginatorPress("after",O))})("click",function(){return z(s),N(i._handlePaginatorClick("after"))})("touchend",function(){return z(s),N(i._stopInterval())}),ot(12,"div",6),h()}e&2&&(xt("mat-mdc-tab-header-pagination-disabled",i._disableScrollBefore),$("matRippleDisabled",i._disableScrollBefore||i.disableRipple),p(3),xt("_mat-animation-noopable",i._animationsDisabled),p(2),Dt("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby||null),p(5),xt("mat-mdc-tab-header-pagination-disabled",i._disableScrollAfter),$("matRippleDisabled",i._disableScrollAfter||i.disableRipple))},dependencies:[Mn,Ma],styles:[`.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-divider-height, 1px);border-bottom-color:var(--mat-tab-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-divider-height, 1px);border-top-color:var(--mat-tab-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mat-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}
`],encapsulation:2})}return n})(),Wo=new kt("MAT_TABS_CONFIG"),Wa=(()=>{class n extends Ae{_host=R(Pn);_ngZone=R(te);_centeringSub=ze.EMPTY;_leavingSub=ze.EMPTY;constructor(){super()}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(fe(this._host._isCenterPosition())).subscribe(t=>{this._host._content&&t&&!this.hasAttached()&&this._ngZone.run(()=>{Promise.resolve().then(),this.attach(this._host._content)})}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this._ngZone.run(()=>this.detach())})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static \u0275fac=function(e){return new(e||n)};static \u0275dir=Ft({type:n,selectors:[["","matTabBodyHost",""]],features:[ee]})}return n})(),Pn=(()=>{class n{_elementRef=R(Lt);_dir=R(Te,{optional:!0});_ngZone=R(te);_injector=R(Rt);_renderer=R(je);_diAnimationsDisabled=se();_eventCleanups;_initialized=!1;_fallbackTimer;_positionIndex;_dirChangeSubscription=ze.EMPTY;_position;_previousPosition;_onCentering=new St;_beforeCentering=new St;_afterLeavingCenter=new St;_onCentered=new St(!0);_portalHost;_contentElement;_content;animationDuration="500ms";preserveContent=!1;set position(t){this._positionIndex=t,this._computePositionAnimationState()}constructor(){if(this._dir){let t=R(Wt);this._dirChangeSubscription=this._dir.change.subscribe(e=>{this._computePositionAnimationState(e),t.markForCheck()})}}ngOnInit(){this._bindTransitionEvents(),this._position==="center"&&(this._setActiveClass(!0),pe(()=>this._onCentering.emit(this._elementRef.nativeElement.clientHeight),{injector:this._injector})),this._initialized=!0}ngOnDestroy(){clearTimeout(this._fallbackTimer),this._eventCleanups?.forEach(t=>t()),this._dirChangeSubscription.unsubscribe()}_bindTransitionEvents(){this._ngZone.runOutsideAngular(()=>{let t=this._elementRef.nativeElement,e=i=>{i.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.remove("mat-tab-body-animating"),i.type==="transitionend"&&this._transitionDone())};this._eventCleanups=[this._renderer.listen(t,"transitionstart",i=>{i.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.add("mat-tab-body-animating"),this._transitionStarted())}),this._renderer.listen(t,"transitionend",e),this._renderer.listen(t,"transitioncancel",e)]})}_transitionStarted(){clearTimeout(this._fallbackTimer);let t=this._position==="center";this._beforeCentering.emit(t),t&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_transitionDone(){this._position==="center"?this._onCentered.emit():this._previousPosition==="center"&&this._afterLeavingCenter.emit()}_setActiveClass(t){this._elementRef.nativeElement.classList.toggle("mat-mdc-tab-body-active",t)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(){return this._positionIndex===0}_computePositionAnimationState(t=this._getLayoutDirection()){this._previousPosition=this._position,this._positionIndex<0?this._position=t=="ltr"?"left":"right":this._positionIndex>0?this._position=t=="ltr"?"right":"left":this._position="center",this._animationsDisabled()?this._simulateTransitionEvents():this._initialized&&(this._position==="center"||this._previousPosition==="center")&&(clearTimeout(this._fallbackTimer),this._fallbackTimer=this._ngZone.runOutsideAngular(()=>setTimeout(()=>this._simulateTransitionEvents(),100)))}_simulateTransitionEvents(){this._transitionStarted(),pe(()=>this._transitionDone(),{injector:this._injector})}_animationsDisabled(){return this._diAnimationsDisabled||this.animationDuration==="0ms"||this.animationDuration==="0s"}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=mt({type:n,selectors:[["mat-tab-body"]],viewQuery:function(e,i){if(e&1&&ie(Wa,5)(So,5),e&2){let s;ht(s=gt())&&(i._portalHost=s.first),ht(s=gt())&&(i._contentElement=s.first)}},hostAttrs:[1,"mat-mdc-tab-body"],hostVars:1,hostBindings:function(e,i){e&2&&Dt("inert",i._position==="center"?null:"")},inputs:{_content:[0,"content","_content"],animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(e,i){e&1&&(u(0,"div",1,0),Ve(2,Oo,0,0,"ng-template",2),h()),e&2&&xt("mat-tab-body-content-left",i._position==="left")("mat-tab-body-content-right",i._position==="right")("mat-tab-body-content-can-animate",i._position==="center"||i._previousPosition==="center")},dependencies:[Wa,Xi],styles:[`.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto;transform:none;visibility:hidden}.mat-tab-body-animating>.mat-mdc-tab-body-content,.mat-mdc-tab-body-active>.mat-mdc-tab-body-content{visibility:visible}.mat-tab-body-animating>.mat-mdc-tab-body-content{min-height:1px}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-tab-body-content-can-animate{transition:transform var(--mat-tab-animation-duration) 1ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable .mat-tab-body-content-can-animate{transition:none}.mat-tab-body-content-left{transform:translate3d(-100%, 0, 0)}.mat-tab-body-content-right{transform:translate3d(100%, 0, 0)}
`],encapsulation:2})}return n})(),Ka=(()=>{class n{_elementRef=R(Lt);_changeDetectorRef=R(Wt);_ngZone=R(te);_tabsSubscription=ze.EMPTY;_tabLabelSubscription=ze.EMPTY;_tabBodySubscription=ze.EMPTY;_diAnimationsDisabled=se();_allTabs;_tabBodies;_tabBodyWrapper;_tabHeader;_tabs=new Kn;_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;color;get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(t){this._fitInkBarToContent=t,this._changeDetectorRef.markForCheck()}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=isNaN(t)?null:t}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration}set animationDuration(t){let e=t+"";this._animationDuration=/^\d+$/.test(e)?t+"ms":e}_animationDuration;get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=isNaN(t)?null:t}_contentTabIndex=null;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor}set backgroundColor(t){let e=this._elementRef.nativeElement.classList;e.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),t&&e.add("mat-tabs-with-background",`mat-background-${t}`),this._backgroundColor=t}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new St;focusChange=new St;animationDone=new St;selectedTabChange=new St(!0);_groupId;_isServer=!R(qe).isBrowser;constructor(){let t=R(Wo,{optional:!0});this._groupId=R($e).getId("mat-tab-group-"),this.animationDuration=t&&t.animationDuration?t.animationDuration:"500ms",this.disablePagination=t&&t.disablePagination!=null?t.disablePagination:!1,this.dynamicHeight=t&&t.dynamicHeight!=null?t.dynamicHeight:!1,t?.contentTabIndex!=null&&(this.contentTabIndex=t.contentTabIndex),this.preserveContent=!!t?.preserveContent,this.fitInkBarToContent=t&&t.fitInkBarToContent!=null?t.fitInkBarToContent:!1,this.stretchTabs=t&&t.stretchTabs!=null?t.stretchTabs:!0,this.alignTabs=t&&t.alignTabs!=null?t.alignTabs:null}ngAfterContentChecked(){let t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){let e=this._selectedIndex==null;if(!e){this.selectedTabChange.emit(this._createChangeEvent(t));let i=this._tabBodyWrapper.nativeElement;i.style.minHeight=i.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((i,s)=>i.isActive=s===t),e||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((e,i)=>{e.position=i-t,this._selectedIndex!=null&&e.position==0&&!e.origin&&(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let t=this._clampTabIndex(this._indexToSelect);if(t===this._selectedIndex){let e=this._tabs.toArray(),i;for(let s=0;s<e.length;s++)if(e[s].isActive){this._indexToSelect=this._selectedIndex=s,this._lastFocusedTabIndex=null,i=e[s];break}!i&&e[t]&&Promise.resolve().then(()=>{e[t].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(t))})}this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._tabBodySubscription=this._tabBodies.changes.subscribe(()=>this._bodyCentered(!0))}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(fe(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(e=>e._closestTabGroup===this||!e._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe(),this._tabBodySubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(t){let e=this._tabHeader;e&&(e.focusIndex=t)}_focusChanged(t){this._lastFocusedTabIndex=t,this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){let e=new kn;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Ue(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t,e){return t.id||`${this._groupId}-label-${e}`}_getTabContentId(t){return`${this._groupId}-content-${t}`}_setTabBodyWrapperHeight(t){if(!this.dynamicHeight||!this._tabBodyWrapperHeight){this._tabBodyWrapperHeight=t;return}let e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}_removeTabBodyWrapperHeight(){let t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this._ngZone.run(()=>this.animationDone.emit())}_handleClick(t,e,i){e.focusIndex=i,t.disabled||(this.selectedIndex=i)}_getTabIndex(t){let e=this._lastFocusedTabIndex??this.selectedIndex;return t===e?0:-1}_tabFocusChanged(t,e){t&&t!=="mouse"&&t!=="touch"&&(this._tabHeader.focusIndex=e)}_bodyCentered(t){t&&this._tabBodies?.forEach((e,i)=>e._setActiveClass(i===this._selectedIndex))}_animationsDisabled(){return this._diAnimationsDisabled||this.animationDuration==="0"||this.animationDuration==="0ms"}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=mt({type:n,selectors:[["mat-tab-group"]],contentQueries:function(e,i,s){if(e&1&&$i(s,On,5),e&2){let y;ht(y=gt())&&(i._allTabs=y)}},viewQuery:function(e,i){if(e&1&&ie(Do,5)(Ao,5)(Pn,5),e&2){let s;ht(s=gt())&&(i._tabBodyWrapper=s.first),ht(s=gt())&&(i._tabHeader=s.first),ht(s=gt())&&(i._tabBodies=s)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(e,i){e&2&&(Dt("mat-align-tabs",i.alignTabs),Ce("mat-"+(i.color||"primary")),oa("--mat-tab-animation-duration",i.animationDuration),xt("mat-mdc-tab-group-dynamic-height",i.dynamicHeight)("mat-mdc-tab-group-inverted-header",i.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",i.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",Yt],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",Yt],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",Yt],selectedIndex:[2,"selectedIndex","selectedIndex",Gi],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",Gi],disablePagination:[2,"disablePagination","disablePagination",Yt],disableRipple:[2,"disableRipple","disableRipple",Yt],preserveContent:[2,"preserveContent","preserveContent",Yt],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[yi([{provide:Xa,useExisting:n}])],ngContentSelectors:Sn,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","class","content","position","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","_beforeCentering","id","content","position","animationDuration","preserveContent"]],template:function(e,i){if(e&1){let s=pt();Vi(),u(0,"mat-tab-header",3,0),L("indexFocused",function(O){return z(s),N(i._focusChanged(O))})("selectFocusedIndex",function(O){return z(s),N(i.selectedIndex=O)}),Ct(2,Fo,8,17,"div",4,Qt),h(),V(4,Bo,1,0),u(5,"div",5,1),Ct(7,zo,1,10,"mat-tab-body",6,Qt),h()}e&2&&($("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),ea("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),p(2),yt(i._tabs),p(2),q(i._isServer?4:-1),p(),xt("_mat-animation-noopable",i._animationsDisabled()),p(2),yt(i._tabs))},dependencies:[Qo,Za,ya,Mn,Ae,Pn],styles:[`.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1;touch-action:manipulation}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mat-tab-container-height, 48px);font-family:var(--mat-tab-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mat-tab-active-indicator-height, 2px);border-radius:var(--mat-tab-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-disabled-ripple-color, var(--mat-sys-on-surface-variant))}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}
`],encapsulation:2})}return n})(),kn=class{index;tab};var Ja=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=ve({type:n});static \u0275inj=_e({imports:[ti]})}return n})();var Xo=["tooltip"],Zo=20;var Ko=new kt("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=R(Rt);return()=>Fa(n,{scrollThrottle:Zo})}}),Jo=new kt("mat-tooltip-default-options",{providedIn:"root",factory:()=>({showDelay:0,hideDelay:0,touchendHideDelay:1500})});var to="tooltip-panel",tr={passive:!0},er=8,ir=8,nr=24,ar=200,Dn=(()=>{class n{_elementRef=R(Lt);_ngZone=R(te);_platform=R(qe);_ariaDescriber=R(ka);_focusMonitor=R(xi);_dir=R(Te);_injector=R(Rt);_viewContainerRef=R(ji);_mediaMatcher=R(wa);_document=R(zi);_renderer=R(je);_animationsDisabled=se();_defaultOptions=R(Jo,{optional:!0});_overlayRef=null;_tooltipInstance=null;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=eo;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending=!1;_dirSubscribed=!1;get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=wn(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){let e=wn(t);this._disabled!==e&&(this._disabled=e,e?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=Je(t)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=Je(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(t){let e=this._message;this._message=t!=null?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(e)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_eventCleanups=[];_touchstartTimeout=null;_destroyed=new Et;_isDestroyed=!1;constructor(){let t=this._defaultOptions;t&&(this._showDelay=t.showDelay,this._hideDelay=t.hideDelay,t.position&&(this.position=t.position),t.positionAtOrigin&&(this.positionAtOrigin=t.positionAtOrigin),t.touchGestures&&(this.touchGestures=t.touchGestures),t.tooltipClass&&(this.tooltipClass=t.tooltipClass)),this._viewportMargin=er}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ht(this._destroyed)).subscribe(t=>{t?t==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let t=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._eventCleanups.forEach(e=>e()),this._eventCleanups.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,e){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let i=this._createOverlay(e);this._detach(),this._portal=this._portal||new wi(this._tooltipComponent,this._viewContainerRef);let s=this._tooltipInstance=i.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(Ht(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(t)}hide(t=this.hideDelay){let e=this._tooltipInstance;e&&(e.isVisible()?e.hide(t):(e._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){let y=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&y._origin instanceof Lt)return this._overlayRef;this._detach()}let e=this._injector.get(Da).getAncestorScrollContainers(this._elementRef),i=`${this._cssClassPrefix}-${to}`,s=ja(this._injector,this.positionAtOrigin?t||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e).withPopoverLocation("global");return s.positionChanges.pipe(Ht(this._destroyed)).subscribe(y=>{this._updateCurrentPositionClass(y.connectionPair),this._tooltipInstance&&y.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=tn(this._injector,{direction:this._dir,positionStrategy:s,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,i]:i,scrollStrategy:this._injector.get(Ko)(),disableAnimations:this._animationsDisabled}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ht(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ht(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ht(this._destroyed)).subscribe(y=>{this._isTooltipVisible()&&y.keyCode===27&&!Ie(y)&&(y.preventDefault(),y.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(Ht(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){let e=t.getConfig().positionStrategy,i=this._getOrigin(),s=this._getOverlayPosition();e.withPositions([this._addOffset(Mt(Mt({},i.main),s.main)),this._addOffset(Mt(Mt({},i.fallback),s.fallback))])}_addOffset(t){let e=ir,i=!this._dir||this._dir.value=="ltr";return t.originY==="top"?t.offsetY=-e:t.originY==="bottom"?t.offsetY=e:t.originX==="start"?t.offsetX=i?-e:e:t.originX==="end"&&(t.offsetX=i?e:-e),t}_getOrigin(){let t=!this._dir||this._dir.value=="ltr",e=this.position,i;e=="above"||e=="below"?i={originX:"center",originY:e=="above"?"top":"bottom"}:e=="before"||e=="left"&&t||e=="right"&&!t?i={originX:"start",originY:"center"}:(e=="after"||e=="right"&&t||e=="left"&&!t)&&(i={originX:"end",originY:"center"});let{x:s,y}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:s,originY:y}}}_getOverlayPosition(){let t=!this._dir||this._dir.value=="ltr",e=this.position,i;e=="above"?i={overlayX:"center",overlayY:"bottom"}:e=="below"?i={overlayX:"center",overlayY:"top"}:e=="before"||e=="left"&&t||e=="right"&&!t?i={overlayX:"end",overlayY:"center"}:(e=="after"||e=="right"&&t||e=="left"&&!t)&&(i={overlayX:"start",overlayY:"center"});let{x:s,y}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:s,overlayY:y}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),pe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t instanceof Set?Array.from(t):t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return this.position==="above"||this.position==="below"?e==="top"?e="bottom":e==="bottom"&&(e="top"):t==="end"?t="start":t==="start"&&(t="end"),{x:t,y:e}}_updateCurrentPositionClass(t){let{overlayY:e,originX:i,originY:s}=t,y;if(e==="center"?this._dir&&this._dir.value==="rtl"?y=i==="end"?"left":"right":y=i==="start"?"left":"right":y=e==="bottom"&&s==="top"?"above":"below",y!==this._currentPosition){let O=this._overlayRef;if(O){let et=`${this._cssClassPrefix}-${to}-`;O.removePanelClass(et+this._currentPosition),O.addPanelClass(et+y)}this._currentPosition=y}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._eventCleanups.length||(this._isTouchPlatform()?this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._addListener("touchstart",t=>{let e=t.targetTouches?.[0],i=e?{x:e.clientX,y:e.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let s=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,i)},this._defaultOptions?.touchLongPressShowDelay??s)})):this._addListener("mouseenter",t=>{this._setupPointerExitEventsIfNeeded();let e;t.x!==void 0&&t.y!==void 0&&(e=t),this.show(void 0,e)}))}_setupPointerExitEventsIfNeeded(){if(!this._pointerExitEventsInitialized){if(this._pointerExitEventsInitialized=!0,!this._isTouchPlatform())this._addListener("mouseleave",t=>{let e=t.relatedTarget;(!e||!this._overlayRef?.overlayElement.contains(e))&&this.hide()}),this._addListener("wheel",t=>{if(this._isTooltipVisible()){let e=this._document.elementFromPoint(t.clientX,t.clientY),i=this._elementRef.nativeElement;e!==i&&!i.contains(e)&&this.hide()}});else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let t=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};this._addListener("touchend",t),this._addListener("touchcancel",t)}}}_addListener(t,e){this._eventCleanups.push(this._renderer.listen(this._elementRef.nativeElement,t,e,tr))}_isTouchPlatform(){return this._platform.IOS||this._platform.ANDROID?!0:this._platform.isBrowser?!!this._defaultOptions?.detectHoverCapability&&this._mediaMatcher.matchMedia("(any-hover: none)").matches:!1}_disableNativeGesturesIfNecessary(){let t=this.touchGestures;if(t!=="off"){let e=this._elementRef.nativeElement,i=e.style;(t==="on"||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA")&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),(t==="on"||!e.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}_syncAriaDescription(t){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,t,"tooltip"),this._isDestroyed||pe({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(e){return new(e||n)};static \u0275dir=Ft({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(e,i){e&2&&xt("mat-mdc-tooltip-disabled",i.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return n})(),eo=(()=>{class n{_changeDetectorRef=R(Wt);_elementRef=R(Lt);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=se();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new Et;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(t){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>nr&&t.width>=ar}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){let e=this._tooltip.nativeElement,i=this._showAnimation,s=this._hideAnimation;if(e.classList.remove(t?s:i),e.classList.add(t?i:s),this._isVisible!==t&&(this._isVisible=t,this._changeDetectorRef.markForCheck()),t&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let y=getComputedStyle(e);(y.getPropertyValue("animation-duration")==="0s"||y.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(e.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=mt({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(e&1&&ie(Xo,7),e&2){let s;ht(s=gt())&&(i._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(e,i){e&1&&L("mouseleave",function(y){return i._handleMouseLeave(y)})},decls:4,vars:5,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(e,i){if(e&1){let s=pt();yn(0,"div",1,0),aa("animationend",function(O){return z(s),N(i._handleAnimationEnd(O))}),yn(2,"div",2),C(3),na()()}e&2&&(Ce(i.tooltipClass),xt("mdc-tooltip--multiline",i._isMultiline),p(3),P(i.message))},styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return n})();var io=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=ve({type:n});static \u0275inj=_e({imports:[Wi,ni,ti,Ea]})}return n})();var ro=Co(no());var rr=(n,a)=>a.id;function sr(n,a){if(n&1&&(u(0,"mat-option",15),C(1),h()),n&2){let t=a.$implicit;$("value",t),p(),P(t)}}function lr(n,a){if(n&1&&(u(0,"mat-option",15),C(1),h()),n&2){let t=a.$implicit;$("value",t),p(),P(t)}}function dr(n,a){if(n&1&&(u(0,"mat-option",15),C(1),h()),n&2){let t=a.$implicit;$("value",t),p(),P(t)}}function cr(n,a){n&1&&(u(0,"div",20),ot(1,"mat-spinner",24),h())}function mr(n,a){if(n&1&&(u(0,"div",21),C(1),h()),n&2){let t=w();p(),P(t.ts.t("tables.noTables"))}}function pr(n,a){if(n&1){let t=pt();u(0,"mat-card",22)(1,"div",25)(2,"div",26)(3,"div",27),C(4),h(),u(5,"div",28)(6,"mat-chip-set")(7,"mat-chip",29),C(8),h(),u(9,"mat-chip"),C(10),h()()()(),ot(11,"div",30),h(),u(12,"div",31)(13,"code",32),C(14),h()(),u(15,"mat-card-actions",33)(16,"button",34),L("click",function(){let i=z(t).$implicit,s=w();return N(s.copyUrl(i))}),u(17,"mat-icon"),C(18),h(),C(19),h(),u(20,"button",34),L("click",function(){let i=z(t).$implicit,s=w();return N(s.downloadQr(i,"svg"))}),u(21,"mat-icon"),C(22,"download"),h(),C(23," SVG "),h(),u(24,"button",34),L("click",function(){let i=z(t).$implicit,s=w();return N(s.downloadQr(i,"png"))}),u(25,"mat-icon"),C(26,"download"),h(),C(27," PNG "),h(),u(28,"button",35),L("click",function(){let i=z(t).$implicit,s=w();return N(s.startEdit(i))}),u(29,"mat-icon"),C(30,"edit"),h()(),u(31,"button",36),L("click",function(){let i=z(t).$implicit,s=w();return N(s.askDelete(i))}),u(32,"mat-icon"),C(33,"delete"),h()()()()}if(n&2){let t=a.$implicit,e=w();p(4),Q("Table #",t.number),p(4),Ci("",t.capacity," ",e.ts.t("tables.seats")),p(),xt("chip-available",t.status==="available")("chip-occupied",t.status==="occupied"),p(),Q(" ",t.status==="available"?e.ts.t("tables.available"):t.status==="occupied"?e.ts.t("tables.occupied"):t.status," "),p(),$("id","qr-"+t.qr_token),p(3),P(e.getTableUrl(t)),p(2),$("matTooltip",e.ts.t("tables.copyLink")),p(2),P(e.copiedToken===t.qr_token?"check":"content_copy"),p(),Q(" ",e.copiedToken===t.qr_token?e.ts.t("tables.copied"):e.ts.t("tables.copy")," "),p(),$("matTooltip",e.ts.t("tables.downloadSvg")),p(4),$("matTooltip",e.ts.t("tables.downloadPng")),p(4),$("matTooltip",e.ts.t("tables.edit")),p(3),$("matTooltip",e.ts.t("tables.delete"))}}function ur(n,a){if(n&1){let t=pt();u(0,"div",23)(1,"mat-card",37)(2,"button",38),L("click",function(){z(t);let i=w();return N(i.cancelDelete())}),u(3,"mat-icon"),C(4,"close"),h()(),u(5,"mat-card-header")(6,"mat-card-title",39),C(7),h()(),u(8,"mat-card-content")(9,"p",40),C(10),u(11,"strong"),C(12),h(),C(13," ?"),h()(),u(14,"mat-card-actions",41)(15,"button",42),L("click",function(){z(t);let i=w();return N(i.cancelDelete())}),C(16),h(),u(17,"button",43),L("click",function(){z(t);let i=w();return N(i.confirmDeleteAction())}),C(18),h()()()()}if(n&2){let t=w();p(7),P(t.ts.t("tables.deleteTitle")),p(3),Q("",t.ts.t("tables.deleteConfirm")," "),p(2),Q("#",t.getTableNumberById(t.confirmDeleteId)),p(4),P(t.ts.t("tables.cancel")),p(),$("disabled",t.deletingTableId!==null),p(),Q(" ",t.deletingTableId!==null?t.ts.t("tables.deleting"):t.ts.t("tables.delete")," ")}}function hr(n,a){if(n&1&&(u(0,"div",45),C(1),h()),n&2){let t=w(2);p(),P(t.editErrorMessage)}}function gr(n,a){if(n&1){let t=pt();u(0,"div",23)(1,"mat-card",44)(2,"button",38),L("click",function(){z(t);let i=w();return N(i.cancelEdit())}),u(3,"mat-icon"),C(4,"close"),h()(),u(5,"mat-card-header")(6,"mat-card-title",39),C(7),h()(),u(8,"mat-card-content"),V(9,hr,2,1,"div",45),u(10,"mat-form-field",9)(11,"mat-label"),C(12),h(),u(13,"input",46),Nt("ngModelChange",function(i){z(t);let s=w();return zt(s.editNumber,i)||(s.editNumber=i),N(i)}),h()(),u(14,"mat-form-field",9)(15,"mat-label"),C(16),h(),u(17,"input",47),Nt("ngModelChange",function(i){z(t);let s=w();return zt(s.editCapacity,i)||(s.editCapacity=i),N(i)}),h()()(),u(18,"mat-card-actions",41)(19,"button",42),L("click",function(){z(t);let i=w();return N(i.cancelEdit())}),C(20),h(),u(21,"button",48),L("click",function(){z(t);let i=w();return N(i.saveEdit())}),C(22),h()()()()}if(n&2){let t=w();p(7),P(t.ts.t("tables.editTitle")),p(2),q(t.editErrorMessage?9:-1),p(3),P(t.ts.t("tables.number")),p(),Bt("ngModel",t.editNumber),p(3),P(t.ts.t("tables.capacity")),p(),Bt("ngModel",t.editCapacity),p(3),P(t.ts.t("tables.cancel")),p(),$("disabled",t.isUpdating||!t.editNumber||!t.editCapacity),p(),Q(" ",t.isUpdating?t.ts.t("tables.saving"):t.ts.t("tables.save")," ")}}function fr(n,a){if(n&1&&(u(0,"div",45),C(1),h()),n&2){let t=w(2);p(),P(t.errorMessage)}}function _r(n,a){if(n&1){let t=pt();u(0,"div",23)(1,"mat-card",44)(2,"button",38),L("click",function(){z(t);let i=w();return N(i.cancelCreate())}),u(3,"mat-icon"),C(4,"close"),h()(),u(5,"mat-card-header")(6,"mat-card-title",39),C(7),h()(),u(8,"mat-card-content"),V(9,fr,2,1,"div",45),u(10,"form",49),L("ngSubmit",function(){z(t);let i=w();return N(i.createTable())}),u(11,"mat-form-field",9)(12,"mat-label"),C(13),h(),u(14,"input",50),Nt("ngModelChange",function(i){z(t);let s=w();return zt(s.newTableNumber,i)||(s.newTableNumber=i),N(i)}),h()(),u(15,"mat-form-field",9)(16,"mat-label"),C(17),h(),u(18,"input",51),Nt("ngModelChange",function(i){z(t);let s=w();return zt(s.newTableCapacity,i)||(s.newTableCapacity=i),N(i)}),h()(),u(19,"mat-card-actions",41)(20,"button",52),L("click",function(){z(t);let i=w();return N(i.cancelCreate())}),C(21),h(),u(22,"button",53),C(23),h()()()()()()}if(n&2){let t=w();p(7),P(t.ts.t("tables.addTable")),p(2),q(t.errorMessage?9:-1),p(4),P(t.ts.t("tables.number")),p(),Bt("ngModel",t.newTableNumber),p(3),P(t.ts.t("tables.capacity")),p(),Bt("ngModel",t.newTableCapacity),p(3),P(t.ts.t("tables.cancel")),p(),$("disabled",t.isCreating||!t.newTableNumber),p(),Q(" ",t.isCreating?t.ts.t("tables.creating"):t.ts.t("tables.create")," ")}}var rn=class n{constructor(a,t,e,i){this.apiService=a;this.cdr=t;this.ngZone=e;this.ts=i}tables=[];isLoading=!0;copiedToken=null;isCreateModalOpen=!1;newTableNumber=null;newTableCapacity=4;isCreating=!1;errorMessage=null;editingTableId=null;editNumber=null;editCapacity=null;isUpdating=!1;editErrorMessage=null;deletingTableId=null;confirmDeleteId=null;baseUrl=window.location.origin;qrDotType="rounded";qrDotColor="#8a3f24";qrBgColor="#fbf8f2";qrCornerSquareType="extra-rounded";qrCornerDotType="dot";qrCornerColor="#1b1a17";qrSize=250;dotTypes=["square","dots","rounded","classy","classy-rounded","extra-rounded"];cornerSquareTypes=["square","dot","extra-rounded"];cornerDotTypes=["square","dot"];qrInstances=new Map;ngOnInit(){this.loadTables()}loadTables(){this.isLoading=!0,this.apiService.get("/api/tables").subscribe({next:a=>{this.ngZone.run(()=>{a.success&&a.data?(this.tables=a.data,this.isLoading=!1,this.cdr.detectChanges(),setTimeout(()=>{this.generateAllQrCodes(),this.cdr.detectChanges()},100)):(this.isLoading=!1,this.cdr.detectChanges())})},error:()=>{this.ngZone.run(()=>{this.isLoading=!1,this.cdr.detectChanges()})}})}getTableUrl(a){return`${this.baseUrl.replace(/\/+$/,"")}/table/${a.qr_token}`}onBaseUrlChange(){this.generateAllQrCodes()}generateAllQrCodes(){this.qrInstances.clear(),this.tables.forEach(a=>this.generateQrCode(a))}generateQrCode(a){let t=document.getElementById(`qr-${a.qr_token}`);if(!t)return;t.innerHTML="";let e=new ro.default({width:this.qrSize,height:this.qrSize,type:"canvas",data:this.getTableUrl(a),margin:8,dotsOptions:{color:this.qrDotColor,type:this.qrDotType},backgroundOptions:{color:this.qrBgColor},cornersSquareOptions:{type:this.qrCornerSquareType,color:this.qrCornerColor},cornersDotOptions:{type:this.qrCornerDotType,color:this.qrCornerColor},qrOptions:{errorCorrectionLevel:"M"}});e.append(t),this.qrInstances.set(a.qr_token,e)}onStyleChange(){setTimeout(()=>this.generateAllQrCodes(),50)}downloadQr(a,t){let e=this.qrInstances.get(a.qr_token);if(!e)return;let i=`restoqr-table-${a.number}.${t}`;if(t==="svg"){let y=document.getElementById(`qr-${a.qr_token}`)?.querySelector("svg");if(y){let O=new XMLSerializer().serializeToString(y),et=new Blob([O],{type:"image/svg+xml"});this.triggerDownload(et,i)}}else e.getRawData("png").then(s=>{s&&this.triggerDownload(s,i)})}triggerDownload(a,t){let e=URL.createObjectURL(a),i=document.createElement("a");i.href=e,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(e)}copyUrl(a){let t=this.getTableUrl(a);navigator.clipboard.writeText(t).then(()=>{this.copiedToken=a.qr_token,setTimeout(()=>{this.copiedToken=null},2e3)})}createTable(){this.newTableNumber&&(this.isCreating=!0,this.errorMessage=null,this.apiService.post("/api/tables",{table:{number:this.newTableNumber,nb_seats:this.newTableCapacity}}).subscribe({next:a=>{this.isCreating=!1,a.success&&(this.cancelCreate(),this.loadTables())},error:a=>{this.isCreating=!1,this.errorMessage=a?.errors?.[0]||this.ts.t("tables.createError")}}))}openCreate(){this.isCreateModalOpen=!0,this.newTableNumber=null,this.newTableCapacity=4,this.errorMessage=null}cancelCreate(){this.isCreateModalOpen=!1,this.newTableNumber=null,this.newTableCapacity=4,this.errorMessage=null}startEdit(a){this.editingTableId=a.id,this.editNumber=a.number,this.editCapacity=a.capacity,this.editErrorMessage=null}cancelEdit(){this.editingTableId=null,this.editNumber=null,this.editCapacity=null,this.editErrorMessage=null}saveEdit(){!this.editingTableId||!this.editNumber||!this.editCapacity||(this.isUpdating=!0,this.editErrorMessage=null,this.apiService.put(`/api/tables/${this.editingTableId}`,{table:{number:this.editNumber,nb_seats:this.editCapacity}}).subscribe({next:a=>{this.isUpdating=!1,a.success&&(this.cancelEdit(),this.loadTables())},error:a=>{this.isUpdating=!1,this.editErrorMessage=a?.errors?.[0]||this.ts.t("tables.editError")}}))}askDelete(a){this.confirmDeleteId=a.id}cancelDelete(){this.confirmDeleteId=null}confirmDelete(a){this.deletingTableId=a.id,this.apiService.delete(`/api/tables/${a.id}`).subscribe({next:()=>{this.deletingTableId=null,this.confirmDeleteId=null,this.loadTables()},error:t=>{this.deletingTableId=null,this.confirmDeleteId=null,alert(t?.errors?.[0]||this.ts.t("tables.deleteError"))}})}getTableNumberById(a){let t=this.tables.find(e=>e.id===a);return t?t.number:0}confirmDeleteAction(){let a=this.tables.find(t=>t.id===this.confirmDeleteId);a&&this.confirmDelete(a)}static \u0275fac=function(t){return new(t||n)(it(ye),it(Wt),it(te),it(Zt))};static \u0275cmp=mt({type:n,selectors:[["app-admin-tables"]],decls:70,vars:26,consts:[[1,"page-admin"],[1,"outer-container"],[1,"welcome-header"],[1,"welcome-title"],["mat-mini-fab","",1,"btn-add",3,"click","title"],[1,"welcome-text"],[1,"style-card"],[1,"section-title"],[1,"section-icon"],["appearance","outline",1,"field-full"],["matPrefix",""],["matInput","","placeholder","https://votre-url.ngrok-free.dev",3,"ngModelChange","ngModel"],[1,"style-grid"],["appearance","outline"],[3,"ngModelChange","ngModel"],[3,"value"],[1,"color-field"],[1,"color-label"],[1,"color-row"],["type","color",3,"ngModelChange","ngModel"],[1,"loading"],[1,"empty"],[1,"table-card"],[1,"modal-overlay"],["diameter","48"],[1,"table-top-row"],[1,"table-info"],[1,"table-number"],[1,"table-meta"],["highlighted","",1,"chip-capacity"],[1,"qr-container",3,"id"],[1,"table-url"],[1,"url-text"],[1,"table-actions"],["mat-stroked-button","",3,"click","matTooltip"],["mat-icon-button","",1,"action-edit",3,"click","matTooltip"],["mat-icon-button","",1,"action-delete",3,"click","matTooltip"],[1,"modal"],["mat-icon-button","",1,"modal-close",3,"click"],[1,"modal-title"],[1,"modal-text"],[1,"modal-actions"],["mat-stroked-button","",1,"btn-cancel",3,"click"],["mat-flat-button","",1,"btn-danger",3,"click","disabled"],[1,"modal","modal-edit"],[1,"modal-error"],["matInput","","type","number","min","1",3,"ngModelChange","ngModel"],["matInput","","type","number","min","1","max","20",3,"ngModelChange","ngModel"],["mat-flat-button","",1,"btn-primary",3,"click","disabled"],[3,"ngSubmit"],["matInput","","type","number","min","1","placeholder","Ex: 11","name","number","required","",3,"ngModelChange","ngModel"],["matInput","","type","number","min","1","max","20","name","capacity","required","",3,"ngModelChange","ngModel"],["mat-stroked-button","","type","button",1,"btn-cancel",3,"click"],["mat-flat-button","","type","submit",1,"btn-primary",3,"disabled"]],template:function(t,e){t&1&&(u(0,"main",0)(1,"div",1)(2,"div",2)(3,"h2",3),C(4),u(5,"button",4),L("click",function(){return e.openCreate()}),u(6,"mat-icon"),C(7,"add"),h()()(),u(8,"p",5),C(9),h()(),u(10,"mat-card",6)(11,"mat-card-header")(12,"mat-card-title",7)(13,"mat-icon",8),C(14,"palette"),h(),C(15),h()(),u(16,"mat-card-content")(17,"mat-form-field",9)(18,"mat-label"),C(19),h(),u(20,"mat-icon",10),C(21,"link"),h(),u(22,"input",11),Nt("ngModelChange",function(s){return zt(e.baseUrl,s)||(e.baseUrl=s),s}),L("ngModelChange",function(){return e.onBaseUrlChange()}),h()(),u(23,"div",12)(24,"mat-form-field",13)(25,"mat-label"),C(26),h(),u(27,"mat-select",14),Nt("ngModelChange",function(s){return zt(e.qrDotType,s)||(e.qrDotType=s),s}),L("ngModelChange",function(){return e.onStyleChange()}),Ct(28,sr,2,2,"mat-option",15,Qt),h()(),u(30,"div",16)(31,"label",17),C(32),h(),u(33,"div",18)(34,"input",19),Nt("ngModelChange",function(s){return zt(e.qrDotColor,s)||(e.qrDotColor=s),s}),L("ngModelChange",function(){return e.onStyleChange()}),h(),u(35,"code"),C(36),h()()(),u(37,"mat-form-field",13)(38,"mat-label"),C(39),h(),u(40,"mat-select",14),Nt("ngModelChange",function(s){return zt(e.qrCornerSquareType,s)||(e.qrCornerSquareType=s),s}),L("ngModelChange",function(){return e.onStyleChange()}),Ct(41,lr,2,2,"mat-option",15,Qt),h()(),u(43,"mat-form-field",13)(44,"mat-label"),C(45),h(),u(46,"mat-select",14),Nt("ngModelChange",function(s){return zt(e.qrCornerDotType,s)||(e.qrCornerDotType=s),s}),L("ngModelChange",function(){return e.onStyleChange()}),Ct(47,dr,2,2,"mat-option",15,Qt),h()(),u(49,"div",16)(50,"label",17),C(51),h(),u(52,"div",18)(53,"input",19),Nt("ngModelChange",function(s){return zt(e.qrCornerColor,s)||(e.qrCornerColor=s),s}),L("ngModelChange",function(){return e.onStyleChange()}),h(),u(54,"code"),C(55),h()()(),u(56,"div",16)(57,"label",17),C(58),h(),u(59,"div",18)(60,"input",19),Nt("ngModelChange",function(s){return zt(e.qrBgColor,s)||(e.qrBgColor=s),s}),L("ngModelChange",function(){return e.onStyleChange()}),h(),u(61,"code"),C(62),h()()()()()(),V(63,cr,2,0,"div",20),V(64,mr,2,1,"div",21),Ct(65,pr,34,17,"mat-card",22,rr),h()(),V(67,ur,19,6,"div",23),V(68,gr,23,9,"div",23),V(69,_r,24,9,"div",23)),t&2&&(p(4),Q(" ",e.ts.t("tables.title")," "),p(),$("title",e.ts.t("tables.addTable")),p(4),P(e.ts.t("tables.subtitle")),p(6),Q(" ",e.ts.t("tables.qrStyle")," "),p(4),P(e.ts.t("tables.baseUrl")),p(3),Bt("ngModel",e.baseUrl),p(4),P(e.ts.t("tables.dotPattern")),p(),Bt("ngModel",e.qrDotType),p(),yt(e.dotTypes),p(4),P(e.ts.t("tables.dotColor")),p(2),Bt("ngModel",e.qrDotColor),p(2),P(e.qrDotColor),p(3),P(e.ts.t("tables.cornerSquare")),p(),Bt("ngModel",e.qrCornerSquareType),p(),yt(e.cornerSquareTypes),p(4),P(e.ts.t("tables.cornerDot")),p(),Bt("ngModel",e.qrCornerDotType),p(),yt(e.cornerDotTypes),p(4),P(e.ts.t("tables.cornerColor")),p(2),Bt("ngModel",e.qrCornerColor),p(2),P(e.qrCornerColor),p(3),P(e.ts.t("tables.bgColor")),p(2),Bt("ngModel",e.qrBgColor),p(2),P(e.qrBgColor),p(),q(e.isLoading?63:-1),p(),q(!e.isLoading&&e.tables.length===0?64:-1),p(),yt(e.tables),p(2),q(e.confirmDeleteId!==null?67:-1),p(),q(e.editingTableId!==null?68:-1),p(),q(e.isCreateModalOpen?69:-1))},dependencies:[re,Ca,Ye,xe,Hi,we,Me,ba,_a,fa,ha,ua,ci,ri,di,li,en,si,jt,le,Ee,Xt,qt,Vt,Se,ke,Pe,Yi,De,Oe,oi,ai,ii,Le,Re,io,Dn,Ua,qa,$a],styles:['@import"https://fonts.googleapis.com/css2?family=Fraunces:wght@500;700&family=Space+Grotesk:wght@400;500;600&display=swap";[_nghost-%COMP%]{--ink: #1b1a17;--clay: #f3ede4;--sand: #fbf8f2;--copper: #c86d3f;--rust: #8a3f24;--sage: #7a8f6a;--shadow: 0 25px 60px rgba(27, 26, 23, .18);display:block;min-height:100vh;overflow-x:clip;overflow-y:visible;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);color:var(--ink);font-family:Space Grotesk,Segoe UI,sans-serif}[_nghost-%COMP%]:before, [_nghost-%COMP%]:after{content:"";position:fixed;inset:auto auto 8% -10%;width:320px;height:320px;background:conic-gradient(from 120deg,#c86d3f26,#7a8f6a26);border-radius:50%;filter:blur(10px);z-index:0}[_nghost-%COMP%]:after{inset:-5% -10% auto auto;width:280px;height:280px;background:radial-gradient(circle,rgba(200,109,63,.2),transparent 70%)}.page[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:minmax(280px,560px);justify-content:center;align-items:start;padding:1rem clamp(1rem,3vw,3rem) 1.5rem}.site-header[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;align-items:center;justify-content:space-between;padding:1rem clamp(1rem,3vw,3rem);background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff}.brand[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;letter-spacing:.3rem;text-transform:uppercase;color:#fff}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.panel[_ngcontent-%COMP%]{background:var(--sand);border-radius:24px;padding:1.5rem 2rem;box-shadow:var(--shadow);border:1px solid rgba(27,26,23,.08);animation:_ngcontent-%COMP%_float-in .8s ease forwards}.panel__header[_ngcontent-%COMP%]{display:grid;gap:.25rem;margin-bottom:1rem}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.2rem;font-size:.75rem;color:var(--rust);margin:0}h1[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:clamp(2rem,3vw,2.6rem);margin:0}.subtitle[_ngcontent-%COMP%]{margin:0;color:#1b1a17b3}.form[_ngcontent-%COMP%]{display:grid;gap:.75rem}.field[_ngcontent-%COMP%]{display:grid;gap:.25rem}label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border:1px solid rgba(27,26,23,.2);border-radius:12px;padding:.65rem .875rem;font-size:.95rem;background:#fff;transition:border-color .2s ease,box-shadow .2s ease}input[_ngcontent-%COMP%]:not([matInput]):focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--copper);box-shadow:0 0 0 3px #c86d3f33}.form__actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;margin-top:.5rem}button[_ngcontent-%COMP%]{border-radius:999px;padding:.65rem 1.5rem;font-size:.9rem;font-weight:600;cursor:pointer;border:none}.primary[_ngcontent-%COMP%]{background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff;box-shadow:0 12px 25px #8a3f2459}.ghost[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(27,26,23,.2);color:var(--ink)}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]{border-color:#fff6;color:#fff}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]:hover{background:#ffffff26}@keyframes _ngcontent-%COMP%_float-in{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media(max-width:900px){.page[_ngcontent-%COMP%]{min-height:auto}}@media(max-width:600px){.panel[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-radius:20px}.site-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.form__actions[_ngcontent-%COMP%]{flex-direction:column}button[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{font-size:1.75rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.95rem}}@media(max-width:400px){[_nghost-%COMP%]{overflow-x:clip;overflow-y:visible}.page[_ngcontent-%COMP%]{padding:1.5rem 1rem 3rem;grid-template-columns:1fr}.panel[_ngcontent-%COMP%]{padding:1.5rem 1rem;border-radius:16px}.site-header[_ngcontent-%COMP%]{padding:1rem 1rem 0}h1[_ngcontent-%COMP%]{font-size:1.5rem}.subtitle[_ngcontent-%COMP%]{font-size:.9rem}label[_ngcontent-%COMP%]{font-size:.875rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border-radius:10px;padding:.7rem .75rem;font-size:.9rem}button[_ngcontent-%COMP%]{padding:.7rem 1.2rem;font-size:.9rem}}.page-admin[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;flex-direction:column;align-items:center;min-height:calc(100vh - 60px);padding:2rem 1rem}.outer-container[_ngcontent-%COMP%]{max-width:700px;width:100%}.welcome-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;position:sticky;top:7.5rem;z-index:30;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);padding:.75rem 0 .5rem}.welcome-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:1.5rem;margin:0 0 .5rem;color:var(--rust);display:flex;align-items:center;justify-content:center;gap:.75rem}.btn-add[_ngcontent-%COMP%]{background:var(--copper)!important;color:#fff!important;width:36px!important;height:36px!important;padding:0!important;display:flex!important;align-items:center!important;justify-content:center!important}.btn-add[_ngcontent-%COMP%]:hover{opacity:.85}.welcome-text[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#1b1a17b3}.style-card[_ngcontent-%COMP%]{background:var(--sand)!important;border-radius:16px!important;padding:1.5rem!important;border:1px solid rgba(27,26,23,.1);margin-bottom:1rem;box-shadow:none!important}.style-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:0!important;margin:0 0 1rem!important}.section-title[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;gap:.5rem!important;font-family:Fraunces,Times New Roman,serif!important;color:var(--rust)!important;font-size:1.1rem!important;margin:0!important;padding:0!important}.section-icon[_ngcontent-%COMP%]{font-size:1.25rem!important;width:1.25rem!important;height:1.25rem!important;color:var(--rust)}.style-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0!important}.field-full[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem}.style-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;gap:.75rem;align-items:start}.color-field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.color-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;font-weight:600;margin-bottom:.3rem;color:#1b1a1799}.color-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.color-row[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%]{width:36px;height:30px;border:1px solid rgba(27,26,23,.2);border-radius:6px;padding:2px;cursor:pointer;background:#fff}.color-row[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:.75rem;color:#1b1a1799}.error-msg[_ngcontent-%COMP%]{margin-top:.75rem;color:#e74c3c;font-size:.85rem}.table-card[_ngcontent-%COMP%]{background:var(--sand)!important;border-radius:16px!important;padding:1.25rem!important;border:1px solid rgba(27,26,23,.1);margin-bottom:.75rem;box-shadow:none!important;transition:box-shadow .2s ease}.table-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #1b1a1714!important}.table-top-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem;margin-bottom:.75rem}.table-info[_ngcontent-%COMP%]{flex:1}.table-number[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:1.2rem;font-weight:700;color:var(--rust);margin-bottom:.5rem}.table-meta[_ngcontent-%COMP%]{display:flex;gap:.5rem}  .chip-capacity{background:#c86d3f26!important;color:var(--rust)!important;font-size:.75rem!important;min-height:26px!important;padding:0 10px!important}  .chip-available{background:#27ae6026!important;color:#27ae60!important;font-size:.75rem!important;min-height:26px!important;padding:0 10px!important}  .chip-occupied{background:#e74c3c26!important;color:#e74c3c!important;font-size:.75rem!important;min-height:26px!important;padding:0 10px!important}.qr-container[_ngcontent-%COMP%]{flex-shrink:0;border-radius:12px;overflow:hidden;border:1px solid rgba(27,26,23,.08);box-shadow:0 2px 8px #0000000f}.table-url[_ngcontent-%COMP%]{margin-bottom:.75rem}.url-text[_ngcontent-%COMP%]{display:block;background:#1b1a170d;border:1px solid rgba(27,26,23,.1);border-radius:8px;padding:.5rem .75rem;font-size:.7rem;word-break:break-all;color:#1b1a17cc;font-family:monospace}.table-actions[_ngcontent-%COMP%]{display:flex!important;gap:.5rem;padding:0!important;margin:0!important;flex-wrap:wrap}.table-actions[_ngcontent-%COMP%]   button[mat-stroked-button][_ngcontent-%COMP%]{border-radius:8px!important;font-size:.78rem!important;font-weight:500!important;border-color:#1b1a1726!important;color:var(--ink)!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.table-actions[_ngcontent-%COMP%]   button[mat-stroked-button][_ngcontent-%COMP%]:hover{background:var(--rust)!important;color:#fff!important;border-color:var(--rust)!important}.table-actions[_ngcontent-%COMP%]   button[mat-stroked-button][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px!important;width:16px!important;height:16px!important;margin-right:2px}.action-edit[_ngcontent-%COMP%]{color:#1b1a1773!important}.action-edit[_ngcontent-%COMP%]:hover{color:#2980b9!important}.action-delete[_ngcontent-%COMP%]{color:#1b1a1773!important}.action-delete[_ngcontent-%COMP%]:hover{color:#e74c3c!important}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:3rem}.empty[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#1b1a1780}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0006;display:flex;align-items:center;justify-content:center;z-index:100}.modal[_ngcontent-%COMP%]{position:relative;background:var(--sand)!important;border-radius:16px!important;padding:1.5rem!important;max-width:400px;width:90%;box-shadow:0 12px 40px #00000026!important;max-height:90vh;overflow-y:auto}.modal-close[_ngcontent-%COMP%]{position:sticky!important;top:0;float:right;margin-left:auto;z-index:10;width:36px!important;height:36px!important;padding:0!important;border-radius:50%!important;background:#fff!important;border:1px solid rgba(27,26,23,.1)!important;display:flex!important;align-items:center!important;justify-content:center!important;color:var(--ink)!important}.modal-close[_ngcontent-%COMP%]:hover{background:var(--clay)!important}.modal[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:0!important;margin:0!important}.modal-edit[_ngcontent-%COMP%]{max-width:420px}.modal-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif!important;font-size:1.25rem!important;margin:0 0 .75rem!important;color:var(--ink)!important;padding:0!important}.modal-text[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:.9rem;color:#1b1a17b3}.modal[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0!important}.modal-error[_ngcontent-%COMP%]{background:#dc35451a;color:#dc3545;padding:.5rem .75rem;border-radius:8px;font-size:.85rem;margin-bottom:1rem}  .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__leading,   .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__notch,   .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__trailing{border-color:#1b1a1740!important;border-width:1px!important}  .modal-edit .mat-mdc-form-field.mat-focused .mat-mdc-floating-label{color:#1b1a1799!important}.modal-actions[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-end;gap:.75rem;margin:1rem 0 0!important;padding:0!important}.btn-cancel[_ngcontent-%COMP%]{border-radius:10px!important;color:var(--ink)!important;border-color:#1b1a1726!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-cancel[_ngcontent-%COMP%]:hover{background:#1b1a170a!important}.btn-danger[_ngcontent-%COMP%]{border-radius:10px!important;background:var(--rust)!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-danger[_ngcontent-%COMP%]:hover{opacity:.9}.btn-primary[_ngcontent-%COMP%]{border-radius:10px!important;background:var(--copper)!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-primary[_ngcontent-%COMP%]:hover{opacity:.9}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6!important;cursor:not-allowed}@media(max-width:500px){.welcome-header[_ngcontent-%COMP%]{top:6.25rem}}@media(max-width:500px){.style-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.form-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.btn-create[_ngcontent-%COMP%]{height:auto}.table-top-row[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.table-actions[_ngcontent-%COMP%]{flex-direction:column}.table-info[_ngcontent-%COMP%]{text-align:center}.table-meta[_ngcontent-%COMP%]{justify-content:center}}']})};function br(n,a){}var Fe=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext};var Nn=(()=>{class n extends Ra{_elementRef=R(Lt);_focusTrapFactory=R(Ta);_config;_interactivityChecker=R(Ia);_ngZone=R(te);_focusMonitor=R(xi);_renderer=R(je);_changeDetectorRef=R(Wt);_injector=R(Rt);_platform=R(qe);_document=R(zi);_portalOutlet;_focusTrapped=new Et;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=R(Fe,{optional:!0})||new Fe,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){let e=this._ariaLabelledByQueue.indexOf(t);e>-1&&(this._ariaLabelledByQueue.splice(e,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();let e=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),e}attachTemplatePortal(t){this._portalOutlet.hasAttached();let e=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),e}attachDomPortal=t=>{this._portalOutlet.hasAttached();let e=this._portalOutlet.attachDomPortal(t);return this._contentAttached(),e};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,e){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{s(),y(),t.removeAttribute("tabindex")},s=this._renderer.listen(t,"blur",i),y=this._renderer.listen(t,"mousedown",i)})),t.focus(e)}_focusByCssSelector(t,e){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,e)}_trapFocus(t){this._isDestroyed||pe(()=>{let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus(t);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(t)||this._focusDialogContainer(t);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',t);break;default:this._focusByCssSelector(this._config.autoFocus,t);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let t=this._config.restoreFocus,e=null;if(typeof t=="string"?e=this._document.querySelector(t):typeof t=="boolean"?e=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(e=t),this._config.restoreFocus&&e&&typeof e.focus=="function"){let i=Qi(),s=this._elementRef.nativeElement;(!i||i===this._document.body||i===s||s.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(t){this._elementRef.nativeElement.focus?.(t)}_containsFocus(){let t=this._elementRef.nativeElement,e=Qi();return t===e||t.contains(e)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Qi()))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=mt({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(e&1&&ie(Ae,7),e&2){let s;ht(s=gt())&&(i._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){e&2&&Dt("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[ee],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){e&1&&Ve(0,br,0,0,"ng-template",0)},dependencies:[Ae],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return n})(),Ti=class{overlayRef;config;componentInstance=null;componentRef=null;containerInstance;disableClose;closed=new Et;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(a,t){this.overlayRef=a,this.config=t,this.disableClose=t.disableClose,this.backdropClick=a.backdropClick(),this.keydownEvents=a.keydownEvents(),this.outsidePointerEvents=a.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(e=>{e.keyCode===27&&!this.disableClose&&!Ie(e)&&(e.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=a.detachments().subscribe(()=>{t.closeOnOverlayDetachments!==!1&&this.close()})}close(a,t){if(this._canClose(a)){let e=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),e.next(a),e.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(a="",t=""){return this.overlayRef.updateSize({width:a,height:t}),this}addPanelClass(a){return this.overlayRef.addPanelClass(a),this}removePanelClass(a){return this.overlayRef.removePanelClass(a),this}_canClose(a){let t=this.config;return!!this.containerInstance&&(!t.closePredicate||t.closePredicate(a,t,this.componentInstance))}},vr=new kt("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=R(Rt);return()=>Ki(n)}}),Cr=new kt("DialogData"),yr=new kt("DefaultDialogConfig");function xr(n){let a=dt(n),t=new St;return{valueSignal:a,get value(){return a()},change:t,ngOnDestroy(){t.complete()}}}var jn=(()=>{class n{_injector=R(Rt);_defaultOptions=R(yr,{optional:!0});_parentDialog=R(n,{optional:!0,skipSelf:!0});_overlayContainer=R(za);_idGenerator=R($e);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Et;_afterOpenedAtThisLevel=new Et;_ariaHiddenElements=new Map;_scrollStrategy=R(vr);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Fi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(fe(void 0)));constructor(){}open(t,e){let i=this._defaultOptions||new Fe;e=Mt(Mt({},i),e),e.id=e.id||this._idGenerator.getId("cdk-dialog-"),e.id&&this.getDialogById(e.id);let s=this._getOverlayConfig(e),y=tn(this._injector,s),O=new Ti(y,e),et=this._attachContainer(y,O,e);if(O.containerInstance=et,!this.openDialogs.length){let ct=this._overlayContainer.getContainerElement();et._focusTrapped?et._focusTrapped.pipe(Ge(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(ct)}):this._hideNonDialogContentFromAssistiveTechnology(ct)}return this._attachDialogContent(t,O,et,e),this.openDialogs.push(O),O.closed.subscribe(()=>this._removeOpenDialog(O,!0)),this.afterOpened.next(O),O}closeAll(){zn(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){zn(this._openDialogsAtThisLevel,t=>{t.config.closeOnDestroy===!1&&this._removeOpenDialog(t,!1)}),zn(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){let e=new Ba({positionStrategy:t.positionStrategy||Ji().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation,disableAnimations:t.disableAnimations});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachContainer(t,e,i){let s=i.injector||i.viewContainerRef?.injector,y=[{provide:Fe,useValue:i},{provide:Ti,useValue:e},{provide:Na,useValue:t}],O;i.container?typeof i.container=="function"?O=i.container:(O=i.container.type,y.push(...i.container.providers(i))):O=Nn;let et=new wi(O,i.viewContainerRef,Rt.create({parent:s||this._injector,providers:y}));return t.attach(et).instance}_attachDialogContent(t,e,i,s){if(t instanceof Qe){let y=this._createInjector(s,e,i,void 0),O={$implicit:s.data,dialogRef:e};s.templateContext&&(O=Mt(Mt({},O),typeof s.templateContext=="function"?s.templateContext():s.templateContext)),i.attachTemplatePortal(new Zi(t,null,O,y))}else{let y=this._createInjector(s,e,i,this._injector),O=i.attachComponentPortal(new wi(t,s.viewContainerRef,y));e.componentRef=O,e.componentInstance=O.instance}}_createInjector(t,e,i,s){let y=t.injector||t.viewContainerRef?.injector,O=[{provide:Cr,useValue:t.data},{provide:Ti,useValue:e}];return t.providers&&(typeof t.providers=="function"?O.push(...t.providers(e,t,i)):O.push(...t.providers)),t.direction&&(!y||!y.get(Te,null,{optional:!0}))&&O.push({provide:Te,useValue:xr(t.direction)}),Rt.create({parent:y||s,providers:O})}_removeOpenDialog(t,e){let i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,y)=>{s?y.setAttribute("aria-hidden",s):y.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),e&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(t){if(t.parentElement){let e=t.parentElement.children;for(let i=e.length-1;i>-1;i--){let s=e[i];s!==t&&s.nodeName!=="SCRIPT"&&s.nodeName!=="STYLE"&&!s.hasAttribute("aria-live")&&!s.hasAttribute("popover")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(e){return new(e||n)};static \u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zn(n,a){let t=n.length;for(;t--;)a(n[t])}var so=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=ve({type:n});static \u0275inj=_e({providers:[jn],imports:[ni,Mi,Wi,Mi]})}return n})();function wr(n,a){}var ln=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;enterAnimationDuration;exitAnimationDuration},Vn="mdc-dialog--open",lo="mdc-dialog--opening",co="mdc-dialog--closing",Mr=150,Ir=75,Tr=(()=>{class n extends Nn{_animationStateChanged=new St;_animationsEnabled=!se();_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?po(this._config.enterAnimationDuration)??Mr:0;_exitAnimationDuration=this._animationsEnabled?po(this._config.exitAnimationDuration)??Ir:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(mo,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(lo,Vn)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Vn),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Vn),this._animationsEnabled?(this._hostElement.style.setProperty(mo,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(co)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(lo,co)}_waitForAnimationToComplete(t,e){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(e,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(t){let e=super.attachComponentPortal(t);return e.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),e}static \u0275fac=(()=>{let t;return function(i){return(t||(t=be(n)))(i||n)}})();static \u0275cmp=mt({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(e,i){e&2&&(xn("id",i._config.id),Dt("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),xt("_mat-animation-noopable",!i._animationsEnabled)("mat-mdc-dialog-container-with-actions",i._actionSectionCount>0))},features:[ee],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,i){e&1&&(u(0,"div",0)(1,"div",1),Ve(2,wr,0,0,"ng-template",2),h()())},dependencies:[Ae],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mat-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mat-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mat-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mat-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mat-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mat-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mat-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mat-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mat-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mat-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mat-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mat-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mat-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;box-sizing:border-box;min-height:52px;margin:0;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return n})(),mo="--mat-dialog-transition-duration";function po(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?Je(n.substring(0,n.length-2)):n.endsWith("s")?Je(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var sn=(function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n})(sn||{}),ue=class{_ref;_config;_containerInstance;componentInstance;componentRef=null;disableClose;id;_afterOpened=new Cn(1);_beforeClosed=new Cn(1);_result;_closeFallbackTimeout;_state=sn.OPEN;_closeInteractionType;constructor(a,t,e){this._ref=a,this._config=t,this._containerInstance=e,this.disableClose=t.disableClose,this.id=a.id,a.addPanelClass("mat-mdc-dialog-panel"),e._animationStateChanged.pipe(Ne(i=>i.state==="opened"),Ge(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Ne(i=>i.state==="closed"),Ge(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),a.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Ue(this.backdropClick(),this.keydownEvents().pipe(Ne(i=>i.keyCode===27&&!this.disableClose&&!Ie(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),uo(this,i.type==="keydown"?"keyboard":"mouse"))})}close(a){let t=this._config.closePredicate;t&&!t(a,this._config,this.componentInstance)||(this._result=a,this._containerInstance._animationStateChanged.pipe(Ne(e=>e.state==="closing"),Ge(1)).subscribe(e=>{this._beforeClosed.next(a),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=sn.CLOSING,this._containerInstance._startExitAnimation())}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(a){let t=this._ref.config.positionStrategy;return a&&(a.left||a.right)?a.left?t.left(a.left):t.right(a.right):t.centerHorizontally(),a&&(a.top||a.bottom)?a.top?t.top(a.top):t.bottom(a.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(a="",t=""){return this._ref.updateSize(a,t),this}addPanelClass(a){return this._ref.addPanelClass(a),this}removePanelClass(a){return this._ref.removePanelClass(a),this}getState(){return this._state}_finishDialogClose(){this._state=sn.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function uo(n,a,t){return n._closeInteractionType=a,n.close(t)}var Pi=new kt("MatMdcDialogData"),Pr=new kt("mat-mdc-dialog-default-options"),kr=new kt("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=R(Rt);return()=>Ki(n)}}),ki=(()=>{class n{_defaultOptions=R(Pr,{optional:!0});_scrollStrategy=R(kr);_parentDialog=R(n,{optional:!0,skipSelf:!0});_idGenerator=R($e);_injector=R(Rt);_dialog=R(jn);_animationsDisabled=se();_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Et;_afterOpenedAtThisLevel=new Et;dialogConfigClass=ln;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=Fi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(fe(void 0)));constructor(){this._dialogRefConstructor=ue,this._dialogContainerType=Tr,this._dialogDataToken=Pi}open(t,e){let i;e=Mt(Mt({},this._defaultOptions||new ln),e),e.id=e.id||this._idGenerator.getId("mat-mdc-dialog-"),e.scrollStrategy=e.scrollStrategy||this._scrollStrategy();let s=this._dialog.open(t,bi(Mt({},e),{positionStrategy:Ji(this._injector).centerHorizontally().centerVertically(),disableClose:!0,closePredicate:void 0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,disableAnimations:this._animationsDisabled||e.enterAnimationDuration?.toLocaleString()==="0"||e.exitAnimationDuration?.toString()==="0",container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:e},{provide:Fe,useValue:e}]},templateContext:()=>({dialogRef:i}),providers:(y,O,et)=>(i=new this._dialogRefConstructor(y,e,et),i.updatePosition(e?.position),[{provide:this._dialogContainerType,useValue:et},{provide:this._dialogDataToken,useValue:O.data},{provide:this._dialogRefConstructor,useValue:i}])}));return i.componentRef=s.componentRef,i.componentInstance=s.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{let y=this.openDialogs.indexOf(i);y>-1&&(this.openDialogs.splice(y,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}static \u0275fac=function(e){return new(e||n)};static \u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dn=(()=>{class n{dialogRef=R(ue,{optional:!0});_elementRef=R(Lt);_dialog=R(ki);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=go(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){let e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}_onButtonClick(t){uo(this.dialogRef,t.screenX===0&&t.screenY===0?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(e){return new(e||n)};static \u0275dir=Ft({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){e&1&&L("click",function(y){return i._onButtonClick(y)}),e&2&&Dt("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[He]})}return n})(),ho=(()=>{class n{_dialogRef=R(ue,{optional:!0});_elementRef=R(Lt);_dialog=R(ki);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=go(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(e){return new(e||n)};static \u0275dir=Ft({type:n})}return n})(),cn=(()=>{class n extends ho{id=R($e).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=be(n)))(i||n)}})();static \u0275dir=Ft({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(e,i){e&2&&xn("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[ee]})}return n})(),mn=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275dir=Ft({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[Jn([Xi])]})}return n})(),pn=(()=>{class n extends ho{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=be(n)))(i||n)}})();static \u0275dir=Ft({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(e,i){e&2&&xt("mat-mdc-dialog-actions-align-start",i.align==="start")("mat-mdc-dialog-actions-align-center",i.align==="center")("mat-mdc-dialog-actions-align-end",i.align==="end")},inputs:{align:"align"},features:[ee]})}return n})();function go(n,a){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?a.find(e=>e.id===t.id):null}var hi=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=ve({type:n});static \u0275inj=_e({providers:[ki],imports:[so,ni,Mi,ti]})}return n})();function Sr(n,a){if(n&1&&(u(0,"mat-error"),C(1),h()),n&2){let t=w(2);p(),P(t.ts.t("admin.availStartRequired"))}}function Or(n,a){if(n&1&&(u(0,"mat-error"),C(1),h()),n&2){let t=w(2);p(),P(t.ts.t("admin.availStartInvalid"))}}function Dr(n,a){if(n&1&&(u(0,"mat-error"),C(1),h()),n&2){let t=w(2);p(),P(t.ts.t("admin.availStartInPast"))}}function Ar(n,a){if(n&1&&(u(0,"mat-error"),C(1),h()),n&2){let t=w(2);p(),P(t.ts.t("admin.availEndInvalid"))}}function Er(n,a){if(n&1&&(u(0,"mat-error"),C(1),h()),n&2){let t=w(2);p(),P(t.ts.t("admin.availEndAfterStart"))}}function Rr(n,a){if(n&1&&(u(0,"mat-error"),C(1),h()),n&2){let t=w(2);p(),P(t.ts.t("admin.availMinDuration"))}}function Lr(n,a){if(n&1&&(u(0,"mat-error"),C(1),h()),n&2){let t=w(2);p(),P(t.ts.t("admin.availDescWhitespace"))}}function Fr(n,a){if(n&1&&(u(0,"div",12),C(1),h()),n&2){let t=w(2);p(),P(t.ts.t("admin.availOverlap"))}}function Br(n,a){if(n&1){let t=pt();u(0,"div",4)(1,"mat-form-field",5)(2,"mat-label"),C(3),h(),u(4,"input",6),L("change",function(){let i=z(t).$implicit,s=w();return N(s.onStartChange(s.asGroup(i)))}),h(),V(5,Sr,2,1,"mat-error")(6,Or,2,1,"mat-error")(7,Dr,2,1,"mat-error"),h(),u(8,"mat-form-field",7)(9,"mat-label"),C(10),h(),u(11,"input",8),L("change",function(){z(t);let i=w();return N(i.onFieldChange())}),h(),V(12,Ar,2,1,"mat-error")(13,Er,2,1,"mat-error")(14,Rr,2,1,"mat-error"),h(),u(15,"mat-form-field",9)(16,"mat-label"),C(17),h(),u(18,"input",10),L("input",function(){z(t);let i=w();return N(i.onFieldChange())}),h(),V(19,Lr,2,1,"mat-error"),h(),u(20,"button",11),L("click",function(){let i=z(t).$index,s=w();return N(s.removeRow(i))}),u(21,"mat-icon"),C(22,"delete"),h()(),V(23,Fr,2,1,"div",12),h()}if(n&2){let t,e,i,s,y=a.$implicit,O=w();$("formGroup",O.asGroup(y)),p(3),P(O.ts.t("admin.availStartAt")),p(),$("disabled",O.disabled),p(),q(!((t=O.asGroup(y).get("start_at"))==null||t.errors==null)&&t.errors.required&&((t=O.asGroup(y).get("start_at"))!=null&&t.dirty)?5:!((t=O.asGroup(y).get("start_at"))==null||t.errors==null)&&t.errors.invalidDate&&((t=O.asGroup(y).get("start_at"))!=null&&t.dirty)?6:!((t=O.asGroup(y).get("start_at"))==null||t.errors==null)&&t.errors.startInPast&&((t=O.asGroup(y).get("start_at"))!=null&&t.dirty)?7:-1),p(5),P(O.ts.t("admin.availEndAt")),p(),$("disabled",O.disabled),p(),q(!((e=O.asGroup(y).get("end_at"))==null||e.errors==null)&&e.errors.invalidDate&&((e=O.asGroup(y).get("end_at"))!=null&&e.dirty)?12:!((e=O.asGroup(y).get("end_at"))==null||e.errors==null)&&e.errors.endBeforeStart&&((e=O.asGroup(y).get("end_at"))!=null&&e.dirty)?13:!((e=O.asGroup(y).get("end_at"))==null||e.errors==null)&&e.errors.minDuration&&((e=O.asGroup(y).get("end_at"))!=null&&e.dirty)?14:-1),p(5),P(O.ts.t("admin.availDesc")),p(),$("disabled",O.disabled),p(),q(!((i=O.asGroup(y).get("description"))==null||i.errors==null)&&i.errors.pattern&&((i=O.asGroup(y).get("description"))!=null&&i.dirty)?19:-1),p(),$("disabled",O.disabled),p(3),q((s=O.asGroup(y).errors)!=null&&s.overlap&&O.asGroup(y).dirty?23:-1)}}function $n(n){let a=new Date(n);return!isNaN(a.getTime())}function zr(n){return n.value?$n(n.value)?new Date(n.value)<new Date?{startInPast:!0}:null:{invalidDate:!0}:null}function Nr(n){return a=>{if(!a.value)return null;if(!$n(a.value))return{invalidDate:!0};let t=n();if(!t)return null;let e=t.get("start_at")?.value;if(!e)return null;let i=new Date(e),s=new Date(a.value);return s<=i?{endBeforeStart:!0}:s.getTime()-i.getTime()<3600*1e3?{minDuration:!0}:null}}function jr(n){let a=n.controls;a.forEach(s=>{let y=Mt({},s.errors);delete y.overlap,s.setErrors(Object.keys(y).length?y:null)});let t=1/0,e=s=>s&&$n(s)?new Date(s).getTime():null,i=!1;for(let s=0;s<a.length;s++)for(let y=s+1;y<a.length;y++){let O=a[s],et=a[y],ct=e(O.get("start_at")?.value),Z=e(O.get("end_at")?.value)??t,ft=e(et.get("start_at")?.value),Tt=e(et.get("end_at")?.value)??t;ct===null||ft===null||ct<Tt&&ft<Z&&(O.setErrors(bi(Mt({},O.errors??{}),{overlap:!0})),et.setErrors(bi(Mt({},et.errors??{}),{overlap:!0})),i=!0)}return i?{overlap:!0}:null}var Si=class n{constructor(a){this.ts=a}availabilities=[];disabled=!1;availabilitiesChange=new St;rows=new ga([],{validators:jr});ngOnChanges(a){if(a.availabilities){let t=a.availabilities.previousValue??[],e=a.availabilities.currentValue??[],i=t.map(y=>y.id).filter(Boolean).sort().join(","),s=e.map(y=>y.id).filter(Boolean).sort().join(",");if(i!==s){this.rows.clear();for(let y of e)this.rows.push(this.buildRow(y))}}}buildRow(a){let t=new We({id:new It(a?.id),start_at:new It(a?this.toDatetimeLocal(a.start_at):"",[tt.required,zr]),end_at:new It(a?.end_at?this.toDatetimeLocal(a.end_at):""),description:new It(a?.description??"",[tt.maxLength(255),tt.pattern(/.*\S.*/)])});return t.get("end_at").addValidators(Nr(()=>t)),t}addRow(){this.rows.push(this.buildRow()),this.emit()}removeRow(a){this.rows.removeAt(a),this.emit()}onStartChange(a){a.get("end_at")?.updateValueAndValidity(),this.rows.updateValueAndValidity(),this.emit()}onFieldChange(){this.rows.updateValueAndValidity(),this.emit()}asGroup(a){return a}emit(){let a=this.rows.controls.map(t=>{let i=t.value;return{id:i.id??void 0,start_at:i.start_at?new Date(i.start_at).toISOString():"",end_at:i.end_at?new Date(i.end_at).toISOString():null,description:i.description||null}});this.availabilitiesChange.emit(a)}toDatetimeLocal(a){if(!a)return"";let t=new Date(a),e=i=>String(i).padStart(2,"0");return`${t.getFullYear()}-${e(t.getMonth()+1)}-${e(t.getDate())}T${e(t.getHours())}:${e(t.getMinutes())}`}markAllDirty(){this.rows.controls.forEach(a=>{a.markAsDirty(),Object.values(a.controls).forEach(t=>t.markAsDirty()),a.updateValueAndValidity()}),this.rows.updateValueAndValidity()}get isValid(){return this.rows.valid}static \u0275fac=function(t){return new(t||n)(it(Zt))};static \u0275cmp=mt({type:n,selectors:[["app-availability-list"]],inputs:{availabilities:"availabilities",disabled:"disabled"},outputs:{availabilitiesChange:"availabilitiesChange"},features:[He],decls:9,vars:2,consts:[[1,"avail-header"],[1,"avail-label"],["type","button","mat-mini-fab","",1,"btn-add-avail",3,"click","disabled"],[1,"avail-rows"],[1,"avail-row",3,"formGroup"],["appearance","outline",1,"avail-start"],["matInput","","type","datetime-local","formControlName","start_at",3,"change","disabled"],["appearance","outline",1,"avail-end"],["matInput","","type","datetime-local","formControlName","end_at",3,"change","disabled"],["appearance","outline",1,"avail-desc"],["matInput","","formControlName","description","maxlength","255",3,"input","disabled"],["type","button","mat-icon-button","",1,"btn-remove-avail",3,"click","disabled"],[1,"avail-overlap-error"]],template:function(t,e){t&1&&(u(0,"div",0)(1,"span",1),C(2),h(),u(3,"button",2),L("click",function(){return e.addRow()}),u(4,"mat-icon"),C(5,"add"),h()()(),u(6,"div",3),Ct(7,Br,24,12,"div",4,ia),h()),t&2&&(p(2),P(e.ts.t("admin.availabilities")),p(),$("disabled",e.disabled),p(4),yt(e.rows.controls))},dependencies:[Ke,xe,we,Me,va,Ze,Xe,jt,Ee,Xt,qt,Vt,Se,ke,Pe,ei,De,Oe],styles:[".avail-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-top:1rem;margin-bottom:.5rem}.avail-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:var(--mat-sys-on-surface, #333)}.btn-add-avail[_ngcontent-%COMP%]{width:32px;height:32px;min-width:32px;line-height:32px;background-color:var(--mat-sys-primary, #c86d3f);color:var(--mat-sys-on-primary, #fff)}.btn-add-avail[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;line-height:18px;width:18px;height:18px}.avail-rows[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.avail-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.5rem;flex-wrap:wrap;background-color:var(--clay, #f3ede4);border-radius:8px;padding:.75rem .75rem 0}.avail-start[_ngcontent-%COMP%], .avail-end[_ngcontent-%COMP%]{flex:1 1 220px;min-width:210px}.avail-desc[_ngcontent-%COMP%]{flex:2 1 200px;min-width:160px}.btn-remove-avail[_ngcontent-%COMP%]{margin-top:.35rem;flex-shrink:0;color:#1b1a1773!important}.btn-remove-avail[_ngcontent-%COMP%]:hover{color:var(--rust, #8a3f24)!important}.avail-overlap-error[_ngcontent-%COMP%]{width:100%;font-size:.75rem;color:var(--mat-sys-error, #b00020);padding:0 .25rem .5rem}"]})};var gi=class n{fromApiError(a){return{type:"server",messages:a?.errors?.length?a.errors:["Une erreur est survenue"]}}imageError(a,t){let e={format:"admin.imageFormat",size:"admin.imageSize",required:"admin.imageRequired"};return{type:"image",messages:[t.t(e[a])]}}format(a){return a.messages.join(", ")}static \u0275fac=function(t){return new(t||n)};static \u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})};var un=class n{constructor(a){this.api=a}getItemAvailabilities(a){return this.api.get(`/api/items/${a}/availabilities`).pipe(ae(t=>t.data))}createAvailability(a,t){return this.api.post(`/api/items/${a}/availabilities`,{availability:t}).pipe(ae(e=>e.data))}updateAvailability(a,t,e){return this.api.put(`/api/items/${a}/availabilities/${t}`,{availability:e}).pipe(ae(i=>i.data))}deleteAvailability(a,t){return this.api.delete(`/api/items/${a}/availabilities/${t}`).pipe(ae(()=>{}))}static \u0275fac=function(t){return new(t||n)(Bi(ye))};static \u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})};var $r=(n,a)=>a.id;function Ur(n,a){if(n&1&&(u(0,"div",3),C(1),h()),n&2){let t=w();p(),P(t.error())}}function Gr(n,a){if(n&1&&C(0),n&2){let t=w(2);Q(" ",t.ts.t("admin.nameRequired")," ")}}function Hr(n,a){if(n&1&&C(0),n&2){let t=w(2);Q(" ",t.ts.t("admin.nameMaxLength")," ")}}function Qr(n,a){if(n&1&&C(0),n&2){let t=w(2);Q(" ",t.ts.t("admin.nameWhitespace")," ")}}function Wr(n,a){if(n&1&&(u(0,"mat-error"),V(1,Gr,1,1)(2,Hr,1,1)(3,Qr,1,1),h()),n&2){let t=w();p(),q(t.form.controls.name.errors.required?1:t.form.controls.name.errors.maxlength?2:t.form.controls.name.errors.pattern?3:-1)}}function Yr(n,a){if(n&1&&C(0),n&2){let t=w(2);Q(" ",t.ts.t("admin.descMaxLength")," ")}}function Xr(n,a){if(n&1&&C(0),n&2){let t=w(2);Q(" ",t.ts.t("admin.descWhitespace")," ")}}function Zr(n,a){if(n&1&&(u(0,"mat-error"),V(1,Yr,1,1)(2,Xr,1,1),h()),n&2){let t=w();p(),q(t.form.controls.description.errors.maxlength?1:t.form.controls.description.errors.pattern?2:-1)}}function Kr(n,a){if(n&1&&C(0),n&2){let t=w(2);Q(" ",t.ts.t("admin.priceRequired")," ")}}function Jr(n,a){if(n&1&&C(0),n&2){let t=w(2);Q(" ",t.ts.t("admin.priceMin")," ")}}function ts(n,a){if(n&1&&C(0),n&2){let t=w(2);Q(" ",t.ts.t("admin.priceMax")," ")}}function es(n,a){if(n&1&&(u(0,"mat-error"),V(1,Kr,1,1)(2,Jr,1,1)(3,ts,1,1),h()),n&2){let t=w();p(),q(t.form.controls.price.errors.required?1:t.form.controls.price.errors.min?2:t.form.controls.price.errors.max?3:-1)}}function is(n,a){if(n&1&&(u(0,"mat-option",10),C(1),h()),n&2){let t=a.$implicit;$("value",t.id),p(),P(t.name)}}function ns(n,a){if(n&1&&(u(0,"mat-error"),C(1),h()),n&2){let t=w();p(),P(t.ts.t("admin.categoryRequired"))}}function as(n,a){if(n&1&&(u(0,"div",13),ot(1,"img",22),h()),n&2){let t=w();p(),$("src",t.imagePreview(),Ni)}}function os(n,a){if(n&1&&(u(0,"mat-error",16),C(1),h()),n&2){let t=w();p(),P(t.imageError())}}function rs(n,a){n&1&&ot(0,"mat-spinner",21)}var Oi=class n{constructor(a,t,e,i,s,y){this.dialogRef=a;this.data=t;this.itemsService=e;this.ts=i;this.errorService=s;this.availabilityService=y;this.isCreating=t.item===null,this.categories=t.categories,t.item?(this.form.patchValue({name:t.item.name,description:t.item.description,price:t.item.price,category_id:t.item.category_id}),this.imagePreview.set(t.item.image_url||null),this.availabilityService.getItemAvailabilities(t.item.id).subscribe({next:O=>{this.originalAvailabilities=O,this.availabilities.set(O)}})):this.form.reset({name:"",description:"",price:0,category_id:t.categories[0]?.id??0})}isCreating;categories;form=new We({name:new It("",[tt.required,tt.maxLength(100),tt.pattern(/.*\S.*/)]),description:new It("",[tt.maxLength(255),tt.pattern(/.*\S.*/)]),price:new It(0,[tt.required,tt.min(0),tt.max(9999.99)]),category_id:new It(0,[tt.required])});image=null;imagePreview=dt(null);imageError=dt("");error=dt("");loading=dt(!1);availabilityList;availabilities=dt([]);originalAvailabilities=[];onImageSelected(a){let t=a.target,e=t.files?.[0];if(!e)return;if(!["image/jpeg","image/png"].includes(e.type)){this.imageError.set(this.errorService.format(this.errorService.imageError("format",this.ts))),t.value="";return}let s=5*1024*1024;if(e.size>s){this.imageError.set(this.errorService.format(this.errorService.imageError("size",this.ts))),t.value="";return}this.imageError.set(""),this.image=e;let y=new FileReader;y.onload=()=>this.imagePreview.set(y.result),y.readAsDataURL(e)}save(){if(Object.values(this.form.controls).forEach(t=>t.markAsDirty()),this.availabilityList?.markAllDirty(),this.isCreating&&!this.image&&!this.imageError()&&this.imageError.set(this.errorService.format(this.errorService.imageError("required",this.ts))),this.form.invalid||this.imageError()||!(this.availabilityList?.isValid??!0))return;this.loading.set(!0),this.error.set("");let a=this.form.value;if(this.isCreating){let t={name:a.name,description:a.description??"",price:a.price,category_id:a.category_id};this.image&&(t.image=this.image),this.itemsService.createItem(t).subscribe({next:e=>{this.syncAvailabilities(e.id).subscribe({next:()=>{this.loading.set(!1),this.dialogRef.close({created:e})},error:i=>{this.error.set(this.errorService.format(this.errorService.fromApiError(i))),this.loading.set(!1)}})},error:e=>{this.error.set(this.errorService.format(this.errorService.fromApiError(e))),this.loading.set(!1)}})}else{let t={name:a.name,description:a.description??"",price:a.price,category_id:a.category_id};this.image&&(t.image=this.image),this.itemsService.updateItem(this.data.item.id,t).subscribe({next:e=>{this.syncAvailabilities(e.id).subscribe({next:()=>{this.loading.set(!1),this.dialogRef.close({updated:e})},error:i=>{this.error.set(this.errorService.format(this.errorService.fromApiError(i))),this.loading.set(!1)}})},error:e=>{this.error.set(this.errorService.format(this.errorService.fromApiError(e))),this.loading.set(!1)}})}}syncAvailabilities(a){let t=this.availabilities(),e=this.originalAvailabilities,i=t.filter(Z=>!Z.id),s=Z=>Z?new Date(Z).getTime():null,y=t.filter(Z=>{if(!Z.id)return!1;let ft=e.find(Tt=>Tt.id===Z.id);return ft?s(ft.start_at)!==s(Z.start_at)||s(ft.end_at)!==s(Z.end_at)||(ft.description??null)!==(Z.description??null):!1}),O=new Set(t.filter(Z=>Z.id).map(Z=>Z.id)),et=e.filter(Z=>!O.has(Z.id)),ct=[...i.map(Z=>this.availabilityService.createAvailability(a,{start_at:Z.start_at,end_at:Z.end_at,description:Z.description})),...y.map(Z=>this.availabilityService.updateAvailability(a,Z.id,{start_at:Z.start_at,end_at:Z.end_at,description:Z.description})),...et.map(Z=>this.availabilityService.deleteAvailability(a,Z.id))];return ct.length>0?Qn(ct):Li(null)}static \u0275fac=function(t){return new(t||n)(it(ue),it(Pi),it(nn),it(Zt),it(gi),it(un))};static \u0275cmp=mt({type:n,selectors:[["app-item-form-dialog"]],viewQuery:function(t,e){if(t&1&&ie(Si,5),t&2){let i;ht(i=gt())&&(e.availabilityList=i.first)}},decls:49,vars:21,consts:[["fileInput",""],["mat-dialog-title","",1,"dialog-title"],["mat-icon-button","","mat-dialog-close","",1,"modal-close"],[1,"dialog-error"],["id","itemForm",3,"ngSubmit","formGroup"],["appearance","outline",1,"field-full"],["matInput","","formControlName","name"],["matInput","","formControlName","description","rows","3"],["matInput","","type","number","formControlName","price","step","0.01"],["formControlName","category_id"],[3,"value"],[1,"image-field"],[1,"image-label"],[1,"image-preview"],["type","file","accept","image/jpeg,image/png",1,"file-input-hidden",3,"change"],["type","button",1,"file-btn",3,"click"],[1,"image-error"],[3,"availabilitiesChange","availabilities","disabled"],["align","end"],["mat-stroked-button","","mat-dialog-close","",1,"btn-cancel"],["mat-flat-button","","type","submit","form","itemForm",1,"btn-primary",3,"disabled"],["diameter","18",1,"btn-spinner"],["alt","Aper\xE7u",3,"src"]],template:function(t,e){if(t&1){let i=pt();u(0,"h2",1)(1,"span"),C(2),h(),u(3,"button",2)(4,"mat-icon"),C(5,"close"),h()()(),u(6,"mat-dialog-content"),V(7,Ur,2,1,"div",3),u(8,"form",4),L("ngSubmit",function(){return z(i),N(e.save())}),u(9,"mat-form-field",5)(10,"mat-label"),C(11),h(),ot(12,"input",6),V(13,Wr,4,1,"mat-error"),h(),u(14,"mat-form-field",5)(15,"mat-label"),C(16),h(),ot(17,"textarea",7),V(18,Zr,3,1,"mat-error"),h(),u(19,"mat-form-field",5)(20,"mat-label"),C(21),h(),ot(22,"input",8),V(23,es,4,1,"mat-error"),h(),u(24,"mat-form-field",5)(25,"mat-label"),C(26),h(),u(27,"mat-select",9),Ct(28,is,2,2,"mat-option",10,$r),h(),V(30,ns,2,1,"mat-error"),h(),u(31,"div",11)(32,"label",12),C(33),h(),V(34,as,2,1,"div",13),u(35,"input",14,0),L("change",function(y){return z(i),N(e.onImageSelected(y))}),h(),u(37,"button",15),L("click",function(){z(i);let y=vi(36);return N(y.click())}),u(38,"mat-icon"),C(39,"upload"),h(),C(40),h(),V(41,os,2,1,"mat-error",16),h()(),u(42,"app-availability-list",17),L("availabilitiesChange",function(y){return z(i),N(e.availabilities.set(y))}),h()(),u(43,"mat-dialog-actions",18)(44,"button",19),C(45),h(),u(46,"button",20),V(47,rs,1,0,"mat-spinner",21),C(48),h()()}t&2&&(p(2),P(e.isCreating?e.ts.t("admin.addItem"):e.ts.t("admin.editItem")),p(5),q(e.error()?7:-1),p(),$("formGroup",e.form),p(3),P(e.ts.t("admin.name")),p(2),q(e.form.controls.name.dirty&&e.form.controls.name.errors?13:-1),p(3),P(e.ts.t("admin.description")),p(2),q(e.form.controls.description.dirty&&e.form.controls.description.errors?18:-1),p(3),P(e.ts.t("admin.price")),p(2),q(e.form.controls.price.dirty&&e.form.controls.price.errors?23:-1),p(3),P(e.ts.t("admin.category")),p(2),yt(e.categories),p(2),q(e.form.controls.category_id.dirty&&e.form.controls.category_id.errors?30:-1),p(3),P(e.ts.t("admin.image")),p(),q(e.imagePreview()?34:-1),p(6),Q(" ",e.ts.t("admin.chooseFile")," "),p(),q(e.imageError()?41:-1),p(),$("availabilities",e.availabilities())("disabled",e.loading()),p(3),P(e.ts.t("admin.cancel")),p(),$("disabled",e.loading()||e.form.invalid),p(),q(e.loading()?47:-1),p(),Q(" ",e.loading()?e.ts.t("admin.saving"):e.isCreating?e.ts.t("admin.add"):e.ts.t("admin.save")," "))},dependencies:[re,Ke,Ye,xe,Hi,we,Me,Ze,Xe,hi,dn,cn,pn,mn,jt,le,Xt,qt,Vt,Se,ke,Pe,ei,De,Oe,oi,ai,ii,Le,Re,Si],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.dialog-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:0;padding:0}.modal-close[_ngcontent-%COMP%]{width:36px!important;height:36px!important;padding:0!important;border-radius:50%!important;background:#fff!important;border:1px solid rgba(27,26,23,.1)!important;display:flex!important;align-items:center!important;justify-content:center!important;color:#1b1a17!important}.modal-close[_ngcontent-%COMP%]:hover{background:#f3ede4!important}.file-input-hidden[_ngcontent-%COMP%]{display:none}mat-dialog-actions[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;overflow:hidden}.btn-cancel[_ngcontent-%COMP%]{border-radius:10px!important;color:#1b1a17!important;border-color:#1b1a1726!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-cancel[_ngcontent-%COMP%]:hover{background:#1b1a170a!important}.btn-primary[_ngcontent-%COMP%]{border-radius:10px!important;background:#c86d3f!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-primary[_ngcontent-%COMP%]:hover{opacity:.9}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6!important;cursor:not-allowed}.file-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;border-radius:10px;border:1px solid rgba(27,26,23,.15);background:#fff;color:#1b1a17;font-family:Space Grotesk,Segoe UI,sans-serif;font-size:.875rem;font-weight:500;padding:.45rem 1rem;cursor:pointer;margin-top:.5rem}.file-btn[_ngcontent-%COMP%]:hover{background:#1b1a170a}.image-preview[_ngcontent-%COMP%]{margin-bottom:.75rem}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:80px;object-fit:cover;display:block;border-radius:8px}"]})};function ss(n,a){if(n&1&&(u(0,"p",3),C(1),h()),n&2){let t=w();p(),P(t.data.warning)}}var Di=class n{constructor(a,t){this.dialogRef=a;this.data=t}confirm(){this.dialogRef.close(!0)}static \u0275fac=function(t){return new(t||n)(it(ue),it(Pi))};static \u0275cmp=mt({type:n,selectors:[["app-confirm-dialog"]],decls:18,vars:7,consts:[["mat-dialog-title","",1,"dialog-title"],["mat-icon-button","","mat-dialog-close","",1,"modal-close"],[1,"modal-text"],[1,"modal-warning"],["align","end"],["mat-stroked-button","","mat-dialog-close","",1,"btn-cancel"],["mat-flat-button","",3,"click"]],template:function(t,e){t&1&&(u(0,"h2",0)(1,"span"),C(2),h(),u(3,"button",1)(4,"mat-icon"),C(5,"close"),h()()(),u(6,"mat-dialog-content")(7,"p",2),C(8),u(9,"strong"),C(10),h(),C(11," ?"),h(),V(12,ss,2,1,"p",3),h(),u(13,"mat-dialog-actions",4)(14,"button",5),C(15,"Annuler"),h(),u(16,"button",6),L("click",function(){return e.confirm()}),C(17),h()()),t&2&&(p(2),P(e.data.title),p(6),Q("",e.data.message," "),p(2),P(e.data.itemName),p(2),q(e.data.warning?12:-1),p(4),Ce(e.data.confirmClass),p(),Q(" ",e.data.confirmLabel," "))},dependencies:[hi,dn,cn,pn,mn,jt,le,Xt,qt,Vt],styles:[".dialog-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:0;padding:0}.modal-close[_ngcontent-%COMP%]{width:36px!important;height:36px!important;padding:0!important;border-radius:50%!important;background:#fff!important;border:1px solid rgba(27,26,23,.1)!important;display:flex!important;align-items:center!important;justify-content:center!important;color:#1b1a17!important}.modal-close[_ngcontent-%COMP%]:hover{background:#f3ede4!important}.modal-text[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:.9rem;color:#1b1a17b3}.modal-warning[_ngcontent-%COMP%]{margin:0;font-size:.82rem;color:#b45309;background:#b4530914;border-radius:8px;padding:.5rem .75rem}mat-dialog-actions[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;overflow:hidden}.btn-cancel[_ngcontent-%COMP%]{border-radius:10px!important;color:#1b1a17!important;border-color:#1b1a1726!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-cancel[_ngcontent-%COMP%]:hover{background:#1b1a170a!important}.btn-danger[_ngcontent-%COMP%]{border-radius:10px!important;background:#8a3f24!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-danger[_ngcontent-%COMP%]:hover{opacity:.9}.btn-restore[_ngcontent-%COMP%]{border-radius:10px!important;background:#2e7d32!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-restore[_ngcontent-%COMP%]:hover{opacity:.9}"]})};var ds=(n,a)=>a.id;function cs(n,a){if(n&1&&(u(0,"div",6),C(1),h()),n&2){let t=w();p(),P(t.loadError())}}function ms(n,a){if(n&1&&(u(0,"div",6),C(1),h()),n&2){let t=w();p(),P(t.actionError())}}function ps(n,a){n&1&&(u(0,"div",7),ot(1,"mat-spinner",10),h())}function us(n,a){if(n&1&&(u(0,"div",8),C(1),h()),n&2){let t=w();p(),P(t.ts.t("admin.noItems"))}}function hs(n,a){if(n&1&&ot(0,"img",14),n&2){let t=w().$implicit;$("src",t.image_url,Ni)("alt",t.name)}}function gs(n,a){n&1&&ot(0,"div",15)}function fs(n,a){if(n&1&&(u(0,"div",16),C(1),h()),n&2){let t=w(3);p(),P(t.ts.t("admin.archived"))}}function _s(n,a){if(n&1&&(u(0,"div",17),C(1),h()),n&2){let t=w(3);p(),P(t.ts.t("admin.unavailable"))}}function bs(n,a){if(n&1){let t=pt();u(0,"button",25),L("click",function(){z(t);let i=w().$implicit,s=w(2);return N(s.confirmRestore(i))}),u(1,"mat-icon"),C(2,"unarchive"),h()()}if(n&2){let t=w(3);$("title",t.ts.t("admin.restoreBtn"))}}function vs(n,a){if(n&1){let t=pt();u(0,"button",26),L("click",function(){z(t);let i=w().$implicit,s=w(2);return N(s.openEdit(i))}),u(1,"mat-icon"),C(2,"edit"),h()(),u(3,"button",27),L("click",function(){z(t);let i=w().$implicit,s=w(2);return N(s.confirmDelete(i))}),u(4,"mat-icon"),C(5,"delete"),h()()}if(n&2){let t=w(3);$("title",t.ts.t("admin.editBtn")),p(3),$("title",t.ts.t("admin.deleteBtn"))}}function Cs(n,a){if(n&1&&(u(0,"mat-card",12)(1,"div",13),V(2,hs,1,2,"img",14)(3,gs,1,0,"div",15),V(4,fs,2,1,"div",16)(5,_s,2,1,"div",17),h(),u(6,"mat-card-content",18)(7,"mat-card-title",19),C(8),h(),u(9,"mat-card-subtitle",20),C(10),h(),u(11,"span",21),C(12),h(),u(13,"span",22),C(14),ra(15,"number"),h()(),u(16,"mat-card-actions",23),V(17,bs,3,1,"button",24)(18,vs,6,2),h()()),n&2){let t=a.$implicit,e=w(2);xt("archived",t.deleted_at)("unavailable",e.isUnavailable(t)),p(2),q(t.image_url?2:3),p(2),q(t.deleted_at?4:e.isUnavailable(t)?5:-1),p(4),P(t.name),p(2),P(t.description),p(2),P(t.category_name??"\u2014"),p(2),Q("",sa(15,11,t.price,"1.2-2")," $"),p(3),q(t.deleted_at?17:18)}}function ys(n,a){if(n&1&&(u(0,"div",9),Ct(1,Cs,19,14,"mat-card",11,ds),h()),n&2){let t=w();p(),yt(t.items())}}var hn=class n{constructor(a,t,e,i,s){this.itemsService=a;this.apiService=t;this.ts=e;this.dialog=i;this.errorService=s}items=dt([]);isLoading=dt(!0);categories=dt([]);loadError=dt("");actionError=dt("");categoryNames=Ui(()=>[...new Set(this.items().map(a=>a.category_name??"\u2014"))]);unavailableIds=Ui(()=>{let a=Date.now();return new Set(this.items().filter(t=>t.deleted_at?!1:!t.availabilities||t.availabilities.length===0?!0:!t.availabilities.some(e=>{let i=new Date(e.start_at).getTime(),s=e.end_at?new Date(e.end_at).getTime():1/0;return i<=a&&a<s})).map(t=>t.id))});ngOnInit(){this.loadData(),this.loadCategories()}loadData(){this.isLoading.set(!0),this.loadError.set(""),this.itemsService.getItems({admin:!0}).subscribe({next:a=>{this.items.set(a),this.isLoading.set(!1),this.categories().length===0&&this.extractCategoriesFromItems(a)},error:a=>{this.loadError.set(this.errorService.format(this.errorService.fromApiError(a))),this.isLoading.set(!1)}})}loadCategories(){this.apiService.get("/api/categories").subscribe({next:a=>{a.data&&this.categories.set(a.data)},error:()=>{this.items().length>0&&this.extractCategoriesFromItems(this.items())}})}extractCategoriesFromItems(a){let t=new Map;for(let e of a)t.has(e.category_id)||t.set(e.category_id,{id:e.category_id,name:e.category_name??"\u2014",position:t.size});this.categories.set([...t.values()])}openCreate(){let a={item:null,categories:this.categories()};this.dialog.open(Oi,{data:a,width:"460px",maxHeight:"90vh",disableClose:!1}).afterClosed().subscribe({next:e=>{e?.created&&this.items.update(i=>[...i,e.created])}})}openEdit(a){let t={item:a,categories:this.categories()};this.dialog.open(Oi,{data:t,width:"460px",maxHeight:"90vh",disableClose:!1}).afterClosed().subscribe({next:i=>{i?.updated&&this.items.update(s=>s.map(y=>y.id===a.id?i.updated:y))}})}confirmDelete(a){let t=a.in_use?{title:this.ts.t("admin.archiveItem"),message:this.ts.t("admin.archiveConfirm"),itemName:a.name,warning:this.ts.t("admin.archiveWarning"),confirmLabel:this.ts.t("admin.archive"),confirmClass:"btn-danger"}:{title:this.ts.t("admin.deleteItem"),message:this.ts.t("admin.deleteConfirm"),itemName:a.name,confirmLabel:this.ts.t("admin.delete"),confirmClass:"btn-danger"};this.dialog.open(Di,{data:t,width:"400px",maxHeight:"90vh"}).afterClosed().subscribe({next:i=>{i&&(this.actionError.set(""),a.in_use?this.itemsService.softDeleteItem(a.id).subscribe({next:s=>{s.data&&this.items.update(y=>y.map(O=>O.id===a.id?s.data:O))},error:s=>{this.actionError.set(this.errorService.format(this.errorService.fromApiError(s)))}}):this.itemsService.hardDeleteItem(a.id).subscribe({next:()=>{this.items.update(s=>s.filter(y=>y.id!==a.id))},error:s=>{this.actionError.set(this.errorService.format(this.errorService.fromApiError(s)))}}))}})}confirmRestore(a){let t={title:this.ts.t("admin.restoreItem"),message:this.ts.t("admin.restoreConfirm"),itemName:a.name,confirmLabel:this.ts.t("admin.restoreBtn"),confirmClass:"btn-restore"};this.dialog.open(Di,{data:t,width:"400px",maxHeight:"90vh"}).afterClosed().subscribe({next:i=>{i&&(this.actionError.set(""),this.itemsService.restoreItem(a.id).subscribe({next:s=>{s.data&&this.items.update(y=>y.map(O=>O.id===a.id?s.data:O))},error:s=>{this.actionError.set(this.errorService.format(this.errorService.fromApiError(s)))}}))}})}getItemsByCategory(a){return this.items().filter(t=>(t.category_name??"\u2014")===a)}isUnavailable(a){if(a.deleted_at)return!1;if(!a.availabilities||a.availabilities.length===0)return!0;let t=Date.now();return!a.availabilities.some(e=>{let i=new Date(e.start_at).getTime(),s=e.end_at?new Date(e.end_at).getTime():1/0;return i<=t&&t<s})}static \u0275fac=function(t){return new(t||n)(it(nn),it(ye),it(Zt),it(ki),it(gi))};static \u0275cmp=mt({type:n,selectors:[["app-admin-items"]],decls:15,vars:8,consts:[[1,"page-admin"],[1,"outer-container"],[1,"welcome-header"],[1,"welcome-title"],["mat-mini-fab","",1,"btn-add",3,"click","title"],[1,"welcome-text"],[1,"admin-error"],[1,"loading"],[1,"empty"],[1,"items-grid"],["diameter","48"],[1,"item-card",3,"archived","unavailable"],[1,"item-card"],[1,"item-image"],[3,"src","alt"],[1,"image-placeholder"],[1,"archived-badge"],[1,"unavailable-badge"],[1,"item-body"],[1,"item-name"],[1,"item-description"],[1,"item-category"],[1,"item-price"],[1,"item-actions"],["mat-icon-button","",1,"action-btn","restore",3,"title"],["mat-icon-button","",1,"action-btn","restore",3,"click","title"],["mat-icon-button","",1,"action-btn","edit",3,"click","title"],["mat-icon-button","",1,"action-btn","delete",3,"click","title"]],template:function(t,e){t&1&&(u(0,"main",0)(1,"div",1)(2,"div",2)(3,"h2",3),C(4),u(5,"button",4),L("click",function(){return e.openCreate()}),u(6,"mat-icon"),C(7,"add"),h()()(),u(8,"p",5),C(9),h()(),V(10,cs,2,1,"div",6),V(11,ms,2,1,"div",6),V(12,ps,2,0,"div",7),V(13,us,2,1,"div",8),V(14,ys,3,0,"div",9),h()()),t&2&&(p(4),Q(" ",e.ts.t("admin.itemsTitle")," "),p(),$("title",e.ts.t("admin.addItem")),p(4),P(e.ts.t("admin.itemsSubtitle")),p(),q(e.loadError()?10:-1),p(),q(e.actionError()?11:-1),p(),q(e.isLoading()?12:-1),p(),q(!e.isLoading()&&e.items().length===0?13:-1),p(),q(!e.isLoading()&&e.items().length>0?14:-1))},dependencies:[re,hi,ci,ri,di,li,Va,si,jt,Ee,Xt,qt,Vt,Le,Re,da],styles:['@import"https://fonts.googleapis.com/css2?family=Fraunces:wght@500;700&family=Space+Grotesk:wght@400;500;600&display=swap";[_nghost-%COMP%]{--ink: #1b1a17;--clay: #f3ede4;--sand: #fbf8f2;--copper: #c86d3f;--rust: #8a3f24;--sage: #7a8f6a;--shadow: 0 25px 60px rgba(27, 26, 23, .18);display:block;min-height:100vh;overflow-x:clip;overflow-y:visible;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);color:var(--ink);font-family:Space Grotesk,Segoe UI,sans-serif}[_nghost-%COMP%]:before, [_nghost-%COMP%]:after{content:"";position:fixed;inset:auto auto 8% -10%;width:320px;height:320px;background:conic-gradient(from 120deg,#c86d3f26,#7a8f6a26);border-radius:50%;filter:blur(10px);z-index:0}[_nghost-%COMP%]:after{inset:-5% -10% auto auto;width:280px;height:280px;background:radial-gradient(circle,rgba(200,109,63,.2),transparent 70%)}.page[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:minmax(280px,560px);justify-content:center;align-items:start;padding:1rem clamp(1rem,3vw,3rem) 1.5rem}.site-header[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;align-items:center;justify-content:space-between;padding:1rem clamp(1rem,3vw,3rem);background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff}.brand[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;letter-spacing:.3rem;text-transform:uppercase;color:#fff}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.panel[_ngcontent-%COMP%]{background:var(--sand);border-radius:24px;padding:1.5rem 2rem;box-shadow:var(--shadow);border:1px solid rgba(27,26,23,.08);animation:_ngcontent-%COMP%_float-in .8s ease forwards}.panel__header[_ngcontent-%COMP%]{display:grid;gap:.25rem;margin-bottom:1rem}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.2rem;font-size:.75rem;color:var(--rust);margin:0}h1[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:clamp(2rem,3vw,2.6rem);margin:0}.subtitle[_ngcontent-%COMP%]{margin:0;color:#1b1a17b3}.form[_ngcontent-%COMP%]{display:grid;gap:.75rem}.field[_ngcontent-%COMP%]{display:grid;gap:.25rem}label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border:1px solid rgba(27,26,23,.2);border-radius:12px;padding:.65rem .875rem;font-size:.95rem;background:#fff;transition:border-color .2s ease,box-shadow .2s ease}input[_ngcontent-%COMP%]:not([matInput]):focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--copper);box-shadow:0 0 0 3px #c86d3f33}.form__actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;margin-top:.5rem}button[_ngcontent-%COMP%]{border-radius:999px;padding:.65rem 1.5rem;font-size:.9rem;font-weight:600;cursor:pointer;border:none}.primary[_ngcontent-%COMP%]{background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff;box-shadow:0 12px 25px #8a3f2459}.ghost[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(27,26,23,.2);color:var(--ink)}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]{border-color:#fff6;color:#fff}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]:hover{background:#ffffff26}@keyframes _ngcontent-%COMP%_float-in{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media(max-width:900px){.page[_ngcontent-%COMP%]{min-height:auto}}@media(max-width:600px){.panel[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-radius:20px}.site-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.form__actions[_ngcontent-%COMP%]{flex-direction:column}button[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{font-size:1.75rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.95rem}}@media(max-width:400px){[_nghost-%COMP%]{overflow-x:clip;overflow-y:visible}.page[_ngcontent-%COMP%]{padding:1.5rem 1rem 3rem;grid-template-columns:1fr}.panel[_ngcontent-%COMP%]{padding:1.5rem 1rem;border-radius:16px}.site-header[_ngcontent-%COMP%]{padding:1rem 1rem 0}h1[_ngcontent-%COMP%]{font-size:1.5rem}.subtitle[_ngcontent-%COMP%]{font-size:.9rem}label[_ngcontent-%COMP%]{font-size:.875rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border-radius:10px;padding:.7rem .75rem;font-size:.9rem}button[_ngcontent-%COMP%]{padding:.7rem 1.2rem;font-size:.9rem}}.page-admin[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;flex-direction:column;align-items:center;min-height:calc(100vh - 60px);padding:2rem 1rem}.outer-container[_ngcontent-%COMP%]{max-width:960px;width:100%}.welcome-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;position:sticky;top:7.5rem;z-index:30;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);padding:.75rem 0 .5rem}.welcome-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:1.5rem;margin:0 0 .5rem;color:var(--rust);display:flex;align-items:center;justify-content:center;gap:.75rem}.btn-add[_ngcontent-%COMP%]{background:var(--copper)!important;color:#fff!important;width:36px!important;height:36px!important;padding:0!important;display:flex!important;align-items:center!important;justify-content:center!important}.btn-add[_ngcontent-%COMP%]:hover{opacity:.85}.welcome-text[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#1b1a17b3}.items-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1.25rem}.item-card[_ngcontent-%COMP%]{background:#fff!important;border-radius:14px!important;border:1px solid rgba(27,26,23,.08);overflow:hidden;padding:0!important;transition:box-shadow .2s ease}.item-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #1b1a171a!important}.item-image[_ngcontent-%COMP%]{position:relative;width:100%;aspect-ratio:16 / 10;background:var(--clay);overflow:hidden}.item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.image-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;background:var(--clay)}.item-body[_ngcontent-%COMP%]{padding:.75rem 1rem .5rem!important;flex:1}.item-name[_ngcontent-%COMP%]{font-weight:600!important;font-size:.95rem!important;color:var(--ink)!important;margin:0 0 .15rem!important;padding:0!important}.item-description[_ngcontent-%COMP%]{font-size:.8rem!important;color:#1b1a178c!important;margin:0 0 .25rem!important;padding:0!important;display:-webkit-box!important;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden!important;white-space:normal!important;text-overflow:ellipsis!important}.item-category[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#1b1a1766;margin-bottom:.5rem;font-style:italic}.item-price[_ngcontent-%COMP%]{display:block;font-weight:700;font-size:1rem;color:var(--ink)}.item-actions[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-end;gap:.25rem;padding:.4rem .75rem .75rem!important;margin:0!important}.action-btn[_ngcontent-%COMP%]{color:#1b1a1773!important;width:36px!important;height:36px!important;padding:0!important;border-radius:50%!important;display:flex!important;align-items:center!important;justify-content:center!important}.action-btn[_ngcontent-%COMP%]:hover{color:var(--ink)!important}.action-btn.delete[_ngcontent-%COMP%]:hover{color:var(--rust)!important}.action-btn.restore[_ngcontent-%COMP%]{color:#1b1a1773!important}.action-btn.restore[_ngcontent-%COMP%]:hover{color:#2e7d32!important}.item-card.archived[_ngcontent-%COMP%]{background:#f5f5f5!important;border-color:#1b1a170d!important;opacity:.75}.item-card.archived[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .item-card.archived[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%], .item-card.archived[_ngcontent-%COMP%]   .item-category[_ngcontent-%COMP%], .item-card.archived[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{color:#1b1a1759!important}.item-card.archived[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}.archived-badge[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:#00000059;color:#fff;font-size:.85rem;font-weight:600;letter-spacing:.05em;text-transform:uppercase;font-family:Space Grotesk,Segoe UI,sans-serif}.item-card.unavailable[_ngcontent-%COMP%]{background:#f5f5f5!important;border-color:#1b1a170d!important;opacity:.75}.item-card.unavailable[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .item-card.unavailable[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%], .item-card.unavailable[_ngcontent-%COMP%]   .item-category[_ngcontent-%COMP%], .item-card.unavailable[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{color:#1b1a1759!important}.item-card.unavailable[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}.unavailable-badge[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:#00000059;color:#fff;font-size:.85rem;font-weight:600;letter-spacing:.05em;text-transform:uppercase;font-family:Space Grotesk,Segoe UI,sans-serif}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:3rem}.empty[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#1b1a1780}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0006;display:flex;align-items:center;justify-content:center;z-index:100}.modal[_ngcontent-%COMP%]{position:relative;background:var(--sand)!important;border-radius:16px!important;padding:0!important;max-width:400px;width:90%;box-shadow:0 12px 40px #00000026!important;max-height:90vh;overflow-y:auto}.modal-close[_ngcontent-%COMP%]{width:36px!important;height:36px!important;padding:0!important;border-radius:50%!important;background:#fff!important;border:1px solid rgba(27,26,23,.1)!important;display:flex!important;align-items:center!important;justify-content:center!important;color:var(--ink)!important;flex-shrink:0}.modal-close[_ngcontent-%COMP%]:hover{background:var(--clay)!important}.modal[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:0!important;margin:0!important}.modal-edit[_ngcontent-%COMP%]{max-width:420px;padding:0!important;display:flex!important;flex-direction:column!important;max-height:90vh;overflow:hidden!important}.modal-delete-header[_ngcontent-%COMP%], .modal-edit-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.25rem 1.5rem 1rem;flex-shrink:0}.modal-edit-body[_ngcontent-%COMP%]{overflow-y:auto!important;flex:1 1 auto!important;padding:0 1.5rem 1.5rem!important}.modal-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif!important;font-size:1.25rem!important;margin:0 0 .75rem!important;color:var(--ink)!important;padding:0!important}.modal-text[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:.9rem;color:#1b1a17b3}.modal-warning[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:.82rem;color:#b45309;background:#b4530914;border-radius:8px;padding:.5rem .75rem}.modal[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0 1.5rem!important}.modal-error[_ngcontent-%COMP%]{background:#dc35451a;color:#dc3545;padding:.5rem .75rem;border-radius:8px;font-size:.85rem;margin-bottom:1rem}.modal-field-full[_ngcontent-%COMP%]{width:100%;margin-bottom:.25rem}  .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__leading,   .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__notch,   .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__trailing{border-color:#1b1a1740!important;border-width:1px!important}  .modal-edit .mat-mdc-form-field.mat-focused .mat-mdc-floating-label{color:#1b1a1799!important}  .modal-edit .mdc-text-field--focused .mdc-notched-outline__leading,   .modal-edit .mdc-text-field--focused .mdc-notched-outline__notch,   .modal-edit .mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#1b1a1740!important;border-width:1px!important}  .modal-edit input.mat-mdc-input-element:focus,   .modal-edit textarea.mat-mdc-input-element:focus,   .modal-edit .mat-mdc-select:focus,   .modal-edit .mat-mdc-select-trigger:focus{outline:none!important;box-shadow:none!important}  .modal-edit .mat-mdc-text-field-wrapper:focus-within{outline:none!important;box-shadow:none!important}.modal-field[_ngcontent-%COMP%]{margin-bottom:1rem}.file-label[_ngcontent-%COMP%]{display:block;font-size:.85rem;font-weight:500;color:var(--ink);margin-bottom:.3rem}.file-error[_ngcontent-%COMP%]{display:block;margin-top:.25rem}.image-preview[_ngcontent-%COMP%]{width:100%;max-height:180px;border-radius:8px;overflow:hidden;margin-bottom:.5rem;background:var(--clay)}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:180px;object-fit:cover;display:block}.file-input-hidden[_ngcontent-%COMP%]{display:none}.file-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;padding:.45rem 1rem;border:1.5px solid rgba(27,26,23,.2);border-radius:10px;background:var(--sand);color:var(--ink);font-family:Space Grotesk,Segoe UI,sans-serif;font-size:.85rem;font-weight:500;cursor:pointer;transition:background .15s,border-color .15s}.file-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.1rem;width:1.1rem;height:1.1rem}.file-btn[_ngcontent-%COMP%]:hover{background:var(--clay);border-color:#1b1a1759}.modal-actions[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-end!important;gap:.75rem;margin:0!important;padding:1rem 1.5rem 1.5rem!important}.modal-edit-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem;padding:1rem 1.5rem;flex-shrink:0;border-top:1px solid rgba(27,26,23,.08)}.btn-cancel[_ngcontent-%COMP%]{border-radius:10px!important;color:var(--ink)!important;border-color:#1b1a1726!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-cancel[_ngcontent-%COMP%]:hover{background:#1b1a170a!important}.btn-danger[_ngcontent-%COMP%]{border-radius:10px!important;background:var(--rust)!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-danger[_ngcontent-%COMP%]:hover{opacity:.9}.btn-restore[_ngcontent-%COMP%]{border-radius:10px!important;background:#2e7d32!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-restore[_ngcontent-%COMP%]:hover{opacity:.9}.btn-primary[_ngcontent-%COMP%]{border-radius:10px!important;background:var(--copper)!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-primary[_ngcontent-%COMP%]:hover{opacity:.9}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6!important;cursor:not-allowed}.admin-error[_ngcontent-%COMP%]{background:#dc354514;color:#b91c1c;border:1px solid rgba(220,53,69,.2);border-radius:10px;padding:.65rem 1rem;font-size:.875rem;margin-bottom:1rem}@media(max-width:500px){.welcome-header[_ngcontent-%COMP%]{top:6.25rem}}@media(max-width:700px){.items-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1rem}}@media(max-width:450px){.items-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}}']})};var gn=class n{constructor(a){this.apiService=a}getUsers(a){let t={};return a?.search&&(t.search=a.search),a?.sort&&a.sort!=="none"&&(t.sort=a.sort),a?.sort_by&&(t.sort_by=a.sort_by),a?.status&&a.status!=="all"&&(t.status=a.status),a?.type&&a.type!=="all"&&(t.type=a.type),this.apiService.get("/api/users",t).pipe(ae(e=>e.data))}getUser(a){return this.apiService.get(`/api/users/${a}`).pipe(ae(t=>t.data))}createUser(a){return this.apiService.post("/api/users",{user:a}).pipe(ae(t=>t.data))}updateUser(a,t){return this.apiService.put(`/api/users/${a}`,{user:t}).pipe(ae(e=>e.data))}deleteUser(a){return this.apiService.delete(`/api/users/${a}`)}static \u0275fac=function(t){return new(t||n)(Bi(ye))};static \u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})};var ws=(n,a)=>a.id;function Ms(n,a){if(n&1&&(u(0,"mat-option",13),C(1),h()),n&2){let t=a.$implicit,e=w();$("value",t),p(),P(e.getStatusLabel(t))}}function Is(n,a){if(n&1&&(u(0,"mat-option",13),C(1),h()),n&2){let t=a.$implicit,e=w();$("value",t),p(),P(e.getTypeLabel(t))}}function Ts(n,a){n&1&&(u(0,"div",17),ot(1,"mat-spinner",21),h())}function Ps(n,a){if(n&1&&(u(0,"div",18),C(1),h()),n&2){let t=w();p(),P(t.ts.t("admin.users.noUsers"))}}function ks(n,a){if(n&1){let t=pt();u(0,"mat-card",22)(1,"mat-card-content",23)(2,"div",24)(3,"div",25),C(4),h(),u(5,"div",26),C(6),h()(),u(7,"div",27)(8,"span",28),C(9),h(),u(10,"span",29),C(11),h()()(),u(12,"mat-card-actions",30)(13,"button",31),L("click",function(){let i=z(t).$implicit,s=w(2);return N(s.toggleStatus(i))}),u(14,"mat-icon"),C(15),h()(),u(16,"button",32),L("click",function(){let i=z(t).$implicit,s=w(2);return N(s.openEdit(i))}),u(17,"mat-icon"),C(18,"edit"),h()(),u(19,"button",33),L("click",function(){let i=z(t).$implicit,s=w(2);return N(s.confirmDelete(i))}),u(20,"mat-icon"),C(21,"delete"),h()()()()}if(n&2){let t=a.$implicit,e=w(2);p(4),Ci("",t.first_name," ",t.last_name),p(2),P(t.email),p(2),Dt("data-type",t.type),p(),P(e.getTypeLabel(t.type)),p(),Dt("data-status",t.status),p(),P(e.getStatusLabel(t.status)),p(2),$("title",t.status==="active"?e.ts.t("admin.users.block"):e.ts.t("admin.users.activate")),p(2),P(t.status==="active"?"block":"check_circle"),p(),$("title",e.ts.t("admin.editBtn")),p(3),$("title",e.ts.t("admin.deleteBtn"))}}function Ss(n,a){if(n&1&&(u(0,"div",19),Ct(1,ks,22,11,"mat-card",22,ws),h()),n&2){let t=w();p(),yt(t.users())}}function Os(n,a){if(n&1){let t=pt();u(0,"div",20)(1,"mat-card",34)(2,"button",35),L("click",function(){z(t);let i=w();return N(i.cancelDelete())}),u(3,"mat-icon"),C(4,"close"),h()(),u(5,"mat-card-header")(6,"mat-card-title",36),C(7),h()(),u(8,"mat-card-content")(9,"p",37),C(10),u(11,"strong"),C(12),h(),C(13," ?"),h()(),u(14,"mat-card-actions",38)(15,"button",39),L("click",function(){z(t);let i=w();return N(i.cancelDelete())}),C(16),h(),u(17,"button",40),L("click",function(){z(t);let i=w();return N(i.deleteUser())}),C(18),h()()()()}if(n&2){let t=w();p(7),P(t.ts.t("admin.users.deleteTitle")),p(3),Q("",t.ts.t("admin.users.deleteConfirm")," "),p(2),Ci("",t.userToDelete().first_name," ",t.userToDelete().last_name),p(4),P(t.ts.t("admin.cancel")),p(2),P(t.ts.t("admin.delete"))}}function Ds(n,a){if(n&1&&(u(0,"div",42),C(1),h()),n&2){let t=w(2);p(),P(t.editError())}}function As(n,a){if(n&1&&C(0),n&2){let t=w(3);Q(" ",t.ts.t("admin.users.firstNameRequired")," ")}}function Es(n,a){if(n&1&&C(0),n&2){let t=w(3);Q(" ",t.ts.t("admin.users.firstNameMaxLength")," ")}}function Rs(n,a){if(n&1&&C(0),n&2){let t=w(3);Q(" ",t.ts.t("admin.users.firstNameWhitespace")," ")}}function Ls(n,a){if(n&1&&(u(0,"mat-error"),V(1,As,1,1)(2,Es,1,1)(3,Rs,1,1),h()),n&2){let t=w(2);p(),q(t.editForm.controls.first_name.errors.required?1:t.editForm.controls.first_name.errors.maxlength?2:t.editForm.controls.first_name.errors.whitespace?3:-1)}}function Fs(n,a){if(n&1&&C(0),n&2){let t=w(3);Q(" ",t.ts.t("admin.users.lastNameRequired")," ")}}function Bs(n,a){if(n&1&&C(0),n&2){let t=w(3);Q(" ",t.ts.t("admin.users.lastNameMaxLength")," ")}}function zs(n,a){if(n&1&&C(0),n&2){let t=w(3);Q(" ",t.ts.t("admin.users.lastNameWhitespace")," ")}}function Ns(n,a){if(n&1&&(u(0,"mat-error"),V(1,Fs,1,1)(2,Bs,1,1)(3,zs,1,1),h()),n&2){let t=w(2);p(),q(t.editForm.controls.last_name.errors.required?1:t.editForm.controls.last_name.errors.maxlength?2:t.editForm.controls.last_name.errors.whitespace?3:-1)}}function js(n,a){if(n&1&&C(0),n&2){let t=w(3);Q(" ",t.ts.t("admin.users.emailRequired")," ")}}function Vs(n,a){if(n&1&&C(0),n&2){let t=w(3);Q(" ",t.ts.t("admin.users.emailInvalid")," ")}}function qs(n,a){if(n&1&&(u(0,"mat-error"),V(1,js,1,1)(2,Vs,1,1),h()),n&2){let t=w(2);p(),q(t.editForm.controls.email.errors.required?1:t.editForm.controls.email.errors.email?2:-1)}}function $s(n,a){if(n&1&&(u(0,"mat-option",13),C(1),h()),n&2){let t=a.$implicit,e=w(2);$("value",t),p(),P(e.getTypeLabel(t))}}function Us(n,a){if(n&1&&(u(0,"mat-option",13),C(1),h()),n&2){let t=a.$implicit,e=w(2);$("value",t),p(),P(e.getStatusLabel(t))}}function Gs(n,a){if(n&1&&C(0),n&2){let t=w(3);Q(" ",t.ts.t("admin.users.passwordRequired")," ")}}function Hs(n,a){if(n&1&&C(0),n&2){let t=w(3);Q(" ",t.ts.t("admin.users.passwordMinLength")," ")}}function Qs(n,a){if(n&1&&C(0),n&2){let t=w(3);Q(" ",t.ts.t("admin.users.passwordMaxLength")," ")}}function Ws(n,a){if(n&1&&(u(0,"mat-error"),V(1,Gs,1,1)(2,Hs,1,1)(3,Qs,1,1),h()),n&2){let t=w(2);p(),q(t.editForm.controls.password.errors.required?1:t.editForm.controls.password.errors.minlength?2:t.editForm.controls.password.errors.maxlength?3:-1)}}function Ys(n,a){if(n&1&&C(0),n&2){let t=w(3);Q(" ",t.ts.t("admin.users.passwordConfirmationRequired")," ")}}function Xs(n,a){if(n&1&&C(0),n&2){let t=w(3);Q(" ",t.ts.t("admin.users.passwordMinLength")," ")}}function Zs(n,a){if(n&1&&C(0),n&2){let t=w(3);Q(" ",t.ts.t("admin.users.passwordMaxLength")," ")}}function Ks(n,a){if(n&1&&(u(0,"mat-error"),V(1,Ys,1,1)(2,Xs,1,1)(3,Zs,1,1),h()),n&2){let t=w(2);p(),q(t.editForm.controls.password_confirmation.errors.required?1:t.editForm.controls.password_confirmation.errors.minlength?2:t.editForm.controls.password_confirmation.errors.maxlength?3:-1)}}function Js(n,a){if(n&1){let t=pt();u(0,"div",20)(1,"mat-card",41)(2,"button",35),L("click",function(){z(t);let i=w();return N(i.cancelEdit())}),u(3,"mat-icon"),C(4,"close"),h()(),u(5,"mat-card-header")(6,"mat-card-title",36),C(7),h()(),u(8,"mat-card-content"),V(9,Ds,2,1,"div",42),u(10,"form",43),L("ngSubmit",function(){z(t);let i=w();return N(i.isCreating()?i.saveCreate():i.saveEdit())}),u(11,"mat-form-field",44)(12,"mat-label"),C(13),h(),ot(14,"input",45),V(15,Ls,4,1,"mat-error"),h(),u(16,"mat-form-field",44)(17,"mat-label"),C(18),h(),ot(19,"input",46),V(20,Ns,4,1,"mat-error"),h(),u(21,"mat-form-field",44)(22,"mat-label"),C(23),h(),ot(24,"input",47),V(25,qs,3,1,"mat-error"),h(),u(26,"mat-form-field",44)(27,"mat-label"),C(28),h(),u(29,"mat-select",48),Ct(30,$s,2,2,"mat-option",13,Qt),h()(),u(32,"mat-form-field",44)(33,"mat-label"),C(34),h(),u(35,"mat-select",49),Ct(36,Us,2,2,"mat-option",13,Qt),h()(),u(38,"mat-form-field",44)(39,"mat-label"),C(40),h(),ot(41,"input",50),V(42,Ws,4,1,"mat-error"),h(),u(43,"mat-form-field",44)(44,"mat-label"),C(45),h(),ot(46,"input",51),V(47,Ks,4,1,"mat-error"),h(),u(48,"mat-card-actions",38)(49,"button",52),L("click",function(){z(t);let i=w();return N(i.cancelEdit())}),C(50),h(),u(51,"button",53),C(52),h()()()()()()}if(n&2){let t=w();p(7),P(t.isCreating()?t.ts.t("admin.users.add"):t.ts.t("admin.users.edit")),p(2),q(t.editError()?9:-1),p(),$("formGroup",t.editForm),p(3),P(t.ts.t("admin.users.firstName")),p(2),q(t.editForm.controls.first_name.dirty&&t.editForm.controls.first_name.errors?15:-1),p(3),P(t.ts.t("admin.users.lastName")),p(2),q(t.editForm.controls.last_name.dirty&&t.editForm.controls.last_name.errors?20:-1),p(3),P(t.ts.t("admin.users.email")),p(2),q(t.editForm.controls.email.dirty&&t.editForm.controls.email.errors?25:-1),p(3),P(t.ts.t("admin.users.typeLabel")),p(2),yt(t.userTypes),p(4),P(t.ts.t("admin.users.statusLabel")),p(2),yt(t.userStatuses),p(4),P(t.ts.t("admin.users.password")),p(2),q(t.editForm.controls.password.dirty&&t.editForm.controls.password.errors?42:-1),p(3),P(t.ts.t("admin.users.passwordConfirmation")),p(2),q(t.editForm.controls.password_confirmation.dirty&&t.editForm.controls.password_confirmation.errors?47:-1),p(3),P(t.ts.t("admin.cancel")),p(),$("disabled",t.editLoading()||t.editForm.invalid),p(),Q(" ",t.editLoading()?t.ts.t("admin.saving"):t.isCreating()?t.ts.t("admin.add"):t.ts.t("admin.save")," ")}}function _o(n){return n.value&&/^\s*$/.test(n.value)?{whitespace:!0}:null}var fn=class n{constructor(a,t,e){this.userService=a;this.ts=t;this.cdr=e}users=dt([]);isLoading=dt(!0);searchTerm=dt("");filterStatus=dt("all");filterType=dt("all");sortOrder=dt("none");userToDelete=dt(null);isCreating=dt(!1);editingUser=dt(null);editForm=new We({first_name:new It("",[tt.required,tt.maxLength(50),_o]),last_name:new It("",[tt.required,tt.maxLength(50),_o]),email:new It("",[tt.required,tt.email]),type:new It("Client",[tt.required]),status:new It("active",[tt.required]),password:new It("",[tt.minLength(6),tt.maxLength(128)]),password_confirmation:new It("",[tt.minLength(6),tt.maxLength(128)])});editError=dt("");editLoading=dt(!1);userTypes=["Administrator","Waiter","Client","Cook"];userStatuses=["active","inactive","blocked"];ngOnInit(){this.loadData()}loadData(){this.isLoading.set(!0);let a={};this.searchTerm()&&(a.search=this.searchTerm()),this.filterStatus()!=="all"&&(a.status=this.filterStatus()),this.filterType()!=="all"&&(a.type=this.filterType()),(this.sortOrder()==="asc"||this.sortOrder()==="desc")&&(a.sort=this.sortOrder(),a.sort_by="last_name"),this.userService.getUsers(a).subscribe({next:t=>{this.users.set(t),this.isLoading.set(!1)},error:()=>{this.isLoading.set(!1)}})}onSearchChange(a){this.searchTerm.set(a.target.value),this.loadData()}onFilterStatusChange(a){this.filterStatus.set(a),this.loadData()}onFilterTypeChange(a){this.filterType.set(a),this.loadData()}onSortChange(a){this.sortOrder.set(a),this.loadData()}toggleStatus(a){let t=a.status==="active"?"blocked":"active";this.userService.updateUser(a.id,{status:t}).subscribe({next:e=>{this.users.update(i=>i.map(s=>s.id===a.id?e:s))}})}confirmDelete(a){this.userToDelete.set(a)}cancelDelete(){this.userToDelete.set(null)}deleteUser(){let a=this.userToDelete();a&&this.userService.deleteUser(a.id).subscribe({next:()=>{this.users.update(t=>t.filter(e=>e.id!==a.id)),this.userToDelete.set(null)},error:()=>{this.userToDelete.set(null)}})}openCreate(){this.isCreating.set(!0),this.editForm.reset({first_name:"",last_name:"",email:"",type:"Client",status:"active",password:"",password_confirmation:""}),this.editForm.markAsPristine(),this.editForm.markAsUntouched(),this.editForm.controls.password.setValidators([tt.required,tt.minLength(6),tt.maxLength(128)]),this.editForm.controls.password_confirmation.setValidators([tt.required,tt.minLength(6),tt.maxLength(128)]),this.editForm.controls.password.updateValueAndValidity(),this.editForm.controls.password_confirmation.updateValueAndValidity(),this.editError.set("")}saveCreate(){if(Object.values(this.editForm.controls).forEach(t=>t.markAsDirty()),this.editForm.invalid)return;this.editLoading.set(!0),this.editError.set("");let a=this.editForm.value;this.userService.createUser({first_name:a.first_name,last_name:a.last_name,email:a.email,type:a.type,status:a.status,password:a.password,password_confirmation:a.password_confirmation}).subscribe({next:t=>{this.users.update(e=>[...e,t]),this.isCreating.set(!1),this.editLoading.set(!1)},error:t=>{this.editError.set(t?.errors?.join(", ")||this.ts.t("admin.users.createError")),this.editLoading.set(!1),this.cdr.detectChanges()}})}openEdit(a){this.editingUser.set(a),this.editForm.patchValue({first_name:a.first_name,last_name:a.last_name,email:a.email,type:a.type,status:a.status,password:"",password_confirmation:""}),this.editForm.markAsPristine(),this.editForm.markAsUntouched(),this.editForm.controls.password.setValidators([tt.minLength(6),tt.maxLength(128)]),this.editForm.controls.password_confirmation.setValidators([tt.minLength(6),tt.maxLength(128)]),this.editForm.controls.password.updateValueAndValidity(),this.editForm.controls.password_confirmation.updateValueAndValidity(),this.editError.set("")}cancelEdit(){this.editingUser.set(null),this.isCreating.set(!1),this.editError.set("")}saveEdit(){let a=this.editingUser();if(!a||(Object.values(this.editForm.controls).forEach(i=>i.markAsDirty()),this.editForm.invalid))return;this.editLoading.set(!0),this.editError.set("");let t=this.editForm.value,e={first_name:t.first_name,last_name:t.last_name,email:t.email,type:t.type,status:t.status};t.password&&(e.password=t.password,e.password_confirmation=t.password_confirmation),this.userService.updateUser(a.id,e).subscribe({next:i=>{this.users.update(s=>s.map(y=>y.id===a.id?i:y)),this.editingUser.set(null),this.editLoading.set(!1)},error:i=>{this.editError.set(i?.errors?.join(", ")||this.ts.t("admin.users.editError")),this.editLoading.set(!1),this.cdr.detectChanges()}})}getTypeLabel(a){let t="admin.users.type."+a;return this.ts.t(t)}getStatusLabel(a){let t="admin.users.status."+a;return this.ts.t(t)}static \u0275fac=function(t){return new(t||n)(it(gn),it(Zt),it(Wt))};static \u0275cmp=mt({type:n,selectors:[["app-admin-users"]],decls:48,vars:21,consts:[[1,"page-admin"],[1,"outer-container"],[1,"welcome-header"],[1,"welcome-title"],["mat-mini-fab","",1,"btn-add",3,"click","title"],[1,"welcome-text"],[1,"filters-bar"],["appearance","outline",1,"filter-field","search-field"],["matInput","",3,"input","value"],["matPrefix",""],["appearance","outline",1,"filter-field"],[3,"selectionChange","value"],["value","all"],[3,"value"],["value","none"],["value","asc"],["value","desc"],[1,"loading"],[1,"empty"],[1,"users-list"],[1,"modal-overlay"],["diameter","48"],[1,"user-card"],[1,"user-body"],[1,"user-info"],[1,"user-name"],[1,"user-email"],[1,"user-badges"],[1,"badge","badge-type"],[1,"badge","badge-status"],[1,"user-actions"],["mat-icon-button","",1,"action-btn","toggle",3,"click","title"],["mat-icon-button","",1,"action-btn","edit",3,"click","title"],["mat-icon-button","",1,"action-btn","delete",3,"click","title"],[1,"modal"],["mat-icon-button","",1,"modal-close",3,"click"],[1,"modal-title"],[1,"modal-text"],[1,"modal-actions"],["mat-stroked-button","",1,"btn-cancel",3,"click"],["mat-flat-button","",1,"btn-danger",3,"click"],[1,"modal","modal-edit"],[1,"modal-error"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"modal-field-full"],["matInput","","formControlName","first_name"],["matInput","","formControlName","last_name"],["matInput","","formControlName","email","type","email"],["formControlName","type"],["formControlName","status"],["matInput","","formControlName","password","type","password"],["matInput","","formControlName","password_confirmation","type","password"],["mat-stroked-button","","type","button",1,"btn-cancel",3,"click"],["mat-flat-button","","type","submit",1,"btn-primary",3,"disabled"]],template:function(t,e){t&1&&(u(0,"main",0)(1,"div",1)(2,"div",2)(3,"h2",3),C(4),u(5,"button",4),L("click",function(){return e.openCreate()}),u(6,"mat-icon"),C(7,"add"),h()()(),u(8,"p",5),C(9),h()(),u(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),C(13),h(),u(14,"input",8),L("input",function(s){return e.onSearchChange(s)}),h(),u(15,"mat-icon",9),C(16,"search"),h()(),u(17,"mat-form-field",10)(18,"mat-label"),C(19),h(),u(20,"mat-select",11),L("selectionChange",function(s){return e.onFilterStatusChange(s.value)}),u(21,"mat-option",12),C(22),h(),Ct(23,Ms,2,2,"mat-option",13,Qt),h()(),u(25,"mat-form-field",10)(26,"mat-label"),C(27),h(),u(28,"mat-select",11),L("selectionChange",function(s){return e.onFilterTypeChange(s.value)}),u(29,"mat-option",12),C(30),h(),Ct(31,Is,2,2,"mat-option",13,Qt),h()(),u(33,"mat-form-field",10)(34,"mat-label"),C(35),h(),u(36,"mat-select",11),L("selectionChange",function(s){return e.onSortChange(s.value)}),u(37,"mat-option",14),C(38),h(),u(39,"mat-option",15),C(40),h(),u(41,"mat-option",16),C(42),h()()()(),V(43,Ts,2,0,"div",17),V(44,Ps,2,1,"div",18),V(45,Ss,3,0,"div",19),h()(),V(46,Os,19,6,"div",20),V(47,Js,53,18,"div",20)),t&2&&(p(4),Q(" ",e.ts.t("admin.users.title")," "),p(),$("title",e.ts.t("admin.users.add")),p(4),P(e.ts.t("admin.users.subtitle")),p(4),P(e.ts.t("admin.users.search")),p(),$("value",e.searchTerm()),p(5),P(e.ts.t("admin.users.filterStatus")),p(),$("value",e.filterStatus()),p(2),P(e.ts.t("admin.users.all")),p(),yt(e.userStatuses),p(4),P(e.ts.t("admin.users.filterType")),p(),$("value",e.filterType()),p(2),P(e.ts.t("admin.users.all")),p(),yt(e.userTypes),p(4),P(e.ts.t("admin.users.sort")),p(),$("value",e.sortOrder()),p(2),P(e.ts.t("admin.users.sortDefault")),p(2),P(e.ts.t("admin.users.sortAZ")),p(2),P(e.ts.t("admin.users.sortZA")),p(),q(e.isLoading()?43:-1),p(),q(!e.isLoading()&&e.users().length===0?44:-1),p(),q(!e.isLoading()&&e.users().length>0?45:-1),p(),q(e.userToDelete()?46:-1),p(),q(e.editingUser()||e.isCreating()?47:-1))},dependencies:[re,Ke,Ye,xe,we,Me,Ze,Xe,ci,ri,di,li,en,si,jt,le,Ee,Xt,qt,Vt,Se,ke,Pe,ei,Yi,De,Oe,oi,ai,ii,Le,Re],styles:['@import"https://fonts.googleapis.com/css2?family=Fraunces:wght@500;700&family=Space+Grotesk:wght@400;500;600&display=swap";[_nghost-%COMP%]{--ink: #1b1a17;--clay: #f3ede4;--sand: #fbf8f2;--copper: #c86d3f;--rust: #8a3f24;--sage: #7a8f6a;--shadow: 0 25px 60px rgba(27, 26, 23, .18);display:block;min-height:100vh;overflow-x:clip;overflow-y:visible;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);color:var(--ink);font-family:Space Grotesk,Segoe UI,sans-serif}[_nghost-%COMP%]:before, [_nghost-%COMP%]:after{content:"";position:fixed;inset:auto auto 8% -10%;width:320px;height:320px;background:conic-gradient(from 120deg,#c86d3f26,#7a8f6a26);border-radius:50%;filter:blur(10px);z-index:0}[_nghost-%COMP%]:after{inset:-5% -10% auto auto;width:280px;height:280px;background:radial-gradient(circle,rgba(200,109,63,.2),transparent 70%)}.page[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:minmax(280px,560px);justify-content:center;align-items:start;padding:1rem clamp(1rem,3vw,3rem) 1.5rem}.site-header[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;align-items:center;justify-content:space-between;padding:1rem clamp(1rem,3vw,3rem);background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff}.brand[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;letter-spacing:.3rem;text-transform:uppercase;color:#fff}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.panel[_ngcontent-%COMP%]{background:var(--sand);border-radius:24px;padding:1.5rem 2rem;box-shadow:var(--shadow);border:1px solid rgba(27,26,23,.08);animation:_ngcontent-%COMP%_float-in .8s ease forwards}.panel__header[_ngcontent-%COMP%]{display:grid;gap:.25rem;margin-bottom:1rem}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.2rem;font-size:.75rem;color:var(--rust);margin:0}h1[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:clamp(2rem,3vw,2.6rem);margin:0}.subtitle[_ngcontent-%COMP%]{margin:0;color:#1b1a17b3}.form[_ngcontent-%COMP%]{display:grid;gap:.75rem}.field[_ngcontent-%COMP%]{display:grid;gap:.25rem}label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border:1px solid rgba(27,26,23,.2);border-radius:12px;padding:.65rem .875rem;font-size:.95rem;background:#fff;transition:border-color .2s ease,box-shadow .2s ease}input[_ngcontent-%COMP%]:not([matInput]):focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--copper);box-shadow:0 0 0 3px #c86d3f33}.form__actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;margin-top:.5rem}button[_ngcontent-%COMP%]{border-radius:999px;padding:.65rem 1.5rem;font-size:.9rem;font-weight:600;cursor:pointer;border:none}.primary[_ngcontent-%COMP%]{background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff;box-shadow:0 12px 25px #8a3f2459}.ghost[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(27,26,23,.2);color:var(--ink)}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]{border-color:#fff6;color:#fff}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]:hover{background:#ffffff26}@keyframes _ngcontent-%COMP%_float-in{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media(max-width:900px){.page[_ngcontent-%COMP%]{min-height:auto}}@media(max-width:600px){.panel[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-radius:20px}.site-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.form__actions[_ngcontent-%COMP%]{flex-direction:column}button[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{font-size:1.75rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.95rem}}@media(max-width:400px){[_nghost-%COMP%]{overflow-x:clip;overflow-y:visible}.page[_ngcontent-%COMP%]{padding:1.5rem 1rem 3rem;grid-template-columns:1fr}.panel[_ngcontent-%COMP%]{padding:1.5rem 1rem;border-radius:16px}.site-header[_ngcontent-%COMP%]{padding:1rem 1rem 0}h1[_ngcontent-%COMP%]{font-size:1.5rem}.subtitle[_ngcontent-%COMP%]{font-size:.9rem}label[_ngcontent-%COMP%]{font-size:.875rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border-radius:10px;padding:.7rem .75rem;font-size:.9rem}button[_ngcontent-%COMP%]{padding:.7rem 1.2rem;font-size:.9rem}}.page-admin[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;flex-direction:column;align-items:center;min-height:calc(100vh - 60px);padding:2rem 1rem}.outer-container[_ngcontent-%COMP%]{max-width:960px;width:100%}.welcome-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;position:sticky;top:7.5rem;z-index:30;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);padding:.75rem 0 .5rem}.welcome-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:1.5rem;margin:0 0 .5rem;color:var(--rust);display:flex;align-items:center;justify-content:center;gap:.75rem}.btn-add[_ngcontent-%COMP%]{background:var(--copper)!important;color:#fff!important;width:36px!important;height:36px!important;padding:0!important;display:flex!important;align-items:center!important;justify-content:center!important}.btn-add[_ngcontent-%COMP%]:hover{opacity:.85}.welcome-text[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#1b1a17b3}.filters-bar[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-bottom:1.25rem;flex-wrap:wrap}.filter-field[_ngcontent-%COMP%]{flex:1;min-width:140px}.search-field[_ngcontent-%COMP%]{flex:2;min-width:200px}.users-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.user-card[_ngcontent-%COMP%]{background:#fff!important;border-radius:14px!important;border:1px solid rgba(27,26,23,.08);overflow:hidden;padding:0!important;transition:box-shadow .2s ease;display:flex!important;flex-direction:row!important;align-items:center}.user-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #1b1a171a!important}.user-body[_ngcontent-%COMP%]{padding:.75rem 1rem!important;flex:1;display:flex!important;align-items:center;gap:1rem}.user-info[_ngcontent-%COMP%]{flex:1;min-width:0}.user-name[_ngcontent-%COMP%]{font-weight:600;font-size:.95rem;color:var(--ink)}.user-email[_ngcontent-%COMP%]{font-size:.8rem;color:#1b1a178c;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.user-badges[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-shrink:0}.badge[_ngcontent-%COMP%]{display:inline-block;padding:.2rem .6rem;border-radius:999px;font-size:.72rem;font-weight:600;white-space:nowrap}.badge-type[_ngcontent-%COMP%]{background:#1b1a1714;color:var(--ink)}.badge-type[data-type=Administrator][_ngcontent-%COMP%]{background:#6a5acd1f;color:#6a5acd}.badge-type[data-type=Waiter][_ngcontent-%COMP%]{background:#1e90ff1f;color:#1e90ff}.badge-type[data-type=Cook][_ngcontent-%COMP%]{background:#ff8c001f;color:#e07800}.badge-type[data-type=Client][_ngcontent-%COMP%]{background:#1b1a1714;color:#1b1a1799}.badge-status[data-status=active][_ngcontent-%COMP%]{background:#28a7451f;color:#28a745}.badge-status[data-status=inactive][_ngcontent-%COMP%]{background:#ffa5001f;color:#e69500}.badge-status[data-status=blocked][_ngcontent-%COMP%]{background:#dc35451f;color:#dc3545}.user-actions[_ngcontent-%COMP%]{display:flex!important;gap:.25rem;padding:.4rem .75rem!important;margin:0!important;flex-shrink:0}.action-btn[_ngcontent-%COMP%]{color:#1b1a1773!important;width:36px!important;height:36px!important;padding:0!important;border-radius:50%!important;display:flex!important;align-items:center!important;justify-content:center!important}.action-btn[_ngcontent-%COMP%]:hover{color:var(--ink)!important}.action-btn.delete[_ngcontent-%COMP%]:hover{color:var(--rust)!important}.action-btn.toggle[_ngcontent-%COMP%]:hover{color:var(--copper)!important}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:3rem}.empty[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#1b1a1780}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0006;display:flex;align-items:center;justify-content:center;z-index:100}.modal[_ngcontent-%COMP%]{position:relative;background:var(--sand)!important;border-radius:16px!important;padding:1.5rem!important;max-width:400px;width:90%;box-shadow:0 12px 40px #00000026!important;max-height:90vh;overflow-y:auto}.modal-close[_ngcontent-%COMP%]{position:sticky!important;top:0;float:right;margin-left:auto;z-index:10;width:36px!important;height:36px!important;padding:0!important;border-radius:50%!important;background:#fff!important;border:1px solid rgba(27,26,23,.1)!important;display:flex!important;align-items:center!important;justify-content:center!important;color:var(--ink)!important}.modal-close[_ngcontent-%COMP%]:hover{background:var(--clay)!important}.modal[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:0!important;margin:0!important}.modal-edit[_ngcontent-%COMP%]{max-width:420px}.modal-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif!important;font-size:1.25rem!important;margin:0 0 .75rem!important;color:var(--ink)!important;padding:0!important}.modal-text[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:.9rem;color:#1b1a17b3}.modal[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0!important}.modal-error[_ngcontent-%COMP%]{background:#dc35451a;color:#dc3545;padding:.5rem .75rem;border-radius:8px;font-size:.85rem;margin-bottom:1rem}.modal-field-full[_ngcontent-%COMP%]{width:100%;margin-bottom:.25rem}  .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__leading,   .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__notch,   .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__trailing{border-color:#1b1a1740!important;border-width:1px!important}  .modal-edit .mat-mdc-form-field.mat-focused .mat-mdc-floating-label{color:#1b1a1799!important}  .modal-edit .mdc-text-field--focused .mdc-notched-outline__leading,   .modal-edit .mdc-text-field--focused .mdc-notched-outline__notch,   .modal-edit .mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#1b1a1740!important;border-width:1px!important}  .modal-edit input.mat-mdc-input-element:focus,   .modal-edit textarea.mat-mdc-input-element:focus,   .modal-edit .mat-mdc-select:focus,   .modal-edit .mat-mdc-select-trigger:focus{outline:none!important;box-shadow:none!important}  .modal-edit .mat-mdc-text-field-wrapper:focus-within{outline:none!important;box-shadow:none!important}.modal-actions[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-end;gap:.75rem;margin:1rem 0 0!important;padding:0!important}.btn-cancel[_ngcontent-%COMP%]{border-radius:10px!important;color:var(--ink)!important;border-color:#1b1a1726!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-cancel[_ngcontent-%COMP%]:hover{background:#1b1a170a!important}.btn-danger[_ngcontent-%COMP%]{border-radius:10px!important;background:var(--rust)!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-danger[_ngcontent-%COMP%]:hover{opacity:.9}.btn-primary[_ngcontent-%COMP%]{border-radius:10px!important;background:var(--copper)!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-primary[_ngcontent-%COMP%]:hover{opacity:.9}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6!important;cursor:not-allowed}@media(max-width:500px){.welcome-header[_ngcontent-%COMP%]{top:6.25rem}}@media(max-width:700px){.filters-bar[_ngcontent-%COMP%]{flex-direction:column}.filter-field[_ngcontent-%COMP%]{min-width:100%}.user-card[_ngcontent-%COMP%]{flex-direction:column!important;align-items:stretch}.user-body[_ngcontent-%COMP%]{flex-direction:column!important;align-items:flex-start}.user-actions[_ngcontent-%COMP%]{justify-content:flex-end;border-top:1px solid rgba(27,26,23,.06)}}']})};function tl(n,a){n&1&&ot(0,"app-admin-tables")}function el(n,a){n&1&&ot(0,"app-admin-items")}function il(n,a){n&1&&ot(0,"app-admin-users")}var Un=["tables","items","users"],bo=class n{constructor(a,t,e,i,s){this.authService=a;this.router=t;this.route=e;this.location=i;this.ts=s}tabIndex=0;ngOnInit(){let a=this.route.snapshot.queryParamMap.get("tab"),t=Un.indexOf(a??"");this.tabIndex=t>=0?t:0,this.router.navigate([],{relativeTo:this.route,queryParams:{tab:Un[this.tabIndex]},replaceUrl:!0})}onTabChange(a){this.tabIndex=a,this.router.navigate([],{relativeTo:this.route,queryParams:{tab:Un[a]},replaceUrl:!0})}goBack(){this.location.back()}goToKitchen(){this.router.navigate(["/kitchen"])}logout(){this.authService.logout().subscribe({next:()=>this.router.navigate(["/login"]),error:()=>this.router.navigate(["/login"])})}static \u0275fac=function(t){return new(t||n)(it(pa),it(ma),it(ca),it(la),it(Zt))};static \u0275cmp=mt({type:n,selectors:[["app-admin"]],decls:22,vars:8,consts:[[3,"logoutClick","showAdmin"],[1,"header-separator"],["mat-button","",1,"quit-btn",3,"click"],[1,"tabs-wrapper"],[1,"admin-tabs",3,"selectedIndexChange","selectedIndex"],["label","Tables"],["label","Items"],[3,"label"],[1,"tab-content"]],template:function(t,e){t&1&&(u(0,"app-header",0),L("logoutClick",function(){return e.logout()}),u(1,"span",1),C(2,"|"),h(),u(3,"button",2),L("click",function(){return e.goToKitchen()}),u(4,"mat-icon"),C(5,"restaurant"),h(),C(6),h(),u(7,"span",1),C(8,"|"),h(),u(9,"button",2),L("click",function(){return e.goBack()}),u(10,"mat-icon"),C(11,"restaurant_menu"),h(),C(12),h()(),u(13,"div",3)(14,"mat-tab-group",4),Nt("selectedIndexChange",function(s){return zt(e.tabIndex,s)||(e.tabIndex=s),s}),L("selectedIndexChange",function(s){return e.onTabChange(s)}),ot(15,"mat-tab",5)(16,"mat-tab",6)(17,"mat-tab",7),h()(),u(18,"div",8),V(19,tl,1,0,"app-admin-tables"),V(20,el,1,0,"app-admin-items"),V(21,il,1,0,"app-admin-users"),h()),t&2&&($("showAdmin",!1),p(6),Q(" ",e.ts.t("header.kitchen")," "),p(6),Q(" ",e.ts.t("header.quit")," "),p(2),Bt("selectedIndex",e.tabIndex),p(3),$("label",e.ts.t("admin.users.tab")),p(2),q(e.tabIndex===0?19:-1),p(),q(e.tabIndex===1?20:-1),p(),q(e.tabIndex===2?21:-1))},dependencies:[re,Ja,On,Ka,jt,le,qt,Vt,Ga,rn,hn,fn],styles:['@import"https://fonts.googleapis.com/css2?family=Fraunces:wght@500;700&family=Space+Grotesk:wght@400;500;600&display=swap";[_nghost-%COMP%]{--ink: #1b1a17;--clay: #f3ede4;--sand: #fbf8f2;--copper: #c86d3f;--rust: #8a3f24;--sage: #7a8f6a;--shadow: 0 25px 60px rgba(27, 26, 23, .18);display:block;min-height:100vh;overflow-x:clip;overflow-y:visible;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);color:var(--ink);font-family:Space Grotesk,Segoe UI,sans-serif}[_nghost-%COMP%]:before, [_nghost-%COMP%]:after{content:"";position:fixed;inset:auto auto 8% -10%;width:320px;height:320px;background:conic-gradient(from 120deg,#c86d3f26,#7a8f6a26);border-radius:50%;filter:blur(10px);z-index:0}[_nghost-%COMP%]:after{inset:-5% -10% auto auto;width:280px;height:280px;background:radial-gradient(circle,rgba(200,109,63,.2),transparent 70%)}.page[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:minmax(280px,560px);justify-content:center;align-items:start;padding:1rem clamp(1rem,3vw,3rem) 1.5rem}.site-header[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;align-items:center;justify-content:space-between;padding:1rem clamp(1rem,3vw,3rem);background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff}.brand[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;letter-spacing:.3rem;text-transform:uppercase;color:#fff}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.panel[_ngcontent-%COMP%]{background:var(--sand);border-radius:24px;padding:1.5rem 2rem;box-shadow:var(--shadow);border:1px solid rgba(27,26,23,.08);animation:_ngcontent-%COMP%_float-in .8s ease forwards}.panel__header[_ngcontent-%COMP%]{display:grid;gap:.25rem;margin-bottom:1rem}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.2rem;font-size:.75rem;color:var(--rust);margin:0}h1[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:clamp(2rem,3vw,2.6rem);margin:0}.subtitle[_ngcontent-%COMP%]{margin:0;color:#1b1a17b3}.form[_ngcontent-%COMP%]{display:grid;gap:.75rem}.field[_ngcontent-%COMP%]{display:grid;gap:.25rem}label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border:1px solid rgba(27,26,23,.2);border-radius:12px;padding:.65rem .875rem;font-size:.95rem;background:#fff;transition:border-color .2s ease,box-shadow .2s ease}input[_ngcontent-%COMP%]:not([matInput]):focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--copper);box-shadow:0 0 0 3px #c86d3f33}.form__actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;margin-top:.5rem}button[_ngcontent-%COMP%]{border-radius:999px;padding:.65rem 1.5rem;font-size:.9rem;font-weight:600;cursor:pointer;border:none}.primary[_ngcontent-%COMP%]{background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff;box-shadow:0 12px 25px #8a3f2459}.ghost[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(27,26,23,.2);color:var(--ink)}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]{border-color:#fff6;color:#fff}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]:hover{background:#ffffff26}@keyframes _ngcontent-%COMP%_float-in{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media(max-width:900px){.page[_ngcontent-%COMP%]{min-height:auto}}@media(max-width:600px){.panel[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-radius:20px}.site-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.form__actions[_ngcontent-%COMP%]{flex-direction:column}button[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{font-size:1.75rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.95rem}}@media(max-width:400px){[_nghost-%COMP%]{overflow-x:clip;overflow-y:visible}.page[_ngcontent-%COMP%]{padding:1.5rem 1rem 3rem;grid-template-columns:1fr}.panel[_ngcontent-%COMP%]{padding:1.5rem 1rem;border-radius:16px}.site-header[_ngcontent-%COMP%]{padding:1rem 1rem 0}h1[_ngcontent-%COMP%]{font-size:1.5rem}.subtitle[_ngcontent-%COMP%]{font-size:.9rem}label[_ngcontent-%COMP%]{font-size:.875rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border-radius:10px;padding:.7rem .75rem;font-size:.9rem}button[_ngcontent-%COMP%]{padding:.7rem 1.2rem;font-size:.9rem}}[_nghost-%COMP%]{display:block;min-height:100vh;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc)}.header-separator[_ngcontent-%COMP%]{color:#fff6;font-size:1.2rem;-webkit-user-select:none;user-select:none}.quit-btn[_ngcontent-%COMP%]{color:#fff!important;font-size:.9rem!important;font-weight:500!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}  .quit-btn .mat-icon{font-size:18px!important;width:18px!important;height:18px!important;margin-right:.35rem;color:#fff!important}.tabs-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:.75rem clamp(1rem,3vw,3rem);position:sticky;top:3.5rem;z-index:40;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc)}  .admin-tabs .mat-mdc-tab-header{background:#fff;border-radius:999px;padding:.3rem;box-shadow:0 2px 8px #1b1a171a;border-bottom:none!important}  .admin-tabs .mat-mdc-tab-label-container{border-bottom:none!important}  .admin-tabs .mdc-tab{padding:0 1.75rem!important;min-width:auto!important;height:40px!important;border-radius:999px!important;font-family:Space Grotesk,Segoe UI,sans-serif!important;font-size:.9rem!important;font-weight:500!important;letter-spacing:0!important;color:#1b1a1773!important;transition:color .2s ease,background .2s ease}  .admin-tabs .mdc-tab:hover .mdc-tab__text-label{color:var(--ink)!important}  .admin-tabs .mdc-tab--active{background:linear-gradient(120deg,var(--copper),var(--rust))!important;color:#fff!important;font-weight:600!important}  .admin-tabs .mdc-tab--active .mdc-tab__text-label{color:#fff!important}  .admin-tabs .mat-mdc-tab-header .mdc-tab-indicator{display:none!important}  .admin-tabs .mat-mdc-tab .mat-ripple{display:none!important}  .admin-tabs .mat-mdc-tab-header{--mdc-tab-indicator-active-indicator-height: 0 !important}  .admin-tabs .mdc-tab__text-label{color:#1b1a1773!important;transition:color .2s ease!important}.placeholder[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:300px;color:#1b1a1766;font-size:1.1rem}@media(max-width:500px){.tabs-wrapper[_ngcontent-%COMP%]{top:3rem;padding:.5rem 1rem}  .admin-tabs .mdc-tab{padding:0 1.25rem!important;height:36px!important;font-size:.85rem!important}}']})};export{bo as AdminComponent};
