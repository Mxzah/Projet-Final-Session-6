import{a as Ae,b as ke}from"./chunk-7I4D2JPE.js";import{a as Ee,b as Oe}from"./chunk-RWXLVKA4.js";import{a as ye}from"./chunk-WH6K2T3Q.js";import{a as Pe}from"./chunk-Z2FRV3RQ.js";import{a as le,c as se,e as de}from"./chunk-YPZEG5PR.js";import{a as fe,b as xe}from"./chunk-CZH2WNCU.js";import{a as ve,b as he,c as Ie,e as Me,f as we,g as Se}from"./chunk-MT447YXZ.js";import{C as ae,D as re,G as me,H as ce,b as Q,c as h,e as Z,f as H,g as T,i as y,k as Y,l as W,n as J,o as K,p as X,q as ee,s as te,u as ie,v as ne,w as oe}from"./chunk-SV7ND62C.js";import{ga as pe,ha as _e,ja as be,ka as Ce,la as ge,ma as ue}from"./chunk-SYYZOLA4.js";import{a as U}from"./chunk-HZIK2TNL.js";import{i as B,j as G}from"./chunk-GKGO7CCA.js";import{$b as D,Bb as E,Cb as O,Db as v,Eb as o,Fb as r,Gb as w,Lb as S,Pb as u,Rb as c,Sa as P,Ua as n,Vb as z,Wb as N,Xb as q,bb as M,bc as L,da as b,dc as m,ea as C,ec as p,fc as f,gc as j,hb as V,kc as R,lc as $,ma as F,pc as k,qa as g,wb as A,xb as s,yb as d}from"./chunk-QXPTUTPQ.js";var Ve=["createAvailList"],ze=(t,i)=>i.id;function Ne(t,i){if(t&1&&(o(0,"div",9),m(1),r()),t&2){let e=c(2);n(),p(e.loadError())}}function qe(t,i){if(t&1&&(o(0,"div",9),m(1),r()),t&2){let e=c(2);n(),p(e.actionError())}}function De(t,i){t&1&&(o(0,"div",10),w(1,"mat-spinner",13),r())}function Le(t,i){if(t&1&&(o(0,"div",11),m(1),r()),t&2){let e=c(2);n(),p(e.ts.t("admin.combos.empty"))}}function je(t,i){if(t&1&&w(0,"img",17),t&2){let e=c().$implicit;v("src",e.image_url,P)}}function Re(t,i){t&1&&(o(0,"div",18)(1,"mat-icon"),m(2,"restaurant"),r()())}function $e(t,i){if(t&1&&(o(0,"span",21),m(1),r()),t&2){let e=c(4);n(),p(e.ts.t("admin.unavailable"))}}function Be(t,i){if(t&1){let e=S();o(0,"mat-card",15),u("click",function(){let l=b(e).$implicit,_=c(3);return C(_.selectCombo(l))}),o(1,"mat-card-content",16),s(2,je,1,1,"img",17)(3,Re,3,0,"div",18),o(4,"div",19)(5,"div",20),m(6),s(7,$e,2,1,"span",21),r(),o(8,"div",22),m(9),r()(),o(10,"div",23),m(11),R(12,"number"),r()()()}if(t&2){let e=i.$implicit,a=c(3);L("unavailable",a.unavailableIds().has(e.id)),n(2),d(e.image_url?2:3),n(4),f(" ",e.name," "),n(),d(a.unavailableIds().has(e.id)?7:-1),n(2),p(e.description||"\u2014"),n(2),f("",$(12,7,e.price,"1.2-2")," $")}}function Ge(t,i){if(t&1&&(o(0,"div",12),E(1,Be,13,10,"mat-card",14,A().trackByComboId,!0),r()),t&2){let e=c(2);n(),O(e.combos())}}function Ue(t,i){if(t&1){let e=S();o(0,"div",5)(1,"h2",6),m(2),o(3,"button",7),u("click",function(){b(e);let l=c();return C(l.openCreate())}),o(4,"mat-icon"),m(5,"add"),r()()(),o(6,"p",8),m(7),r()(),s(8,Ne,2,1,"div",9),s(9,qe,2,1,"div",9),s(10,De,2,0,"div",10),s(11,Le,2,1,"div",11),s(12,Ge,3,0,"div",12)}if(t&2){let e=c();n(2),f(" ",e.ts.t("admin.combos.title")," "),n(),v("title",e.ts.t("admin.combos.add")),n(4),p(e.ts.t("admin.combos.subtitle")),n(),d(e.loadError()?8:-1),n(),d(e.actionError()&&!e.isCreating()?9:-1),n(),d(e.isLoading()?10:-1),n(),d(!e.isLoading()&&e.combos().length===0?11:-1),n(),d(!e.isLoading()&&e.combos().length>0?12:-1)}}function Qe(t,i){if(t&1&&(o(0,"div",9),m(1),r()),t&2){let e=c(2);n(),p(e.actionError())}}function Ze(t,i){t&1&&(o(0,"div",10),w(1,"mat-spinner",13),r())}function He(t,i){if(t&1&&(o(0,"div",11),m(1),r()),t&2){let e=c(2);n(),p(e.ts.t("admin.comboItems.empty"))}}function Ye(t,i){if(t&1&&w(0,"img",29),t&2){let e=c().$implicit;v("src",e.item_image_url,P)}}function We(t,i){t&1&&(o(0,"div",30)(1,"mat-icon"),m(2,"fastfood"),r()())}function Je(t,i){if(t&1){let e=S();o(0,"mat-card",27)(1,"mat-card-content",28),s(2,Ye,1,1,"img",29)(3,We,3,0,"div",30),o(4,"div",31)(5,"div",32),m(6),r(),o(7,"div",33),m(8),r()(),o(9,"button",34),u("click",function(){let l=b(e).$implicit,_=c(3);return C(_.deleteComboItem(l))}),o(10,"mat-icon"),m(11,"delete"),r()()()()}if(t&2){let e=i.$implicit,a=c(3);n(2),d(e.item_image_url?2:3),n(4),p(e.item_name),n(2),j("",a.ts.t("admin.comboItems.qty"),": ",e.quantity),n(),v("title",a.ts.t("admin.delete"))}}function Ke(t,i){if(t&1&&(o(0,"div",26),E(1,Je,12,5,"mat-card",27,A().trackByComboItemId,!0),r()),t&2){let e=c(2);n(),O(e.selectedComboItems())}}function Xe(t,i){if(t&1){let e=S();o(0,"div",5)(1,"h2",6)(2,"button",24),u("click",function(){b(e);let l=c();return C(l.backToList())}),o(3,"mat-icon"),m(4,"arrow_back"),r()(),o(5,"span",25),m(6),r(),o(7,"button",7),u("click",function(){b(e);let l=c();return C(l.openAddItem())}),o(8,"mat-icon"),m(9,"add"),r()()(),o(10,"p",8),m(11),r()(),s(12,Qe,2,1,"div",9),s(13,Ze,2,0,"div",10),s(14,He,2,1,"div",11),s(15,Ke,3,0,"div",26)}if(t&2){let e,a=c();n(6),p((e=a.selectedCombo())==null?null:e.name),n(),v("title",a.ts.t("admin.comboItems.add")),n(4),p(a.ts.t("admin.comboItems.detailSubtitle")),n(),d(a.actionError()&&!a.isAddingItem()?12:-1),n(),d(a.isLoadingItems()?13:-1),n(),d(!a.isLoadingItems()&&a.selectedComboItems().length===0?14:-1),n(),d(!a.isLoadingItems()&&a.selectedComboItems().length>0?15:-1)}}function et(t,i){if(t&1&&(o(0,"div",38),m(1),r()),t&2){let e=c(2);n(),p(e.actionError())}}function tt(t,i){if(t&1&&m(0),t&2){let e=c(3);f(" ",e.ts.t("admin.nameRequired")," ")}}function it(t,i){if(t&1&&m(0),t&2){let e=c(3);f(" ",e.ts.t("admin.combos.nameMaxLength")," ")}}function nt(t,i){if(t&1&&m(0),t&2){let e=c(3);f(" ",e.ts.t("admin.combos.nameWhitespace")," ")}}function ot(t,i){if(t&1&&(o(0,"mat-error"),s(1,tt,1,1)(2,it,1,1)(3,nt,1,1),r()),t&2){let e=c(2);n(),d(e.createForm.controls.name.errors.required?1:e.createForm.controls.name.errors.maxlength?2:e.createForm.controls.name.errors.whitespace?3:-1)}}function at(t,i){if(t&1&&(o(0,"mat-error"),m(1),r()),t&2){let e=c(2);n(),p(e.ts.t("admin.combos.descMaxLength"))}}function rt(t,i){if(t&1&&m(0),t&2){let e=c(3);f(" ",e.ts.t("admin.priceRequired")," ")}}function mt(t,i){if(t&1&&m(0),t&2){let e=c(3);f(" ",e.ts.t("admin.combos.priceMin")," ")}}function ct(t,i){if(t&1&&m(0),t&2){let e=c(3);f(" ",e.ts.t("admin.combos.priceMax")," ")}}function lt(t,i){if(t&1&&(o(0,"mat-error"),s(1,rt,1,1)(2,mt,1,1)(3,ct,1,1),r()),t&2){let e=c(2);n(),d(e.createForm.controls.price.errors.required?1:e.createForm.controls.price.errors.min?2:e.createForm.controls.price.errors.max?3:-1)}}function st(t,i){if(t&1&&(o(0,"div",46),w(1,"img",54),r()),t&2){let e=c(2);n(),v("src",e.createImagePreview(),P)}}function dt(t,i){if(t&1&&(o(0,"mat-error",49),m(1),r()),t&2){let e=c(2);n(),p(e.createImageError())}}function pt(t,i){if(t&1){let e=S();o(0,"div",4)(1,"mat-card",35)(2,"button",36),u("click",function(){b(e);let l=c();return C(l.cancelCreate())}),o(3,"mat-icon"),m(4,"close"),r()(),o(5,"mat-card-header")(6,"mat-card-title",37),m(7),r()(),o(8,"mat-card-content"),s(9,et,2,1,"div",38),o(10,"form",39),u("ngSubmit",function(){b(e);let l=c();return C(l.saveCreate())}),o(11,"mat-form-field",40)(12,"mat-label"),m(13),r(),w(14,"input",41),s(15,ot,4,1,"mat-error"),r(),o(16,"mat-form-field",40)(17,"mat-label"),m(18),r(),w(19,"textarea",42),s(20,at,2,1,"mat-error"),r(),o(21,"mat-form-field",40)(22,"mat-label"),m(23),r(),o(24,"input",43),u("input",function(l){b(e);let _=c();return C(_.clampPrice(l))}),r(),s(25,lt,4,1,"mat-error"),r(),o(26,"div",44)(27,"label",45),m(28),r(),s(29,st,2,1,"div",46),o(30,"input",47,0),u("change",function(l){b(e);let _=c();return C(_.onImageSelected(l))}),r(),o(32,"button",48),u("click",function(){b(e);let l=D(31);return C(l.click())}),o(33,"mat-icon"),m(34,"upload"),r(),m(35),r(),s(36,dt,2,1,"mat-error",49),r(),o(37,"app-availability-list",50,1),u("availabilitiesChange",function(l){b(e);let _=c();return C(_.createAvailabilities.set(l))}),r(),o(39,"mat-card-actions",51)(40,"button",52),u("click",function(){b(e);let l=c();return C(l.cancelCreate())}),m(41),r(),o(42,"button",53),m(43),r()()()()()()}if(t&2){let e=c();n(7),p(e.ts.t("admin.combos.createTitle")),n(2),d(e.actionError()?9:-1),n(),v("formGroup",e.createForm),n(3),p(e.ts.t("admin.name")),n(2),d(e.createForm.controls.name.dirty&&e.createForm.controls.name.errors?15:-1),n(3),p(e.ts.t("admin.description")),n(2),d(e.createForm.controls.description.dirty&&(e.createForm.controls.description.errors!=null&&e.createForm.controls.description.errors.maxlength)?20:-1),n(3),p(e.ts.t("admin.price")),n(2),d(e.createForm.controls.price.dirty&&e.createForm.controls.price.errors?25:-1),n(3),p(e.ts.t("admin.image")),n(),d(e.createImagePreview()?29:-1),n(6),f(" ",e.ts.t("admin.chooseFile")," "),n(),d(e.createImageError()?36:-1),n(),v("availabilities",e.createAvailabilities())("disabled",e.isSaving()),n(4),p(e.ts.t("admin.cancel")),n(),v("disabled",e.isSaving()),n(),f(" ",e.isSaving()?e.ts.t("admin.combos.creating"):e.ts.t("tables.create")," ")}}function _t(t,i){if(t&1&&(o(0,"div",38),m(1),r()),t&2){let e=c(2);n(),p(e.actionError())}}function bt(t,i){if(t&1&&(o(0,"mat-option",57),m(1),r()),t&2){let e=i.$implicit;v("value",e.id),n(),p(e.name)}}function Ct(t,i){if(t&1&&(o(0,"mat-error"),m(1),r()),t&2){let e=c(2);n(),p(e.ts.t("admin.comboItems.itemRequired"))}}function gt(t,i){if(t&1&&m(0),t&2){let e=c(3);f(" ",e.ts.t("admin.comboItems.quantityRequired")," ")}}function ut(t,i){if(t&1&&m(0),t&2){let e=c(3);f(" ",e.ts.t("admin.comboItems.quantityMin")," ")}}function ft(t,i){if(t&1&&m(0),t&2){let e=c(3);f(" ",e.ts.t("admin.comboItems.quantityMax")," ")}}function xt(t,i){if(t&1&&(o(0,"mat-error"),s(1,gt,1,1)(2,ut,1,1)(3,ft,1,1),r()),t&2){let e=c(2);n(),d(e.addItemForm.controls.quantity.errors.required?1:e.addItemForm.controls.quantity.errors.min?2:e.addItemForm.controls.quantity.errors.max?3:-1)}}function vt(t,i){if(t&1){let e=S();o(0,"div",4)(1,"mat-card",55)(2,"button",36),u("click",function(){b(e);let l=c();return C(l.cancelAddItem())}),o(3,"mat-icon"),m(4,"close"),r()(),o(5,"mat-card-header")(6,"mat-card-title",37),m(7),r()(),o(8,"mat-card-content"),s(9,_t,2,1,"div",38),o(10,"form",39),u("ngSubmit",function(){b(e);let l=c();return C(l.saveAddItem())}),o(11,"mat-form-field",40)(12,"mat-label"),m(13),r(),o(14,"mat-select",56),E(15,bt,2,2,"mat-option",57,ze),r(),s(17,Ct,2,1,"mat-error"),r(),o(18,"mat-form-field",40)(19,"mat-label"),m(20),r(),o(21,"input",58),u("input",function(l){b(e);let _=c();return C(_.clampQuantity(l))}),r(),s(22,xt,4,1,"mat-error"),r(),o(23,"mat-card-actions",51)(24,"button",52),u("click",function(){b(e);let l=c();return C(l.cancelAddItem())}),m(25),r(),o(26,"button",53),m(27),r()()()()()()}if(t&2){let e=c();n(7),p(e.ts.t("admin.comboItems.addTitle")),n(2),d(e.actionError()?9:-1),n(),v("formGroup",e.addItemForm),n(3),p(e.ts.t("admin.comboItems.item")),n(2),O(e.items()),n(2),d((e.addItemForm.controls.item_id.dirty||e.addItemForm.controls.item_id.touched)&&(e.addItemForm.controls.item_id.errors!=null&&e.addItemForm.controls.item_id.errors.required)?17:-1),n(3),p(e.ts.t("admin.comboItems.quantity")),n(2),d((e.addItemForm.controls.quantity.dirty||e.addItemForm.controls.quantity.touched)&&e.addItemForm.controls.quantity.errors?22:-1),n(3),p(e.ts.t("admin.cancel")),n(),v("disabled",e.isSavingItem()),n(),f(" ",e.isSavingItem()?e.ts.t("admin.comboItems.adding"):e.ts.t("admin.comboItems.add")," ")}}function ht(t){return t.value&&/^\s*$/.test(t.value)?{whitespace:!0}:null}var Te=class t{constructor(i,e,a,l,_,x,I){this.combosService=i;this.comboItemsService=e;this.itemsService=a;this.availabilityService=l;this.errorService=_;this.ngZone=x;this.ts=I;this.ngZone.runOutsideAngular(()=>{this.nowInterval=setInterval(()=>{this.ngZone.run(()=>this.now.set(Date.now()))},6e4)})}createAvailList;combos=g([]);createAvailabilities=g([]);selectedCombo=g(null);comboItems=g([]);items=g([]);isLoadingItems=g(!1);now=g(Date.now());nowInterval;unavailableIds=k(()=>{let i=this.now();return new Set(this.combos().filter(e=>!e.availabilities||e.availabilities.length===0?!0:!e.availabilities.some(a=>{let l=new Date(a.start_at).getTime(),_=a.end_at?new Date(a.end_at).getTime():1/0;return l<=i&&i<_})).map(e=>e.id))});selectedComboItems=k(()=>{let i=this.selectedCombo();return i?this.comboItems().filter(e=>e.combo_id===i.id):[]});ngOnDestroy(){clearInterval(this.nowInterval)}isLoading=g(!0);loadError=g("");actionError=g("");isCreating=g(!1);isSaving=g(!1);createImage=null;createImagePreview=g(null);createImageError=g("");isAddingItem=g(!1);isSavingItem=g(!1);createForm=new T({name:new y("",[h.required,h.maxLength(100),ht]),description:new y("",[h.maxLength(255)]),price:new y(null,[h.required,h.min(.01),h.max(9999.99)])});addItemForm=new T({item_id:new y(null,[h.required]),quantity:new y(1,[h.required,h.min(1),h.max(10)])});ngOnInit(){this.loadCombos()}loadCombos(){this.isLoading.set(!0),this.loadError.set(""),this.combosService.getCombos().subscribe({next:i=>{this.combos.set(i),this.isLoading.set(!1)},error:i=>{this.loadError.set(this.errorService.format(this.errorService.fromApiError(i))),this.isLoading.set(!1)}})}selectCombo(i){this.selectedCombo.set(i),this.actionError.set(""),this.loadComboItemsAndItems()}backToList(){this.selectedCombo.set(null),this.comboItems.set([]),this.isAddingItem.set(!1),this.actionError.set("")}loadComboItemsAndItems(){this.isLoadingItems.set(!0);let i=2,e=()=>{i-=1,i===0&&this.isLoadingItems.set(!1)};this.comboItemsService.getComboItems().subscribe({next:a=>{this.comboItems.set(a),e()},error:a=>{this.actionError.set(this.errorService.format(this.errorService.fromApiError(a))),e()}}),this.itemsService.getItems({admin:!0}).subscribe({next:a=>{this.items.set(a.filter(l=>!l.deleted_at)),e()},error:a=>{this.actionError.set(this.errorService.format(this.errorService.fromApiError(a))),e()}})}openAddItem(){this.actionError.set(""),this.isAddingItem.set(!0),this.addItemForm.reset({item_id:null,quantity:1}),this.addItemForm.markAsPristine(),this.addItemForm.markAsUntouched()}cancelAddItem(){this.isAddingItem.set(!1),this.isSavingItem.set(!1),this.actionError.set("")}saveAddItem(){if(Object.values(this.addItemForm.controls).forEach(_=>{_.markAsDirty(),_.markAsTouched()}),this.addItemForm.invalid||this.isSavingItem())return;let i=this.selectedCombo();if(!i)return;let e=this.addItemForm.getRawValue(),a=Number(e.item_id),l=Number(e.quantity);this.actionError.set(""),this.isSavingItem.set(!0),this.comboItemsService.createComboItem({combo_id:i.id,item_id:a,quantity:l}).subscribe({next:_=>{this.comboItems.update(x=>[_,...x]),this.isSavingItem.set(!1),this.isAddingItem.set(!1)},error:_=>{this.actionError.set(this.errorService.format(this.errorService.fromApiError(_))),this.isSavingItem.set(!1)}})}deleteComboItem(i){this.comboItemsService.deleteComboItem(i.id).subscribe({next:()=>{this.comboItems.update(e=>e.filter(a=>a.id!==i.id))},error:e=>{this.actionError.set(this.errorService.format(this.errorService.fromApiError(e)))}})}openCreate(){this.actionError.set(""),this.isCreating.set(!0),this.createAvailabilities.set([]),this.createImage=null,this.createImagePreview.set(null),this.createImageError.set(""),this.createForm.reset({name:"",description:"",price:null}),this.createForm.markAsPristine(),this.createForm.markAsUntouched()}cancelCreate(){this.isCreating.set(!1),this.isSaving.set(!1),this.actionError.set(""),this.createAvailabilities.set([]),this.createImage=null,this.createImagePreview.set(null),this.createImageError.set("")}onImageSelected(i){let e=i.target,a=e.files?.[0];if(!a)return;if(!["image/jpeg","image/png"].includes(a.type)){this.createImageError.set(this.errorService.format(this.errorService.imageError("format",this.ts))),e.value="";return}let _=5*1024*1024;if(a.size>_){this.createImageError.set(this.errorService.format(this.errorService.imageError("size",this.ts))),e.value="";return}this.createImageError.set(""),this.createImage=a;let x=new FileReader;x.onload=()=>this.createImagePreview.set(x.result),x.readAsDataURL(a)}clampPrice(i){let e=i.target,a=parseFloat(e.value);a>9999.99?(e.value="9999.99",this.createForm.controls.price.setValue(9999.99)):a<0&&(e.value="0",this.createForm.controls.price.setValue(0))}clampQuantity(i){let e=i.target,a=parseInt(e.value,10);a>10?(e.value="10",this.addItemForm.controls.quantity.setValue(10)):a<1&&(e.value="1",this.addItemForm.controls.quantity.setValue(1))}saveCreate(){if(Object.values(this.createForm.controls).forEach(x=>x.markAsDirty()),this.createForm.invalid||this.isSaving())return;let i=this.createForm.getRawValue(),e=i.name?.trim()??"",a=i.description?.trim()??"",l=Number(i.price);this.actionError.set(""),this.isSaving.set(!0);let _={name:e,description:a,price:l};this.createImage&&(_.image=this.createImage),this.combosService.createCombo(_).subscribe({next:x=>{this.combos.update(I=>[x,...I]),this.availabilityService.syncAvailabilities(this.createAvailabilities(),[],I=>this.availabilityService.createAvailability("combos",x.id,I),(I,Fe)=>this.availabilityService.updateAvailability("combos",x.id,I,Fe),I=>this.availabilityService.deleteAvailability("combos",x.id,I)).subscribe({next:()=>{this.isSaving.set(!1),this.isCreating.set(!1)},error:()=>{this.isSaving.set(!1),this.isCreating.set(!1)}})},error:x=>{this.actionError.set(this.errorService.format(this.errorService.fromApiError(x))),this.isSaving.set(!1)}})}trackByComboId(i,e){return e.id}trackByComboItemId(i,e){return e.id}static \u0275fac=function(e){return new(e||t)(M(Ee),M(Oe),M(ye),M(ke),M(Pe),M(F),M(U))};static \u0275cmp=V({type:t,selectors:[["app-admin-combos"]],viewQuery:function(e,a){if(e&1&&z(Ve,5),e&2){let l;N(l=q())&&(a.createAvailList=l.first)}},decls:6,vars:4,consts:[["fileInput",""],["createAvailList",""],[1,"page-admin"],[1,"outer-container"],[1,"modal-overlay"],[1,"welcome-header"],[1,"welcome-title"],["mat-mini-fab","",1,"btn-add",3,"click","title"],[1,"welcome-text"],[1,"admin-error"],[1,"loading"],[1,"empty"],[1,"combos-list"],["diameter","48"],[1,"combo-card","clickable",3,"unavailable"],[1,"combo-card","clickable",3,"click"],[1,"combo-body"],["alt","",1,"combo-image",3,"src"],[1,"combo-image-placeholder"],[1,"combo-main"],[1,"combo-name"],[1,"unavailable-badge"],[1,"combo-description"],[1,"combo-price"],["mat-icon-button","",1,"btn-back",3,"click"],[1,"title-text"],[1,"combo-items-list"],[1,"combo-item-card"],[1,"combo-item-body"],["alt","",1,"combo-item-image",3,"src"],[1,"combo-item-image-placeholder"],[1,"combo-item-main"],[1,"combo-item-name"],[1,"combo-item-quantity"],["mat-icon-button","","color","warn",3,"click","title"],[1,"modal","modal-create"],["mat-icon-button","",1,"modal-close",3,"click"],[1,"modal-title"],[1,"modal-error"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"modal-field-full"],["matInput","","formControlName","name","maxlength","100"],["matInput","","rows","3","formControlName","description","maxlength","255"],["matInput","","type","number","step","0.01","min","0","max","9999.99","formControlName","price",3,"input"],[1,"image-field"],[1,"image-label"],[1,"image-preview"],["type","file","accept","image/jpeg,image/png",1,"file-input-hidden",3,"change"],["type","button",1,"file-btn",3,"click"],[1,"image-error"],[3,"availabilitiesChange","availabilities","disabled"],[1,"modal-actions"],["mat-stroked-button","","type","button",1,"btn-cancel",3,"click"],["mat-flat-button","","type","submit",1,"btn-primary",3,"disabled"],["alt","Aper\xE7u",3,"src"],[1,"modal","modal-add-item"],["formControlName","item_id"],[3,"value"],["matInput","","type","number","min","1","max","10","formControlName","quantity",3,"input"]],template:function(e,a){e&1&&(o(0,"main",2)(1,"div",3),s(2,Ue,13,8),s(3,Xe,16,7),r()(),s(4,pt,44,18,"div",4),s(5,vt,28,10,"div",4)),e&2&&(n(2),d(a.selectedCombo()?-1:2),n(),d(a.selectedCombo()?3:-1),n(),d(a.isCreating()?4:-1),n(),d(a.isAddingItem()?5:-1))},dependencies:[G,ie,Y,Q,W,Z,H,te,ee,X,K,J,Se,ve,Me,Ie,we,he,Ce,_e,be,pe,ue,ge,re,ae,ne,oe,ce,me,de,se,le,xe,fe,Ae,B],styles:['@import"https://fonts.googleapis.com/css2?family=Fraunces:wght@500;700&family=Space+Grotesk:wght@400;500;600&display=swap";[_nghost-%COMP%]{--ink: #1b1a17;--clay: #f3ede4;--sand: #fbf8f2;--copper: #c86d3f;--rust: #8a3f24;--sage: #7a8f6a;--shadow: 0 25px 60px rgba(27, 26, 23, .18);display:block;min-height:100vh;overflow-x:clip;overflow-y:visible;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);color:var(--ink);font-family:Space Grotesk,Segoe UI,sans-serif}[_nghost-%COMP%]:before, [_nghost-%COMP%]:after{content:"";position:fixed;inset:auto auto 8% -10%;width:320px;height:320px;background:conic-gradient(from 120deg,#c86d3f26,#7a8f6a26);border-radius:50%;filter:blur(10px);z-index:0}[_nghost-%COMP%]:after{inset:-5% -10% auto auto;width:280px;height:280px;background:radial-gradient(circle,rgba(200,109,63,.2),transparent 70%)}.page[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:minmax(280px,560px);justify-content:center;align-items:start;padding:1rem clamp(1rem,3vw,3rem) 1.5rem}.site-header[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;align-items:center;justify-content:space-between;padding:1rem clamp(1rem,3vw,3rem);background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff}.brand[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;letter-spacing:.3rem;text-transform:uppercase;color:#fff}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.panel[_ngcontent-%COMP%]{background:var(--sand);border-radius:24px;padding:1.5rem 2rem;box-shadow:var(--shadow);border:1px solid rgba(27,26,23,.08);animation:_ngcontent-%COMP%_float-in .8s ease forwards}.panel__header[_ngcontent-%COMP%]{display:grid;gap:.25rem;margin-bottom:1rem}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.2rem;font-size:.75rem;color:var(--rust);margin:0}h1[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:clamp(2rem,3vw,2.6rem);margin:0}.subtitle[_ngcontent-%COMP%]{margin:0;color:#1b1a17b3}.form[_ngcontent-%COMP%]{display:grid;gap:.75rem}.field[_ngcontent-%COMP%]{display:grid;gap:.25rem}label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border:1px solid rgba(27,26,23,.2);border-radius:12px;padding:.65rem .875rem;font-size:.95rem;background:#fff;transition:border-color .2s ease,box-shadow .2s ease}input[_ngcontent-%COMP%]:not([matInput]):focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--copper);box-shadow:0 0 0 3px #c86d3f33}.form__actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;margin-top:.5rem}button[_ngcontent-%COMP%]{border-radius:999px;padding:.65rem 1.5rem;font-size:.9rem;font-weight:600;cursor:pointer;border:none}.primary[_ngcontent-%COMP%]{background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff;box-shadow:0 12px 25px #8a3f2459}.ghost[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(27,26,23,.2);color:var(--ink)}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]{border-color:#fff6;color:#fff}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]:hover{background:#ffffff26}@keyframes _ngcontent-%COMP%_float-in{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media(max-width:900px){.page[_ngcontent-%COMP%]{min-height:auto}}@media(max-width:600px){.panel[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-radius:20px}.site-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.form__actions[_ngcontent-%COMP%]{flex-direction:column}button[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{font-size:1.75rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.95rem}}@media(max-width:400px){[_nghost-%COMP%]{overflow-x:clip;overflow-y:visible}.page[_ngcontent-%COMP%]{padding:1.5rem 1rem 3rem;grid-template-columns:1fr}.panel[_ngcontent-%COMP%]{padding:1.5rem 1rem;border-radius:16px}.site-header[_ngcontent-%COMP%]{padding:1rem 1rem 0}h1[_ngcontent-%COMP%]{font-size:1.5rem}.subtitle[_ngcontent-%COMP%]{font-size:.9rem}label[_ngcontent-%COMP%]{font-size:.875rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border-radius:10px;padding:.7rem .75rem;font-size:.9rem}button[_ngcontent-%COMP%]{padding:.7rem 1.2rem;font-size:.9rem}}.page-admin[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;flex-direction:column;align-items:center;min-height:calc(100vh - 60px);padding:2rem 1rem}.outer-container[_ngcontent-%COMP%]{max-width:760px;width:100%}.welcome-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;position:sticky;top:7.5rem;z-index:30;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);padding:.75rem 0 .5rem}.welcome-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:1.5rem;margin:0 0 .5rem;color:var(--rust);display:flex;align-items:center;justify-content:center;gap:.75rem;max-width:100%}.welcome-title[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;min-width:0;max-width:calc(100% - 120px)}.welcome-text[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#1b1a17b3}.btn-add[_ngcontent-%COMP%]{background:var(--copper)!important;color:#fff!important;width:36px!important;height:36px!important}.combos-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:.85rem}.combo-card[_ngcontent-%COMP%]{border:1px solid rgba(27,26,23,.1);border-radius:14px!important;background:var(--sand)!important}.combo-body[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-start;align-items:center;gap:1rem;padding:.9rem 1rem!important}.combo-image[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:8px;object-fit:cover;flex-shrink:0}.combo-image-placeholder[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:8px;background:#1b1a1714;display:flex;align-items:center;justify-content:center;flex-shrink:0;color:#1b1a174d}.combo-main[_ngcontent-%COMP%]{min-width:0;flex:1}.combo-price[_ngcontent-%COMP%]{margin-left:auto}.combo-name[_ngcontent-%COMP%]{color:var(--ink);font-weight:600;font-size:.95rem;margin-bottom:.3rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.combo-description[_ngcontent-%COMP%]{color:#1b1a17a6;font-size:.82rem;line-height:1.35;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.combo-price[_ngcontent-%COMP%]{color:var(--rust);font-weight:700;font-size:.95rem;white-space:nowrap}.combo-card.unavailable[_ngcontent-%COMP%]{background:#f5f5f5!important;border-color:#1b1a170d!important;opacity:.75}.combo-card.unavailable[_ngcontent-%COMP%]   .combo-name[_ngcontent-%COMP%], .combo-card.unavailable[_ngcontent-%COMP%]   .combo-description[_ngcontent-%COMP%], .combo-card.unavailable[_ngcontent-%COMP%]   .combo-price[_ngcontent-%COMP%]{color:#1b1a1759!important}.unavailable-badge[_ngcontent-%COMP%]{display:inline-block;background:#0000008c;color:#fff;font-size:.65rem;font-weight:600;letter-spacing:.05em;text-transform:uppercase;font-family:Space Grotesk,Segoe UI,sans-serif;border-radius:6px;padding:.15rem .5rem;vertical-align:middle;margin-left:.5rem}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:3rem}.empty[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#1b1a1780}.admin-error[_ngcontent-%COMP%]{border:1px solid rgba(220,53,69,.25);color:#a12f3b;background:#fff1f3;border-radius:12px;padding:.65rem .85rem;margin-bottom:.8rem;font-size:.88rem}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0006;display:flex;align-items:center;justify-content:center;z-index:100}.modal[_ngcontent-%COMP%]{position:relative;background:var(--sand)!important;border-radius:16px!important;width:min(520px,calc(100vw - 2rem));padding:.75rem .75rem .25rem}.modal-close[_ngcontent-%COMP%]{position:absolute;top:.25rem;right:.25rem;color:#1b1a178c!important}.modal-title[_ngcontent-%COMP%]{color:var(--rust)!important;font-family:Fraunces,Times New Roman,serif!important;font-size:1.1rem!important}.modal-error[_ngcontent-%COMP%]{background:#ffebee;color:#c62828;padding:.75rem 1rem;border-radius:8px;margin-bottom:1rem;font-size:.9rem}.modal-field-full[_ngcontent-%COMP%]{width:100%}.modal-actions[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-end;gap:.6rem;margin-top:.4rem!important;padding:0!important}.btn-primary[_ngcontent-%COMP%]{background:var(--copper)!important;color:var(--sand)!important}.btn-cancel[_ngcontent-%COMP%]{color:var(--ink)!important;border-color:#1b1a1740!important}.combo-card.clickable[_ngcontent-%COMP%]{cursor:pointer;transition:box-shadow .15s ease,transform .15s ease}.combo-card.clickable[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a;transform:translateY(-2px)}.btn-back[_ngcontent-%COMP%]{color:var(--rust)!important}.combo-items-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:.85rem}.combo-item-card[_ngcontent-%COMP%]{border:1px solid rgba(27,26,23,.1);border-radius:14px!important;background:var(--sand)!important}.combo-item-body[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-start;align-items:center;gap:1rem;padding:.75rem 1rem!important}.combo-item-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:8px;object-fit:cover;flex-shrink:0}.combo-item-image-placeholder[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:8px;background:#1b1a1714;display:flex;align-items:center;justify-content:center;flex-shrink:0;color:#1b1a174d}.combo-item-main[_ngcontent-%COMP%]{min-width:0;flex:1}.combo-item-card[_ngcontent-%COMP%]   button[mat-icon-button][_ngcontent-%COMP%]{margin-left:auto}.combo-item-name[_ngcontent-%COMP%]{color:var(--ink);font-weight:600;font-size:.95rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.combo-item-quantity[_ngcontent-%COMP%]{color:#1b1a17a6;font-size:.82rem}.image-field[_ngcontent-%COMP%]{margin-bottom:1rem}.image-label[_ngcontent-%COMP%]{display:block;font-size:.85rem;color:#1b1a17b3;margin-bottom:.5rem}.image-preview[_ngcontent-%COMP%]{margin-bottom:.75rem;border-radius:10px;overflow:hidden;max-width:200px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.file-input-hidden[_ngcontent-%COMP%]{display:none}.file-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;padding:.5rem 1rem;background:var(--copper);color:#fff;border:none;border-radius:8px;cursor:pointer;font-size:.9rem;transition:background .15s ease}.file-btn[_ngcontent-%COMP%]:hover{background:var(--rust)}.file-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.1rem;width:1.1rem;height:1.1rem}.image-error[_ngcontent-%COMP%]{display:block;margin-top:.5rem;font-size:.8rem}']})};export{Te as AdminCombosComponent};
