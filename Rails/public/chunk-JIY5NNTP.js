import{a as re}from"./chunk-OJY5QWH5.js";import{a as ae}from"./chunk-P6CNUPU6.js";import{a as Ue,b as ve,c as he,d as be,e as Me}from"./chunk-EIP4MM4P.js";import{a as oe}from"./chunk-L2PNNIED.js";import{a as _e,b as Ce,c as xe}from"./chunk-ZR7K5QVZ.js";import{b as se,c as le,d as de,g as ce,h as me,i as pe,j as fe,k as ge,o as ue}from"./chunk-POXRYHYX.js";import{a as W,d as R,i as G,k as H,q as K,r as Y,t as J,u as $}from"./chunk-IRZXNX6L.js";import{J as Z,L as X,M as ee,N as te,Z as ne,_ as ie}from"./chunk-PYPADBLJ.js";import{b as q}from"./chunk-WJO3ESCS.js";import{g as Q,q as j}from"./chunk-3WD332Q4.js";import{$a as U,$b as a,Ab as r,Bb as i,Cb as b,Hb as y,Lb as v,N as I,Nb as l,Qa as A,Sa as o,Yb as z,Zb as V,ac as c,bc as g,ca as C,cc as F,da as x,dc as L,ec as P,fb as k,fc as E,gc as S,m as w,oc as h,pa as u,tb as p,ub as f,v as D,vb as N,xb as B,yb as T,zb as O}from"./chunk-4U56WX5G.js";function ye(n,t){if(n&1){let e=y();r(0,"mat-card",2)(1,"mat-card-content")(2,"mat-icon",4),a(3,"receipt_long"),i(),r(4,"p"),a(5),i(),r(6,"button",5),v("click",function(){C(e);let d=l();return x(d.onAddItems())}),b(7,"mat-icon",4),a(8),i()()()}if(n&2){let e=l();o(5),c(e.ts.t("order.empty")),o(3),g(" ",e.ts.t("order.addItems")," ")}}function we(n,t){if(n&1&&(r(0,"div",9)(1,"mat-icon"),a(2,"person"),i(),r(3,"span"),a(4),r(5,"strong"),a(6),i()()()),n&2){let e=l(2);o(4),g("",e.ts.t("order.server"),": "),o(2),c(e.serverName())}}function Fe(n,t){if(n&1&&(r(0,"div",25),b(1,"img",37),i()),n&2){let e=l().$implicit;o(),O("src",e.image_url,A)("alt",e.name)}}function Pe(n,t){if(n&1&&(r(0,"mat-chip-set")(1,"mat-chip",38),a(2),i()()),n&2){let e=l().$implicit,s=l(2);o(2),c(s.getStatusLabel(e.status))}}function Ee(n,t){if(n&1&&(r(0,"span",29),a(1),i()),n&2){let e=l(3);o(),c(e.ts.t("order.pendingBadge"))}}function Se(n,t){if(n&1&&(r(0,"p",31)(1,"mat-icon",4),a(2,"sticky_note_2"),i(),r(3,"span"),a(4),i()()),n&2){let e=l().$implicit;o(4),c(e.note)}}function De(n,t){if(n&1&&(r(0,"mat-card",22)(1,"mat-card-content",23)(2,"div",24),p(3,Fe,2,2,"div",25),r(4,"div",26)(5,"div",27)(6,"h3",28),a(7),i(),p(8,Pe,3,1,"mat-chip-set")(9,Ee,2,1,"span",29),i(),r(10,"p",30),a(11),i(),p(12,Se,5,1,"p",31),i(),r(13,"div",32)(14,"span"),a(15,"Total"),i(),r(16,"strong",33),a(17),i()()(),r(18,"div",34)(19,"button",35)(20,"mat-icon"),a(21,"edit"),i(),a(22),i(),r(23,"button",36)(24,"mat-icon"),a(25,"delete"),i(),a(26),i()()()()),n&2){let e=t.$implicit,s=l(2);V("pending-line",e.status==="pending"),o(3),f(e.image_url?3:-1),o(4),c(e.name),o(),f(e.status!=="pending"?8:9),o(3),F("",e.quantity," x CA$",e.unit_price.toFixed(2)),o(),f(e.note?12:-1),o(5),g("CA$",(e.unit_price*e.quantity).toFixed(2)),o(5),g(" ",s.ts.t("order.modify")," "),o(4),g(" ",s.ts.t("order.delete")," ")}}function Ie(n,t){if(n&1&&(r(0,"div",39)(1,"mat-icon"),a(2,"sticky_note_2"),i(),r(3,"span"),a(4),i()()),n&2){let e=l(3);o(4),c(e.existingNote())}}function Ae(n,t){if(n&1&&(r(0,"div",39)(1,"mat-icon"),a(2,"payments"),i(),r(3,"span"),a(4),i()()),n&2){let e=l(3);o(4),F("",e.ts.t("order.tipDisplay"),"",e.existingTip().toFixed(2))}}function ke(n,t){if(n&1&&(r(0,"p",40),a(1),i()),n&2){let e=l(3);o(),c(e.ts.t("order.noDetails"))}}function Ne(n,t){if(n&1&&(p(0,Ie,5,1,"div",39),p(1,Ae,5,2,"div",39),p(2,ke,2,1,"p",40)),n&2){let e=l(2);f(e.existingNote()?0:-1),o(),f(e.existingTip()>0?1:-1),o(),f(!e.existingNote()&&e.existingTip()===0?2:-1)}}function Be(n,t){if(n&1&&(r(0,"mat-error"),a(1),i()),n&2){let e=l(3);o(),c(e.ts.t("order.noteErrorSpaces"))}}function Te(n,t){if(n&1&&(r(0,"mat-error"),a(1),i()),n&2){let e=l(3);o(),c(e.ts.t("order.tipErrorNegative"))}}function ze(n,t){if(n&1&&(r(0,"mat-error"),a(1),i()),n&2){let e=l(3);o(),c(e.ts.t("order.tipErrorMax"))}}function Ve(n,t){if(n&1){let e=y();r(0,"mat-form-field",41)(1,"mat-label"),a(2),i(),r(3,"textarea",42),S("ngModelChange",function(d){C(e);let m=l(2);return E(m.noteInput,d)||(m.noteInput=d),x(d)}),i(),r(4,"mat-hint",43),a(5),i(),p(6,Be,2,1,"mat-error"),i(),r(7,"mat-form-field",41)(8,"mat-label"),a(9),i(),r(10,"input",44),S("ngModelChange",function(d){C(e);let m=l(2);return E(m.tipInput,d)||(m.tipInput=d),x(d)}),v("keydown",function(d){C(e);let m=l(2);return x(m.blockInvalidTipKeys(d))}),i(),p(11,Te,2,1,"mat-error"),p(12,ze,2,1,"mat-error"),i()}if(n&2){let e=l(2);o(2),c(e.ts.t("order.noteLabel")),o(),P("ngModel",e.noteInput),O("placeholder",e.ts.t("order.notePlaceholder")),o(2),g("",e.noteInput.length," / 255"),o(),f(e.noteInput.length>0&&e.noteInput.trim().length===0?6:-1),o(3),c(e.ts.t("order.tipLabel")),o(),P("ngModel",e.tipInput),o(),f(e.tipInput!==null&&e.tipInput<0?11:-1),o(),f(e.tipInput!==null&&e.tipInput>999.99?12:-1)}}function Le(n,t){if(n&1){let e=y();r(0,"div",3)(1,"div",6)(2,"h1",7),a(3),i(),r(4,"div",8),p(5,we,7,2,"div",9),r(6,"span",10),a(7),i()(),r(8,"button",5),v("click",function(){C(e);let d=l();return x(d.onAddItems())}),b(9,"mat-icon",4),a(10),i()(),r(11,"div",11)(12,"h2",12),a(13),i(),B(14,De,27,11,"mat-card",13,N),i(),r(16,"mat-card",14)(17,"div",15)(18,"span"),a(19),i(),r(20,"span",16),a(21),i()()(),r(22,"mat-card",17)(23,"mat-card-header")(24,"mat-card-title",18),a(25),i()(),r(26,"mat-card-content",19),p(27,Ne,3,3)(28,Ve,13,9),i()(),b(29,"mat-divider"),r(30,"div",20)(31,"button",21),v("click",function(){C(e);let d=l();return x(d.onSend())}),r(32,"mat-icon",4),a(33,"send"),i(),a(34),i()()()}if(n&2){let e=l();o(3),c(e.ts.t("order.title")),o(2),f(e.serverName()?5:-1),o(),z("background-color",(e.existingVibeColor()||"#C87941")+"22")("color",e.existingVibeColor()||"#C87941"),o(),g(" \u2726 ",e.existingVibeName()||e.ts.t("order.vibeNotSet")," "),o(3),g(" ",e.ts.t("order.addItems")," "),o(3),c(e.ts.t("order.linesTitle")),o(),T(e.lines()),o(5),L("",e.ts.t("order.subtotal")," (",e.totalItems()," ",e.totalItems()>1?e.ts.t("order.articles"):e.ts.t("order.article"),")"),o(2),g("CA$",e.subtotal().toFixed(2)),o(4),c(e.ts.t("order.details")),o(2),f(e.openOrderId()!==null?27:28),o(4),O("disabled",e.pendingCount()===0||e.isSending()||e.isFormInvalid()),o(3),g(" ",e.ts.t("order.send")," ")}}var Oe=class n{constructor(t,e,s,d,m,M){this.cartService=t;this.ts=e;this.authService=s;this.orderService=d;this.tableService=m;this.router=M}openOrderId=u(null);serverLines=u([]);serverName=u(null);isSending=u(!1);existingNote=u(null);existingTip=u(0);existingVibeName=u(null);existingVibeColor=u(null);noteInput="";tipInput=null;pendingLines=h(()=>this.cartService.lines().map((t,e)=>({id:-1-e,quantity:t.quantity,unit_price:t.unit_price,note:t.note,status:"pending",name:t.name,image_url:t.image_url||null})));lines=h(()=>[...this.serverLines(),...this.pendingLines()]);subtotal=h(()=>this.lines().reduce((t,e)=>t+e.unit_price*e.quantity,0));totalItems=h(()=>this.lines().reduce((t,e)=>t+e.quantity,0));pendingCount=h(()=>this.cartService.lines().length);ngOnInit(){this.loadOpenOrder(),this.loadAssignedWaiter()}mapApiLine(t){return{id:t.id,quantity:t.quantity,unit_price:t.unit_price,note:t.note,status:t.status,name:t.orderable_name||`${t.orderable_type} #${t.orderable_id}`,image_url:t.image_url||null}}loadOpenOrder(){this.orderService.getOrders().subscribe({next:t=>{let s=(t.data||[]).find(d=>!d.ended_at)||null;if(!s){this.openOrderId.set(null),this.serverLines.set([]),this.existingNote.set(null),this.existingTip.set(0),this.existingVibeName.set(null),this.existingVibeColor.set(null);return}this.openOrderId.set(s.id),this.existingNote.set(s.note||null),this.existingTip.set(s.tip??0),this.existingVibeName.set(s.vibe_name??null),this.existingVibeColor.set(s.vibe_color??null),s.server_name&&this.serverName.set(s.server_name),this.serverLines.set((s.order_lines||[]).map(d=>this.mapApiLine(d)))},error:()=>{this.openOrderId.set(null),this.serverLines.set([])}})}loadAssignedWaiter(){this.serverName()||this.orderService.getAssignedWaiter().subscribe({next:t=>{let e=t.data?.[0];e&&this.serverName.set(e.name)}})}blockInvalidTipKeys(t){["e","E","+","-"].includes(t.key)&&t.preventDefault()}isFormInvalid(){if(this.openOrderId()!==null)return!1;let t=this.noteInput.length>0&&this.noteInput.trim().length===0,e=this.tipInput!==null&&(this.tipInput<0||this.tipInput>999.99);return t||e}getStatusLabel(t){let e={sent:"order.status.sent",in_preparation:"order.status.inPreparation",ready:"order.status.ready",served:"order.status.served"};return e[t]?this.ts.t(e[t]):""}onSend(){let t=this.cartService.lines();if(t.length===0||this.isSending()||this.isFormInvalid())return;let e=m=>{let M=t.map(_=>this.orderService.createOrderLine(m,{quantity:_.quantity,note:_.note,orderable_type:_.orderable_type,orderable_id:_.orderable_id}));return D(M)},s=this.openOrderId();this.isSending.set(!0),(s?e(s):(()=>{let m=this.tableService.getCurrentTable();return m?this.orderService.createOrder({nb_people:1,note:this.noteInput,table_id:m.id,tip:this.tipInput}).pipe(I(M=>{let _=M.data?.[0];return _?(this.openOrderId.set(_.id),e(_.id)):w(null)})):(this.isSending.set(!1),alert("Please scan/select a table before sending the order."),this.router.navigate(["/form"]),w(null))})()).subscribe({next:m=>{m&&(this.cartService.clear(),this.loadOpenOrder())},error:()=>{alert("Unable to send order lines. Please try again.")},complete:()=>{this.isSending.set(!1)}})}onAddItems(){this.router.navigate(["/menu"])}goBack(){this.router.navigate(["/menu"])}logout(){this.cartService.clear(),this.authService.logout().subscribe({next:t=>{t.success&&this.router.navigate(["/login"])},error:()=>{localStorage.removeItem("currentUser"),this.router.navigate(["/login"])}})}static \u0275fac=function(e){return new(e||n)(U(oe),U(ne),U(q),U(re),U(ae),U(j))};static \u0275cmp=k({type:n,selectors:[["app-order"]],decls:4,vars:1,consts:[[3,"logoutClick"],[1,"order-page"],["appearance","outlined",1,"empty-state"],[1,"order-container"],["aria-hidden","true"],["mat-raised-button","","color","primary",3,"click"],[1,"order-header"],[1,"order-title"],[1,"server-vibe-row"],[1,"server-info"],[1,"vibe-badge-header"],[1,"order-lines"],[1,"section-title"],["appearance","outlined",1,"order-line-card",3,"pending-line"],["appearance","outlined",1,"order-summary"],[1,"summary-row"],[1,"summary-price"],["appearance","outlined",1,"order-details-card"],[1,"details-title"],[1,"details-content"],[1,"order-actions"],["mat-raised-button","","color","primary",3,"click","disabled"],["appearance","outlined",1,"order-line-card"],[1,"line-content"],[1,"line-main"],[1,"line-image"],[1,"line-info"],[1,"line-head"],[1,"line-name"],[1,"pending-badge"],[1,"line-details"],[1,"line-note"],[1,"line-total"],[1,"line-price"],[1,"line-actions"],["mat-stroked-button","",1,"btn-line-edit"],["mat-stroked-button","","color","warn",1,"btn-line-delete"],["loading","lazy",3,"src","alt"],["selected","","color","primary"],[1,"detail-item"],[1,"no-details"],["appearance","outline",1,"full-width"],["matInput","","rows","2","maxlength","255",3,"ngModelChange","ngModel","placeholder"],["align","end"],["matInput","","type","number","min","0","max","999.99","step","0.5",3,"ngModelChange","keydown","ngModel"]],template:function(e,s){e&1&&(r(0,"app-header",0),v("logoutClick",function(){return s.logout()}),i(),r(1,"main",1),p(2,ye,9,2,"mat-card",2)(3,Le,35,17,"div",3),i()),e&2&&(o(2),f(s.lines().length===0?2:3))},dependencies:[Q,$,W,H,R,J,Y,K,G,ie,X,Z,me,se,de,ce,le,Me,he,be,ve,Ue,_e,ue,pe,ge,fe,te,ee,xe,Ce],styles:['@font-face{font-family:Fraunces;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/fraunces/v38/6NUu8FyLNQOQZAnv9bYEvDiIdE9Ea92uemAk_WBq8U_9v0c2Wa0K7iN7hzFUPJH58nib14c0qv86Rg.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Fraunces;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/fraunces/v38/6NUu8FyLNQOQZAnv9bYEvDiIdE9Ea92uemAk_WBq8U_9v0c2Wa0K7iN7hzFUPJH58nib14c1qv86Rg.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Fraunces;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/fraunces/v38/6NUu8FyLNQOQZAnv9bYEvDiIdE9Ea92uemAk_WBq8U_9v0c2Wa0K7iN7hzFUPJH58nib14c7qv8.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Fraunces;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/fraunces/v38/6NUu8FyLNQOQZAnv9bYEvDiIdE9Ea92uemAk_WBq8U_9v0c2Wa0K7iN7hzFUPJH58nib14c0qv86Rg.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Fraunces;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/fraunces/v38/6NUu8FyLNQOQZAnv9bYEvDiIdE9Ea92uemAk_WBq8U_9v0c2Wa0K7iN7hzFUPJH58nib14c1qv86Rg.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Fraunces;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/fraunces/v38/6NUu8FyLNQOQZAnv9bYEvDiIdE9Ea92uemAk_WBq8U_9v0c2Wa0K7iN7hzFUPJH58nib14c7qv8.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPb54C-s0.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPb94C-s0.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPbF4Cw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPb54C-s0.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPb94C-s0.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPbF4Cw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPb54C-s0.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPb94C-s0.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPbF4Cw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_nghost-%COMP%]{--ink: #1b1a17;--clay: #f3ede4;--sand: #fbf8f2;--copper: #c86d3f;--rust: #8a3f24;--sage: #7a8f6a;--shadow: 0 25px 60px rgba(27, 26, 23, .18);display:block;min-height:100vh;overflow-x:clip;overflow-y:visible;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);color:var(--ink);font-family:Space Grotesk,Segoe UI,sans-serif}[_nghost-%COMP%]:before, [_nghost-%COMP%]:after{content:"";position:fixed;inset:auto auto 8% -10%;width:320px;height:320px;background:conic-gradient(from 120deg,#c86d3f26,#7a8f6a26);border-radius:50%;filter:blur(10px);z-index:0}[_nghost-%COMP%]:after{inset:-5% -10% auto auto;width:280px;height:280px;background:radial-gradient(circle,rgba(200,109,63,.2),transparent 70%)}.page[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:minmax(280px,560px);justify-content:center;align-items:start;padding:1rem clamp(1rem,3vw,3rem) 1.5rem}.site-header[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;align-items:center;justify-content:space-between;padding:1rem clamp(1rem,3vw,3rem);background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff}.brand[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;letter-spacing:.3rem;text-transform:uppercase;color:#fff}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.panel[_ngcontent-%COMP%]{background:var(--sand);border-radius:24px;padding:1.5rem 2rem;box-shadow:var(--shadow);border:1px solid rgba(27,26,23,.08);animation:_ngcontent-%COMP%_float-in .8s ease forwards}.panel__header[_ngcontent-%COMP%]{display:grid;gap:.25rem;margin-bottom:1rem}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.2rem;font-size:.75rem;color:var(--rust);margin:0}h1[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:clamp(2rem,3vw,2.6rem);margin:0}.subtitle[_ngcontent-%COMP%]{margin:0;color:#1b1a17b3}.form[_ngcontent-%COMP%]{display:grid;gap:.75rem}.field[_ngcontent-%COMP%]{display:grid;gap:.25rem}label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{border:1px solid rgba(27,26,23,.2);border-radius:12px;padding:.65rem .875rem;font-size:.95rem;background:#fff;transition:border-color .2s ease,box-shadow .2s ease}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--copper);box-shadow:0 0 0 3px #c86d3f33}.form__actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;margin-top:.5rem}button[_ngcontent-%COMP%]{border-radius:999px;padding:.65rem 1.5rem;font-size:.9rem;font-weight:600;cursor:pointer;border:none}.primary[_ngcontent-%COMP%]{background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff;box-shadow:0 12px 25px #8a3f2459}.ghost[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(27,26,23,.2);color:var(--ink)}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]{border-color:#fff6;color:#fff}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]:hover{background:#ffffff26}@keyframes _ngcontent-%COMP%_float-in{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media(max-width:900px){.page[_ngcontent-%COMP%]{min-height:auto}}@media(max-width:600px){.panel[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-radius:20px}.site-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.form__actions[_ngcontent-%COMP%]{flex-direction:column}button[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{font-size:1.75rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.95rem}}@media(max-width:400px){[_nghost-%COMP%]{overflow-x:clip;overflow-y:visible}.page[_ngcontent-%COMP%]{padding:1.5rem 1rem 3rem;grid-template-columns:1fr}.panel[_ngcontent-%COMP%]{padding:1.5rem 1rem;border-radius:16px}.site-header[_ngcontent-%COMP%]{padding:1rem 1rem 0}h1[_ngcontent-%COMP%]{font-size:1.5rem}.subtitle[_ngcontent-%COMP%]{font-size:.9rem}label[_ngcontent-%COMP%]{font-size:.875rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{border-radius:10px;padding:.7rem .75rem;font-size:.9rem}button[_ngcontent-%COMP%]{padding:.7rem 1.2rem;font-size:.9rem}}.order-page[_ngcontent-%COMP%]{padding:1.5rem clamp(1rem,3vw,3rem) 2.5rem;min-height:calc(100vh - 60px);max-width:940px;margin:0 auto}.order-container[_ngcontent-%COMP%]{display:grid;gap:1.25rem}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:240px;gap:1rem;text-align:center}.empty-state[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:grid;gap:.75rem;justify-items:center}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem;color:#1b1a178c}.empty-state[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{justify-content:center}.order-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.75rem;margin-bottom:1rem}.order-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:clamp(1.5rem,2.5vw,2rem);margin:0;color:var(--ink)}.section-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:1.2rem;margin:0 0 1rem;color:var(--ink)}.order-lines[_ngcontent-%COMP%]{display:grid;gap:.9rem}.order-line-card[_ngcontent-%COMP%]{overflow:hidden}.line-content[_ngcontent-%COMP%]{display:grid;gap:1rem;padding:1.1rem 1.2rem}.line-main[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;gap:1rem}.line-image[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:12px;overflow:hidden;flex-shrink:0;background:var(--clay)}.line-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.line-info[_ngcontent-%COMP%]{flex:1}.line-head[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.75rem;flex-wrap:wrap;margin-bottom:.45rem}.line-name[_ngcontent-%COMP%]{font-weight:600;font-size:1.05rem;margin:0;color:var(--ink)}.line-details[_ngcontent-%COMP%]{font-size:.9rem;color:#1b1a1799;margin:0}.line-note[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.35rem;font-size:.83rem;color:#1b1a1780;margin:.35rem 0 0}.line-note[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:1rem;height:1rem;font-size:1rem}.line-total[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:.2rem;min-width:136px;color:#1b1a17b3;font-size:.8rem;text-transform:uppercase;letter-spacing:.05em}.line-price[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem;color:var(--ink);white-space:nowrap;text-transform:none;letter-spacing:normal}.order-summary[_ngcontent-%COMP%]{padding:.2rem 1.25rem}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:1.1rem;font-weight:600;color:var(--ink)}.summary-price[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:1.5rem;font-weight:700}.order-details-card[_ngcontent-%COMP%]{padding:.25rem 0}.details-title[_ngcontent-%COMP%]{font-size:1rem!important;font-weight:600;color:var(--ink)}.details-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;padding:.5rem 1.25rem 1.25rem!important}.detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem;font-size:.95rem;color:var(--ink)}.detail-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.1rem;width:1.1rem;height:1.1rem;color:var(--copper)}.vibe-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .85rem;border-radius:999px;font-weight:600;font-size:.9rem;align-self:flex-start}.no-details[_ngcontent-%COMP%]{color:#1b1a1773;font-size:.9rem;margin:0}.full-width[_ngcontent-%COMP%]{width:100%}.order-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem;flex-wrap:wrap}.order-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:130px}button[mat-raised-button].mat-primary[_ngcontent-%COMP%], button[mat-raised-button][color=primary][_ngcontent-%COMP%]{background:linear-gradient(120deg,var(--copper),var(--rust))!important;color:#fff!important}mat-chip[_ngcontent-%COMP%]{font-size:.78rem}.server-vibe-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.6rem;flex-wrap:wrap}.server-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem;font-size:.95rem;color:var(--ink)}.server-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.1rem;width:1.1rem;height:1.1rem;color:var(--copper)}.vibe-badge-header[_ngcontent-%COMP%]{padding:.2rem .75rem;border-radius:999px;font-weight:600;font-size:.82rem}.pending-line[_ngcontent-%COMP%]{border-left:3px solid var(--copper)!important;opacity:.85}.pending-badge[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;color:var(--copper);background:#c86d3f1f;padding:.2rem .65rem;border-radius:999px;white-space:nowrap}.line-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.5rem}.btn-line-edit[_ngcontent-%COMP%], .btn-line-delete[_ngcontent-%COMP%]{font-size:.8rem!important;padding:.25rem .75rem!important;border-radius:10px!important;height:auto!important;line-height:1.6!important}.btn-line-edit[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .btn-line-delete[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem;margin-right:.25rem}@media(max-width:600px){.order-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.order-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.line-main[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.line-image[_ngcontent-%COMP%]{width:60px;height:60px}.line-total[_ngcontent-%COMP%]{align-items:flex-start;min-width:0}.order-actions[_ngcontent-%COMP%]{flex-direction:column}.order-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}']})};export{Oe as OrderComponent};
