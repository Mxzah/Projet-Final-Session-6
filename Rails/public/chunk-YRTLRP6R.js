import{a as Ke}from"./chunk-6VX4Q4AD.js";import{a as Sa,b as Oa,c as Ta}from"./chunk-LE3P4INI.js";import{a as fa,b as ha,c as _a,d as va,e as Ca,f as xa,g as ya,h as Ni,i as sn}from"./chunk-PF72MOVJ.js";import{a as Fe,c as Le,e as ze}from"./chunk-4PUKH227.js";import{a as ie,b as ne}from"./chunk-I24HQGVK.js";import{a as he,b as _e,c as ve,d as Pa,e as Ce,f as Ne,g as xe}from"./chunk-3XSXFF7Z.js";import{D as Yt,E as Xt,H as Kt,I as Jt,b as Ht,c as W,e as Qt,f as Wt,g as me,h as Un,i as pt,j as Gn,k as pe,l as Re,m as Hn,n as ue,o as ge,p as Qn,q as Xe,r as Wn,s as Zn,t as Yn,u as be,v as wa,w as Zt,x as fe,z as Ma}from"./chunk-TF525GZG.js";import{A as oa,B as ra,C as sa,D as la,E as da,F as ca,H as ma,I as an,L as pa,P as ua,S as ga,V as ba,W as on,Z as Ue,c as si,ca as rn,d as en,da as Ia,f as nn,g as Xn,ga as zt,h as Kn,ha as te,j as Jn,ja as ee,ka as Tt,l as ta,la as kt,ma as Dt,pa as Et,q as ea,qa as ka,r as ia,s as Li,u as na,x as aa,y as li,z as zi}from"./chunk-6V66EAM3.js";import{a as Gt,b as $n}from"./chunk-U6DFBPKT.js";import{b as Vn,e as Fi,f as Lt,n as qn,p as jn}from"./chunk-5HZ3DT7N.js";import{$ as Z,$a as Ii,A as Mn,Aa as kn,Ab as F,Ac as ce,Bb as An,Cb as $t,Cc as Ut,Db as ct,Dc as Ri,E as In,Eb as mt,Fb as L,Gb as d,Hb as u,Ib as it,Jb as tn,Kb as Rn,N as Pn,Nb as dt,O as Ci,P as Sn,Q as Bt,Rb as E,Sb as Fn,Ta as Mi,Tb as x,Ub as Ti,Va as s,Vb as ki,W as le,Wb as Di,X as xi,Xb as jt,Yb as ut,Z as Se,Zb as gt,_ as Ae,_a as $e,a as Pe,b as Ki,bb as ii,bc as ai,cb as K,cc as Ln,d as Ya,dc as yt,e as Xa,ea as N,eb as Pi,ec as Ye,f as qe,fa as B,fc as b,gc as M,h as Cn,hc as $,i as je,ia as Ze,ib as ft,ic as oi,ja as On,jb as Si,kb as Oe,kc as zn,l as xn,lc as Nn,ma as Vt,mc as Bn,n as _i,na as qt,nb as ni,ob as Ji,oc as ri,pb as Dn,pc as Ei,qc as Ai,r as Ot,ra as V,ua as Tn,uc as Te,wa as yi,wb as En,x as yn,xa as wi,xb as re,y as wn,yb as Oi,z as vi,za as de,zb as R}from"./chunk-D4LPWVN6.js";var ja=Ya((Bi,fn)=>{"use strict";(function(i,n){typeof Bi=="object"&&typeof fn=="object"?fn.exports=n():typeof define=="function"&&define.amd?define([],n):typeof Bi=="object"?Bi.QRCodeStyling=n():i.QRCodeStyling=n()})(self,()=>(()=>{var i={192:(a,c)=>{var y,z,bt=(function(){var xt=function(S,O){var T=S,I=De[O],w=null,k=0,q=null,A=[],U={},_t=function(g,h){w=(function(C){for(var _=new Array(C),v=0;v<C;v+=1){_[v]=new Array(C);for(var P=0;P<C;P+=1)_[v][P]=null}return _})(k=4*T+17),vt(0,0),vt(k-7,0),vt(0,k-7),r(),G(),l(g,h),T>=7&&o(g),q==null&&(q=p(T,I,A)),m(q,h)},vt=function(g,h){for(var C=-1;C<=7;C+=1)if(!(g+C<=-1||k<=g+C))for(var _=-1;_<=7;_+=1)h+_<=-1||k<=h+_||(w[g+C][h+_]=0<=C&&C<=6&&(_==0||_==6)||0<=_&&_<=6&&(C==0||C==6)||2<=C&&C<=4&&2<=_&&_<=4)},G=function(){for(var g=8;g<k-8;g+=1)w[g][6]==null&&(w[g][6]=g%2==0);for(var h=8;h<k-8;h+=1)w[6][h]==null&&(w[6][h]=h%2==0)},r=function(){for(var g=ae.getPatternPosition(T),h=0;h<g.length;h+=1)for(var C=0;C<g.length;C+=1){var _=g[h],v=g[C];if(w[_][v]==null)for(var P=-2;P<=2;P+=1)for(var D=-2;D<=2;D+=1)w[_+P][v+D]=P==-2||P==2||D==-2||D==2||P==0&&D==0}},o=function(g){for(var h=ae.getBCHTypeNumber(T),C=0;C<18;C+=1){var _=!g&&(h>>C&1)==1;w[Math.floor(C/3)][C%3+k-8-3]=_}for(C=0;C<18;C+=1)_=!g&&(h>>C&1)==1,w[C%3+k-8-3][Math.floor(C/3)]=_},l=function(g,h){for(var C=I<<3|h,_=ae.getBCHTypeInfo(C),v=0;v<15;v+=1){var P=!g&&(_>>v&1)==1;v<6?w[v][8]=P:v<8?w[v+1][8]=P:w[k-15+v][8]=P}for(v=0;v<15;v+=1)P=!g&&(_>>v&1)==1,v<8?w[8][k-v-1]=P:v<9?w[8][15-v-1+1]=P:w[8][15-v-1]=P;w[k-8][8]=!g},m=function(g,h){for(var C=-1,_=k-1,v=7,P=0,D=ae.getMaskFunction(h),j=k-1;j>0;j-=2)for(j==6&&(j-=1);;){for(var H=0;H<2;H+=1)if(w[_][j-H]==null){var Q=!1;P<g.length&&(Q=(g[P]>>>v&1)==1),D(_,j-H)&&(Q=!Q),w[_][j-H]=Q,(v-=1)==-1&&(P+=1,v=7)}if((_+=C)<0||k<=_){_-=C,C=-C;break}}},p=function(g,h,C){for(var _=bi.getRSBlocks(g,h),v=ti(),P=0;P<C.length;P+=1){var D=C[P];v.put(D.getMode(),4),v.put(D.getLength(),ae.getLengthInBits(D.getMode(),g)),D.write(v)}var j=0;for(P=0;P<_.length;P+=1)j+=_[P].dataCount;if(v.getLengthInBits()>8*j)throw"code length overflow. ("+v.getLengthInBits()+">"+8*j+")";for(v.getLengthInBits()+4<=8*j&&v.put(0,4);v.getLengthInBits()%8!=0;)v.putBit(!1);for(;!(v.getLengthInBits()>=8*j||(v.put(236,8),v.getLengthInBits()>=8*j));)v.put(17,8);return(function(H,Q){for(var Y=0,Ct=0,ht=0,st=new Array(Q.length),rt=new Array(Q.length),X=0;X<Q.length;X+=1){var Rt=Q[X].dataCount,St=Q[X].totalCount-Rt;Ct=Math.max(Ct,Rt),ht=Math.max(ht,St),st[X]=new Array(Rt);for(var et=0;et<st[X].length;et+=1)st[X][et]=255&H.getBuffer()[et+Y];Y+=Rt;var lt=ae.getErrorCorrectPolynomial(St),nt=Ee(st[X],lt.getLength()-1).mod(lt);for(rt[X]=new Array(lt.getLength()-1),et=0;et<rt[X].length;et+=1){var ot=et+nt.getLength()-rt[X].length;rt[X][et]=ot>=0?nt.getAt(ot):0}}var Mt=0;for(et=0;et<Q.length;et+=1)Mt+=Q[et].totalCount;var It=new Array(Mt),tt=0;for(et=0;et<Ct;et+=1)for(X=0;X<Q.length;X+=1)et<st[X].length&&(It[tt]=st[X][et],tt+=1);for(et=0;et<ht;et+=1)for(X=0;X<Q.length;X+=1)et<rt[X].length&&(It[tt]=rt[X][et],tt+=1);return It})(v,_)};U.addData=function(g,h){var C=null;switch(h=h||"Byte"){case"Numeric":C=we(g);break;case"Alphanumeric":C=Me(g);break;case"Byte":C=fi(g);break;case"Kanji":C=ei(g);break;default:throw"mode:"+h}A.push(C),q=null},U.isDark=function(g,h){if(g<0||k<=g||h<0||k<=h)throw g+","+h;return w[g][h]},U.getModuleCount=function(){return k},U.make=function(){if(T<1){for(var g=1;g<40;g++){for(var h=bi.getRSBlocks(g,I),C=ti(),_=0;_<A.length;_++){var v=A[_];C.put(v.getMode(),4),C.put(v.getLength(),ae.getLengthInBits(v.getMode(),g)),v.write(C)}var P=0;for(_=0;_<h.length;_++)P+=h[_].dataCount;if(C.getLengthInBits()<=8*P)break}T=g}_t(!1,(function(){for(var D=0,j=0,H=0;H<8;H+=1){_t(!0,H);var Q=ae.getLostPoint(U);(H==0||D>Q)&&(D=Q,j=H)}return j})())},U.createTableTag=function(g,h){g=g||2;var C="";C+='<table style="',C+=" border-width: 0px; border-style: none;",C+=" border-collapse: collapse;",C+=" padding: 0px; margin: "+(h=h===void 0?4*g:h)+"px;",C+='">',C+="<tbody>";for(var _=0;_<U.getModuleCount();_+=1){C+="<tr>";for(var v=0;v<U.getModuleCount();v+=1)C+='<td style="',C+=" border-width: 0px; border-style: none;",C+=" border-collapse: collapse;",C+=" padding: 0px; margin: 0px;",C+=" width: "+g+"px;",C+=" height: "+g+"px;",C+=" background-color: ",C+=U.isDark(_,v)?"#000000":"#ffffff",C+=";",C+='"/>';C+="</tr>"}return(C+="</tbody>")+"</table>"},U.createSvgTag=function(g,h,C,_){var v={};typeof arguments[0]=="object"&&(g=(v=arguments[0]).cellSize,h=v.margin,C=v.alt,_=v.title),g=g||2,h=h===void 0?4*g:h,(C=typeof C=="string"?{text:C}:C||{}).text=C.text||null,C.id=C.text?C.id||"qrcode-description":null,(_=typeof _=="string"?{text:_}:_||{}).text=_.text||null,_.id=_.text?_.id||"qrcode-title":null;var P,D,j,H,Q=U.getModuleCount()*g+2*h,Y="";for(H="l"+g+",0 0,"+g+" -"+g+",0 0,-"+g+"z ",Y+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',Y+=v.scalable?"":' width="'+Q+'px" height="'+Q+'px"',Y+=' viewBox="0 0 '+Q+" "+Q+'" ',Y+=' preserveAspectRatio="xMinYMin meet"',Y+=_.text||C.text?' role="img" aria-labelledby="'+f([_.id,C.id].join(" ").trim())+'"':"",Y+=">",Y+=_.text?'<title id="'+f(_.id)+'">'+f(_.text)+"</title>":"",Y+=C.text?'<description id="'+f(C.id)+'">'+f(C.text)+"</description>":"",Y+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',Y+='<path d="',D=0;D<U.getModuleCount();D+=1)for(j=D*g+h,P=0;P<U.getModuleCount();P+=1)U.isDark(D,P)&&(Y+="M"+(P*g+h)+","+j+H);return(Y+='" stroke="transparent" fill="black"/>')+"</svg>"},U.createDataURL=function(g,h){g=g||2,h=h===void 0?4*g:h;var C=U.getModuleCount()*g+2*h,_=h,v=C-h;return Ie(C,C,function(P,D){if(_<=P&&P<v&&_<=D&&D<v){var j=Math.floor((P-_)/g),H=Math.floor((D-_)/g);return U.isDark(H,j)?0:1}return 1})},U.createImgTag=function(g,h,C){g=g||2,h=h===void 0?4*g:h;var _=U.getModuleCount()*g+2*h,v="";return v+="<img",v+=' src="',v+=U.createDataURL(g,h),v+='"',v+=' width="',v+=_,v+='"',v+=' height="',v+=_,v+='"',C&&(v+=' alt="',v+=f(C),v+='"'),v+"/>"};var f=function(g){for(var h="",C=0;C<g.length;C+=1){var _=g.charAt(C);switch(_){case"<":h+="&lt;";break;case">":h+="&gt;";break;case"&":h+="&amp;";break;case'"':h+="&quot;";break;default:h+=_}}return h};return U.createASCII=function(g,h){if((g=g||1)<2)return(function(st){st=st===void 0?2:st;var rt,X,Rt,St,et,lt=1*U.getModuleCount()+2*st,nt=st,ot=lt-st,Mt={"\u2588\u2588":"\u2588","\u2588 ":"\u2580"," \u2588":"\u2584","  ":" "},It={"\u2588\u2588":"\u2580","\u2588 ":"\u2580"," \u2588":" ","  ":" "},tt="";for(rt=0;rt<lt;rt+=2){for(Rt=Math.floor((rt-nt)/1),St=Math.floor((rt+1-nt)/1),X=0;X<lt;X+=1)et="\u2588",nt<=X&&X<ot&&nt<=rt&&rt<ot&&U.isDark(Rt,Math.floor((X-nt)/1))&&(et=" "),nt<=X&&X<ot&&nt<=rt+1&&rt+1<ot&&U.isDark(St,Math.floor((X-nt)/1))?et+=" ":et+="\u2588",tt+=st<1&&rt+1>=ot?It[et]:Mt[et];tt+=`
`}return lt%2&&st>0?tt.substring(0,tt.length-lt-1)+Array(lt+1).join("\u2580"):tt.substring(0,tt.length-1)})(h);g-=1,h=h===void 0?2*g:h;var C,_,v,P,D=U.getModuleCount()*g+2*h,j=h,H=D-h,Q=Array(g+1).join("\u2588\u2588"),Y=Array(g+1).join("  "),Ct="",ht="";for(C=0;C<D;C+=1){for(v=Math.floor((C-j)/g),ht="",_=0;_<D;_+=1)P=1,j<=_&&_<H&&j<=C&&C<H&&U.isDark(v,Math.floor((_-j)/g))&&(P=0),ht+=P?Q:Y;for(v=0;v<g;v+=1)Ct+=ht+`
`}return Ct.substring(0,Ct.length-1)},U.renderTo2dContext=function(g,h){h=h||2;for(var C=U.getModuleCount(),_=0;_<C;_++)for(var v=0;v<C;v++)g.fillStyle=U.isDark(_,v)?"black":"white",g.fillRect(_*h,v*h,h,h)},U};xt.stringToBytes=(xt.stringToBytesFuncs={default:function(S){for(var O=[],T=0;T<S.length;T+=1){var I=S.charCodeAt(T);O.push(255&I)}return O}}).default,xt.createStringToBytes=function(S,O){var T=(function(){for(var w=Zi(S),k=function(){var G=w.read();if(G==-1)throw"eof";return G},q=0,A={};;){var U=w.read();if(U==-1)break;var _t=k(),vt=k()<<8|k();A[String.fromCharCode(U<<8|_t)]=vt,q+=1}if(q!=O)throw q+" != "+O;return A})(),I=63;return function(w){for(var k=[],q=0;q<w.length;q+=1){var A=w.charCodeAt(q);if(A<128)k.push(A);else{var U=T[w.charAt(q)];typeof U=="number"?(255&U)==U?k.push(U):(k.push(U>>>8),k.push(255&U)):k.push(I)}}return k}};var Pt,wt,J,at,At,De={L:1,M:0,Q:3,H:2},ae=(Pt=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],wt=1335,J=7973,At=function(S){for(var O=0;S!=0;)O+=1,S>>>=1;return O},(at={}).getBCHTypeInfo=function(S){for(var O=S<<10;At(O)-At(wt)>=0;)O^=wt<<At(O)-At(wt);return 21522^(S<<10|O)},at.getBCHTypeNumber=function(S){for(var O=S<<12;At(O)-At(J)>=0;)O^=J<<At(O)-At(J);return S<<12|O},at.getPatternPosition=function(S){return Pt[S-1]},at.getMaskFunction=function(S){switch(S){case 0:return function(O,T){return(O+T)%2==0};case 1:return function(O,T){return O%2==0};case 2:return function(O,T){return T%3==0};case 3:return function(O,T){return(O+T)%3==0};case 4:return function(O,T){return(Math.floor(O/2)+Math.floor(T/3))%2==0};case 5:return function(O,T){return O*T%2+O*T%3==0};case 6:return function(O,T){return(O*T%2+O*T%3)%2==0};case 7:return function(O,T){return(O*T%3+(O+T)%2)%2==0};default:throw"bad maskPattern:"+S}},at.getErrorCorrectPolynomial=function(S){for(var O=Ee([1],0),T=0;T<S;T+=1)O=O.multiply(Ee([1,se.gexp(T)],0));return O},at.getLengthInBits=function(S,O){if(1<=O&&O<10)switch(S){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+S}else if(O<27)switch(S){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+S}else{if(!(O<41))throw"type:"+O;switch(S){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+S}}},at.getLostPoint=function(S){for(var O=S.getModuleCount(),T=0,I=0;I<O;I+=1)for(var w=0;w<O;w+=1){for(var k=0,q=S.isDark(I,w),A=-1;A<=1;A+=1)if(!(I+A<0||O<=I+A))for(var U=-1;U<=1;U+=1)w+U<0||O<=w+U||A==0&&U==0||q==S.isDark(I+A,w+U)&&(k+=1);k>5&&(T+=3+k-5)}for(I=0;I<O-1;I+=1)for(w=0;w<O-1;w+=1){var _t=0;S.isDark(I,w)&&(_t+=1),S.isDark(I+1,w)&&(_t+=1),S.isDark(I,w+1)&&(_t+=1),S.isDark(I+1,w+1)&&(_t+=1),_t!=0&&_t!=4||(T+=3)}for(I=0;I<O;I+=1)for(w=0;w<O-6;w+=1)S.isDark(I,w)&&!S.isDark(I,w+1)&&S.isDark(I,w+2)&&S.isDark(I,w+3)&&S.isDark(I,w+4)&&!S.isDark(I,w+5)&&S.isDark(I,w+6)&&(T+=40);for(w=0;w<O;w+=1)for(I=0;I<O-6;I+=1)S.isDark(I,w)&&!S.isDark(I+1,w)&&S.isDark(I+2,w)&&S.isDark(I+3,w)&&S.isDark(I+4,w)&&!S.isDark(I+5,w)&&S.isDark(I+6,w)&&(T+=40);var vt=0;for(w=0;w<O;w+=1)for(I=0;I<O;I+=1)S.isDark(I,w)&&(vt+=1);return T+Math.abs(100*vt/O/O-50)/5*10},at),se=(function(){for(var S=new Array(256),O=new Array(256),T=0;T<8;T+=1)S[T]=1<<T;for(T=8;T<256;T+=1)S[T]=S[T-4]^S[T-5]^S[T-6]^S[T-8];for(T=0;T<255;T+=1)O[S[T]]=T;return{glog:function(I){if(I<1)throw"glog("+I+")";return O[I]},gexp:function(I){for(;I<0;)I+=255;for(;I>=256;)I-=255;return S[I]}}})();function Ee(S,O){if(S.length===void 0)throw S.length+"/"+O;var T=(function(){for(var w=0;w<S.length&&S[w]==0;)w+=1;for(var k=new Array(S.length-w+O),q=0;q<S.length-w;q+=1)k[q]=S[q+w];return k})(),I={getAt:function(w){return T[w]},getLength:function(){return T.length},multiply:function(w){for(var k=new Array(I.getLength()+w.getLength()-1),q=0;q<I.getLength();q+=1)for(var A=0;A<w.getLength();A+=1)k[q+A]^=se.gexp(se.glog(I.getAt(q))+se.glog(w.getAt(A)));return Ee(k,0)},mod:function(w){if(I.getLength()-w.getLength()<0)return I;for(var k=se.glog(I.getAt(0))-se.glog(w.getAt(0)),q=new Array(I.getLength()),A=0;A<I.getLength();A+=1)q[A]=I.getAt(A);for(A=0;A<w.getLength();A+=1)q[A]^=se.gexp(se.glog(w.getAt(A))+k);return Ee(q,0).mod(w)}};return I}var bi=(function(){var S=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],O=function(I,w){var k={};return k.totalCount=I,k.dataCount=w,k},T={getRSBlocks:function(I,w){var k=(function(o,l){switch(l){case De.L:return S[4*(o-1)+0];case De.M:return S[4*(o-1)+1];case De.Q:return S[4*(o-1)+2];case De.H:return S[4*(o-1)+3];default:return}})(I,w);if(k===void 0)throw"bad rs block @ typeNumber:"+I+"/errorCorrectionLevel:"+w;for(var q=k.length/3,A=[],U=0;U<q;U+=1)for(var _t=k[3*U+0],vt=k[3*U+1],G=k[3*U+2],r=0;r<_t;r+=1)A.push(O(vt,G));return A}};return T})(),ti=function(){var S=[],O=0,T={getBuffer:function(){return S},getAt:function(I){var w=Math.floor(I/8);return(S[w]>>>7-I%8&1)==1},put:function(I,w){for(var k=0;k<w;k+=1)T.putBit((I>>>w-k-1&1)==1)},getLengthInBits:function(){return O},putBit:function(I){var w=Math.floor(O/8);S.length<=w&&S.push(0),I&&(S[w]|=128>>>O%8),O+=1}};return T},we=function(S){var O=S,T={getMode:function(){return 1},getLength:function(k){return O.length},write:function(k){for(var q=O,A=0;A+2<q.length;)k.put(I(q.substring(A,A+3)),10),A+=3;A<q.length&&(q.length-A==1?k.put(I(q.substring(A,A+1)),4):q.length-A==2&&k.put(I(q.substring(A,A+2)),7))}},I=function(k){for(var q=0,A=0;A<k.length;A+=1)q=10*q+w(k.charAt(A));return q},w=function(k){if("0"<=k&&k<="9")return k.charCodeAt(0)-48;throw"illegal char :"+k};return T},Me=function(S){var O=S,T={getMode:function(){return 2},getLength:function(w){return O.length},write:function(w){for(var k=O,q=0;q+1<k.length;)w.put(45*I(k.charAt(q))+I(k.charAt(q+1)),11),q+=2;q<k.length&&w.put(I(k.charAt(q)),6)}},I=function(w){if("0"<=w&&w<="9")return w.charCodeAt(0)-48;if("A"<=w&&w<="Z")return w.charCodeAt(0)-65+10;switch(w){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+w}};return T},fi=function(S){var O=xt.stringToBytes(S);return{getMode:function(){return 4},getLength:function(T){return O.length},write:function(T){for(var I=0;I<O.length;I+=1)T.put(O[I],8)}}},ei=function(S){var O=xt.stringToBytesFuncs.SJIS;if(!O)throw"sjis not supported.";(function(w,k){var q=O("\u53CB");if(q.length!=2||(q[0]<<8|q[1])!=38726)throw"sjis not supported."})();var T=O(S),I={getMode:function(){return 8},getLength:function(w){return~~(T.length/2)},write:function(w){for(var k=T,q=0;q+1<k.length;){var A=(255&k[q])<<8|255&k[q+1];if(33088<=A&&A<=40956)A-=33088;else{if(!(57408<=A&&A<=60351))throw"illegal char at "+(q+1)+"/"+A;A-=49472}A=192*(A>>>8&255)+(255&A),w.put(A,13),q+=2}if(q<k.length)throw"illegal char at "+(q+1)}};return I},hi=function(){var S=[],O={writeByte:function(T){S.push(255&T)},writeShort:function(T){O.writeByte(T),O.writeByte(T>>>8)},writeBytes:function(T,I,w){I=I||0,w=w||T.length;for(var k=0;k<w;k+=1)O.writeByte(T[k+I])},writeString:function(T){for(var I=0;I<T.length;I+=1)O.writeByte(T.charCodeAt(I))},toByteArray:function(){return S},toString:function(){var T="";T+="[";for(var I=0;I<S.length;I+=1)I>0&&(T+=","),T+=S[I];return T+"]"}};return O},Zi=function(S){var O=S,T=0,I=0,w=0,k={read:function(){for(;w<8;){if(T>=O.length){if(w==0)return-1;throw"unexpected end of file./"+w}var A=O.charAt(T);if(T+=1,A=="=")return w=0,-1;A.match(/^\s$/)||(I=I<<6|q(A.charCodeAt(0)),w+=6)}var U=I>>>w-8&255;return w-=8,U}},q=function(A){if(65<=A&&A<=90)return A-65;if(97<=A&&A<=122)return A-97+26;if(48<=A&&A<=57)return A-48+52;if(A==43)return 62;if(A==47)return 63;throw"c:"+A};return k},Ie=function(S,O,T){for(var I=(function(vt,G){var r=vt,o=G,l=new Array(vt*G),m={setPixel:function(g,h,C){l[h*r+g]=C},write:function(g){g.writeString("GIF87a"),g.writeShort(r),g.writeShort(o),g.writeByte(128),g.writeByte(0),g.writeByte(0),g.writeByte(0),g.writeByte(0),g.writeByte(0),g.writeByte(255),g.writeByte(255),g.writeByte(255),g.writeString(","),g.writeShort(0),g.writeShort(0),g.writeShort(r),g.writeShort(o),g.writeByte(0);var h=p(2);g.writeByte(2);for(var C=0;h.length-C>255;)g.writeByte(255),g.writeBytes(h,C,255),C+=255;g.writeByte(h.length-C),g.writeBytes(h,C,h.length-C),g.writeByte(0),g.writeString(";")}},p=function(g){for(var h=1<<g,C=1+(1<<g),_=g+1,v=f(),P=0;P<h;P+=1)v.add(String.fromCharCode(P));v.add(String.fromCharCode(h)),v.add(String.fromCharCode(C));var D,j,H,Q=hi(),Y=(D=Q,j=0,H=0,{write:function(rt,X){if(rt>>>X)throw"length over";for(;j+X>=8;)D.writeByte(255&(rt<<j|H)),X-=8-j,rt>>>=8-j,H=0,j=0;H|=rt<<j,j+=X},flush:function(){j>0&&D.writeByte(H)}});Y.write(h,_);var Ct=0,ht=String.fromCharCode(l[Ct]);for(Ct+=1;Ct<l.length;){var st=String.fromCharCode(l[Ct]);Ct+=1,v.contains(ht+st)?ht+=st:(Y.write(v.indexOf(ht),_),v.size()<4095&&(v.size()==1<<_&&(_+=1),v.add(ht+st)),ht=st)}return Y.write(v.indexOf(ht),_),Y.write(C,_),Y.flush(),Q.toByteArray()},f=function(){var g={},h=0,C={add:function(_){if(C.contains(_))throw"dup key:"+_;g[_]=h,h+=1},size:function(){return h},indexOf:function(_){return g[_]},contains:function(_){return g[_]!==void 0}};return C};return m})(S,O),w=0;w<O;w+=1)for(var k=0;k<S;k+=1)I.setPixel(k,w,T(k,w));var q=hi();I.write(q);for(var A=(function(){var vt=0,G=0,r=0,o="",l={},m=function(f){o+=String.fromCharCode(p(63&f))},p=function(f){if(!(f<0)){if(f<26)return 65+f;if(f<52)return f-26+97;if(f<62)return f-52+48;if(f==62)return 43;if(f==63)return 47}throw"n:"+f};return l.writeByte=function(f){for(vt=vt<<8|255&f,G+=8,r+=1;G>=6;)m(vt>>>G-6),G-=6},l.flush=function(){if(G>0&&(m(vt<<6-G),vt=0,G=0),r%3!=0)for(var f=3-r%3,g=0;g<f;g+=1)o+="="},l.toString=function(){return o},l})(),U=q.toByteArray(),_t=0;_t<U.length;_t+=1)A.writeByte(U[_t]);return A.flush(),"data:image/gif;base64,"+A};return xt})();bt.stringToBytesFuncs["UTF-8"]=function(xt){return(function(Pt){for(var wt=[],J=0;J<Pt.length;J++){var at=Pt.charCodeAt(J);at<128?wt.push(at):at<2048?wt.push(192|at>>6,128|63&at):at<55296||at>=57344?wt.push(224|at>>12,128|at>>6&63,128|63&at):(J++,at=65536+((1023&at)<<10|1023&Pt.charCodeAt(J)),wt.push(240|at>>18,128|at>>12&63,128|at>>6&63,128|63&at))}return wt})(xt)},(z=typeof(y=function(){return bt})=="function"?y.apply(c,[]):y)===void 0||(a.exports=z)}},n={};function t(a){var c=n[a];if(c!==void 0)return c.exports;var y=n[a]={exports:{}};return i[a](y,y.exports,t),y.exports}t.n=a=>{var c=a&&a.__esModule?()=>a.default:()=>a;return t.d(c,{a:c}),c},t.d=(a,c)=>{for(var y in c)t.o(c,y)&&!t.o(a,y)&&Object.defineProperty(a,y,{enumerable:!0,get:c[y]})},t.o=(a,c)=>Object.prototype.hasOwnProperty.call(a,c);var e={};return(()=>{"use strict";t.d(e,{default:()=>vt});let a=G=>!!G&&typeof G=="object"&&!Array.isArray(G);function c(G,...r){if(!r.length)return G;let o=r.shift();return o!==void 0&&a(G)&&a(o)?(G=Object.assign({},G),Object.keys(o).forEach(l=>{let m=G[l],p=o[l];Array.isArray(m)&&Array.isArray(p)?G[l]=p:a(m)&&a(p)?G[l]=c(Object.assign({},m),p):G[l]=p}),c(G,...r)):G}function y(G,r){let o=document.createElement("a");o.download=r,o.href=G,document.body.appendChild(o),o.click(),document.body.removeChild(o)}function z({originalHeight:G,originalWidth:r,maxHiddenDots:o,maxHiddenAxisDots:l,dotSize:m}){let p={x:0,y:0},f={x:0,y:0};if(G<=0||r<=0||o<=0||m<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};let g=G/r;return p.x=Math.floor(Math.sqrt(o/g)),p.x<=0&&(p.x=1),l&&l<p.x&&(p.x=l),p.x%2==0&&p.x--,f.x=p.x*m,p.y=1+2*Math.ceil((p.x*g-1)/2),f.y=Math.round(f.x*g),(p.y*p.x>o||l&&l<p.y)&&(l&&l<p.y?(p.y=l,p.y%2==0&&p.x--):p.y-=2,f.y=p.y*m,p.x=1+2*Math.ceil((p.y/g-1)/2),f.x=Math.round(f.y/g)),{height:f.y,width:f.x,hideYDots:p.x,hideXDots:p.y}}let bt={L:.07,M:.15,Q:.25,H:.3},xt="dots",Pt="rounded",wt="classy",J="classy-rounded",at="extra-rounded";class At{constructor({context:r,type:o}){this._context=r,this._type=o}draw(r,o,l,m){let p=this._context,f;switch(this._type){case xt:f=this._drawDot;break;case wt:f=this._drawClassy;break;case J:f=this._drawClassyRounded;break;case Pt:f=this._drawRounded;break;case at:f=this._drawExtraRounded;break;default:f=this._drawSquare}f.call(this,{x:r,y:o,size:l,context:p,getNeighbor:m})}_rotateFigure({x:r,y:o,size:l,context:m,rotation:p=0,draw:f}){let g=r+l/2,h=o+l/2;m.translate(g,h),p&&m.rotate(p),f(),m.closePath(),p&&m.rotate(-p),m.translate(-g,-h)}_basicDot(r){let{size:o,context:l}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{l.arc(0,0,o/2,0,2*Math.PI)}}))}_basicSquare(r){let{size:o,context:l}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{l.rect(-o/2,-o/2,o,o)}}))}_basicSideRounded(r){let{size:o,context:l}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{l.arc(0,0,o/2,-Math.PI/2,Math.PI/2),l.lineTo(-o/2,o/2),l.lineTo(-o/2,-o/2),l.lineTo(0,-o/2)}}))}_basicCornerRounded(r){let{size:o,context:l}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{l.arc(0,0,o/2,-Math.PI/2,0),l.lineTo(o/2,o/2),l.lineTo(-o/2,o/2),l.lineTo(-o/2,-o/2),l.lineTo(0,-o/2)}}))}_basicCornerExtraRounded(r){let{size:o,context:l}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{l.arc(-o/2,o/2,o,-Math.PI/2,0),l.lineTo(-o/2,o/2),l.lineTo(-o/2,-o/2)}}))}_basicCornersRounded(r){let{size:o,context:l}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{l.arc(0,0,o/2,-Math.PI/2,0),l.lineTo(o/2,o/2),l.lineTo(0,o/2),l.arc(0,0,o/2,Math.PI/2,Math.PI),l.lineTo(-o/2,-o/2),l.lineTo(0,-o/2)}}))}_basicCornersExtraRounded(r){let{size:o,context:l}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{l.arc(-o/2,o/2,o,-Math.PI/2,0),l.arc(o/2,-o/2,o,Math.PI/2,Math.PI)}}))}_drawDot({x:r,y:o,size:l,context:m}){this._basicDot({x:r,y:o,size:l,context:m,rotation:0})}_drawSquare({x:r,y:o,size:l,context:m}){this._basicSquare({x:r,y:o,size:l,context:m,rotation:0})}_drawRounded({x:r,y:o,size:l,context:m,getNeighbor:p}){let f=p?+p(-1,0):0,g=p?+p(1,0):0,h=p?+p(0,-1):0,C=p?+p(0,1):0,_=f+g+h+C;if(_!==0)if(_>2||f&&g||h&&C)this._basicSquare({x:r,y:o,size:l,context:m,rotation:0});else{if(_===2){let v=0;return f&&h?v=Math.PI/2:h&&g?v=Math.PI:g&&C&&(v=-Math.PI/2),void this._basicCornerRounded({x:r,y:o,size:l,context:m,rotation:v})}if(_===1){let v=0;return h?v=Math.PI/2:g?v=Math.PI:C&&(v=-Math.PI/2),void this._basicSideRounded({x:r,y:o,size:l,context:m,rotation:v})}}else this._basicDot({x:r,y:o,size:l,context:m,rotation:0})}_drawExtraRounded({x:r,y:o,size:l,context:m,getNeighbor:p}){let f=p?+p(-1,0):0,g=p?+p(1,0):0,h=p?+p(0,-1):0,C=p?+p(0,1):0,_=f+g+h+C;if(_!==0)if(_>2||f&&g||h&&C)this._basicSquare({x:r,y:o,size:l,context:m,rotation:0});else{if(_===2){let v=0;return f&&h?v=Math.PI/2:h&&g?v=Math.PI:g&&C&&(v=-Math.PI/2),void this._basicCornerExtraRounded({x:r,y:o,size:l,context:m,rotation:v})}if(_===1){let v=0;return h?v=Math.PI/2:g?v=Math.PI:C&&(v=-Math.PI/2),void this._basicSideRounded({x:r,y:o,size:l,context:m,rotation:v})}}else this._basicDot({x:r,y:o,size:l,context:m,rotation:0})}_drawClassy({x:r,y:o,size:l,context:m,getNeighbor:p}){let f=p?+p(-1,0):0,g=p?+p(1,0):0,h=p?+p(0,-1):0,C=p?+p(0,1):0;f+g+h+C!==0?f||h?g||C?this._basicSquare({x:r,y:o,size:l,context:m,rotation:0}):this._basicCornerRounded({x:r,y:o,size:l,context:m,rotation:Math.PI/2}):this._basicCornerRounded({x:r,y:o,size:l,context:m,rotation:-Math.PI/2}):this._basicCornersRounded({x:r,y:o,size:l,context:m,rotation:Math.PI/2})}_drawClassyRounded({x:r,y:o,size:l,context:m,getNeighbor:p}){let f=p?+p(-1,0):0,g=p?+p(1,0):0,h=p?+p(0,-1):0,C=p?+p(0,1):0;f+g+h+C!==0?f||h?g||C?this._basicSquare({x:r,y:o,size:l,context:m,rotation:0}):this._basicCornerExtraRounded({x:r,y:o,size:l,context:m,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:r,y:o,size:l,context:m,rotation:-Math.PI/2}):this._basicCornersRounded({x:r,y:o,size:l,context:m,rotation:Math.PI/2})}}let De="square",ae="extra-rounded";class se{constructor({context:r,type:o}){this._context=r,this._type=o}draw(r,o,l,m){let p=this._context,f;switch(this._type){case De:f=this._drawSquare;break;case ae:f=this._drawExtraRounded;break;default:f=this._drawDot}f.call(this,{x:r,y:o,size:l,context:p,rotation:m})}_rotateFigure({x:r,y:o,size:l,context:m,rotation:p=0,draw:f}){let g=r+l/2,h=o+l/2;m.translate(g,h),p&&m.rotate(p),f(),m.closePath(),p&&m.rotate(-p),m.translate(-g,-h)}_basicDot(r){let{size:o,context:l}=r,m=o/7;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{l.arc(0,0,o/2,0,2*Math.PI),l.arc(0,0,o/2-m,0,2*Math.PI)}}))}_basicSquare(r){let{size:o,context:l}=r,m=o/7;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{l.rect(-o/2,-o/2,o,o),l.rect(-o/2+m,-o/2+m,o-2*m,o-2*m)}}))}_basicExtraRounded(r){let{size:o,context:l}=r,m=o/7;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{l.arc(-m,-m,2.5*m,Math.PI,-Math.PI/2),l.lineTo(m,-3.5*m),l.arc(m,-m,2.5*m,-Math.PI/2,0),l.lineTo(3.5*m,-m),l.arc(m,m,2.5*m,0,Math.PI/2),l.lineTo(-m,3.5*m),l.arc(-m,m,2.5*m,Math.PI/2,Math.PI),l.lineTo(-3.5*m,-m),l.arc(-m,-m,1.5*m,Math.PI,-Math.PI/2),l.lineTo(m,-2.5*m),l.arc(m,-m,1.5*m,-Math.PI/2,0),l.lineTo(2.5*m,-m),l.arc(m,m,1.5*m,0,Math.PI/2),l.lineTo(-m,2.5*m),l.arc(-m,m,1.5*m,Math.PI/2,Math.PI),l.lineTo(-2.5*m,-m)}}))}_drawDot({x:r,y:o,size:l,context:m,rotation:p}){this._basicDot({x:r,y:o,size:l,context:m,rotation:p})}_drawSquare({x:r,y:o,size:l,context:m,rotation:p}){this._basicSquare({x:r,y:o,size:l,context:m,rotation:p})}_drawExtraRounded({x:r,y:o,size:l,context:m,rotation:p}){this._basicExtraRounded({x:r,y:o,size:l,context:m,rotation:p})}}let Ee="square";class bi{constructor({context:r,type:o}){this._context=r,this._type=o}draw(r,o,l,m){let p=this._context,f;f=this._type===Ee?this._drawSquare:this._drawDot,f.call(this,{x:r,y:o,size:l,context:p,rotation:m})}_rotateFigure({x:r,y:o,size:l,context:m,rotation:p=0,draw:f}){let g=r+l/2,h=o+l/2;m.translate(g,h),p&&m.rotate(p),f(),m.closePath(),p&&m.rotate(-p),m.translate(-g,-h)}_basicDot(r){let{size:o,context:l}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{l.arc(0,0,o/2,0,2*Math.PI)}}))}_basicSquare(r){let{size:o,context:l}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{l.rect(-o/2,-o/2,o,o)}}))}_drawDot({x:r,y:o,size:l,context:m,rotation:p}){this._basicDot({x:r,y:o,size:l,context:m,rotation:p})}_drawSquare({x:r,y:o,size:l,context:m,rotation:p}){this._basicSquare({x:r,y:o,size:l,context:m,rotation:p})}}let ti="radial",we=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],Me=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];class fi{constructor(r){this._canvas=document.createElement("canvas"),this._canvas.width=r.width,this._canvas.height=r.height,this._options=r}get context(){return this._canvas.getContext("2d")}get width(){return this._canvas.width}get height(){return this._canvas.height}getCanvas(){return this._canvas}clear(){let r=this.context;r&&r.clearRect(0,0,this._canvas.width,this._canvas.height)}async drawQR(r){let o=r.getModuleCount(),l=Math.min(this._options.width,this._options.height)-2*this._options.margin,m=Math.floor(l/o),p={hideXDots:0,hideYDots:0,width:0,height:0};if(this._qr=r,this._options.image){if(await this.loadImage(),!this._image)return;let{imageOptions:f,qrOptions:g}=this._options,h=f.imageSize*bt[g.errorCorrectionLevel],C=Math.floor(h*o*o);p=z({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:C,maxHiddenAxisDots:o-14,dotSize:m})}this.clear(),this.drawBackground(),this.drawDots((f,g)=>{var h,C,_,v,P,D;return!(this._options.imageOptions.hideBackgroundDots&&f>=(o-p.hideXDots)/2&&f<(o+p.hideXDots)/2&&g>=(o-p.hideYDots)/2&&g<(o+p.hideYDots)/2||!((h=we[f])===null||h===void 0)&&h[g]||!((C=we[f-o+7])===null||C===void 0)&&C[g]||!((_=we[f])===null||_===void 0)&&_[g-o+7]||!((v=Me[f])===null||v===void 0)&&v[g]||!((P=Me[f-o+7])===null||P===void 0)&&P[g]||!((D=Me[f])===null||D===void 0)&&D[g-o+7])}),this.drawCorners(),this._options.image&&this.drawImage({width:p.width,height:p.height,count:o,dotSize:m})}drawBackground(){let r=this.context,o=this._options;if(r){if(o.backgroundOptions.gradient){let l=o.backgroundOptions.gradient,m=this._createGradient({context:r,options:l,additionalRotation:0,x:0,y:0,size:this._canvas.width>this._canvas.height?this._canvas.width:this._canvas.height});l.colorStops.forEach(({offset:p,color:f})=>{m.addColorStop(p,f)}),r.fillStyle=m}else o.backgroundOptions.color&&(r.fillStyle=o.backgroundOptions.color);r.fillRect(0,0,this._canvas.width,this._canvas.height)}}drawDots(r){if(!this._qr)throw"QR code is not defined";let o=this.context;if(!o)throw"QR code is not defined";let l=this._options,m=this._qr.getModuleCount();if(m>l.width||m>l.height)throw"The canvas is too small.";let p=Math.min(l.width,l.height)-2*l.margin,f=Math.floor(p/m),g=Math.floor((l.width-m*f)/2),h=Math.floor((l.height-m*f)/2),C=new At({context:o,type:l.dotsOptions.type});o.beginPath();for(let _=0;_<m;_++)for(let v=0;v<m;v++){if(r&&!r(_,v)||!this._qr.isDark(_,v))continue;let P=this._options.useLegacyDotRotation?g+_*f:h+v*f,D=this._options.useLegacyDotRotation?h+v*f:g+_*f;C.draw(P,D,f,(j,H)=>this._options.useLegacyDotRotation?!(_+j<0||v+H<0||_+j>=m||v+H>=m)&&!(r&&!r(_+j,v+H))&&!!this._qr&&this._qr.isDark(_+j,v+H):!(v+j<0||_+H<0||v+j>=m||_+H>=m)&&!(r&&!r(v+j,_+H))&&!!this._qr&&this._qr.isDark(_+H,v+j))}if(l.dotsOptions.gradient){let _=l.dotsOptions.gradient,v=this._createGradient({context:o,options:_,additionalRotation:0,x:g,y:h,size:m*f});_.colorStops.forEach(({offset:P,color:D})=>{v.addColorStop(P,D)}),o.fillStyle=o.strokeStyle=v}else l.dotsOptions.color&&(o.fillStyle=o.strokeStyle=l.dotsOptions.color);o.fill("evenodd")}drawCorners(r){if(!this._qr)throw"QR code is not defined";let o=this.context;if(!o)throw"QR code is not defined";let l=this._options,m=this._qr.getModuleCount(),p=Math.min(l.width,l.height)-2*l.margin,f=Math.floor(p/m),g=7*f,h=3*f,C=Math.floor((l.width-m*f)/2),_=Math.floor((l.height-m*f)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(([v,P,D])=>{var j,H,Q,Y,Ct,ht,st,rt,X,Rt;if(r&&!r(v,P))return;let St=C+v*f*(m-7),et=_+P*f*(m-7);if(!((j=l.cornersSquareOptions)===null||j===void 0)&&j.type){let lt=new se({context:o,type:(H=l.cornersSquareOptions)===null||H===void 0?void 0:H.type});o.beginPath(),lt.draw(St,et,g,D)}else{let lt=new At({context:o,type:l.dotsOptions.type});o.beginPath();for(let nt=0;nt<we.length;nt++)for(let ot=0;ot<we[nt].length;ot++)!((Q=we[nt])===null||Q===void 0)&&Q[ot]&&lt.draw(St+nt*f,et+ot*f,f,(Mt,It)=>{var tt;return!!(!((tt=we[nt+Mt])===null||tt===void 0)&&tt[ot+It])})}if(!((Y=l.cornersSquareOptions)===null||Y===void 0)&&Y.gradient){let lt=l.cornersSquareOptions.gradient,nt=this._createGradient({context:o,options:lt,additionalRotation:D,x:St,y:et,size:g});lt.colorStops.forEach(({offset:ot,color:Mt})=>{nt.addColorStop(ot,Mt)}),o.fillStyle=o.strokeStyle=nt}else!((Ct=l.cornersSquareOptions)===null||Ct===void 0)&&Ct.color&&(o.fillStyle=o.strokeStyle=l.cornersSquareOptions.color);if(o.fill("evenodd"),(ht=l.cornersDotOptions)===null||ht===void 0?void 0:ht.type){let lt=new bi({context:o,type:(st=l.cornersDotOptions)===null||st===void 0?void 0:st.type});o.beginPath(),lt.draw(St+2*f,et+2*f,h,D)}else{let lt=new At({context:o,type:l.dotsOptions.type});o.beginPath();for(let nt=0;nt<Me.length;nt++)for(let ot=0;ot<Me[nt].length;ot++)!((rt=Me[nt])===null||rt===void 0)&&rt[ot]&&lt.draw(St+nt*f,et+ot*f,f,(Mt,It)=>{var tt;return!!(!((tt=Me[nt+Mt])===null||tt===void 0)&&tt[ot+It])})}if(!((X=l.cornersDotOptions)===null||X===void 0)&&X.gradient){let lt=l.cornersDotOptions.gradient,nt=this._createGradient({context:o,options:lt,additionalRotation:D,x:St+2*f,y:et+2*f,size:h});lt.colorStops.forEach(({offset:ot,color:Mt})=>{nt.addColorStop(ot,Mt)}),o.fillStyle=o.strokeStyle=nt}else!((Rt=l.cornersDotOptions)===null||Rt===void 0)&&Rt.color&&(o.fillStyle=o.strokeStyle=l.cornersDotOptions.color);o.fill("evenodd")})}loadImage(){return new Promise((r,o)=>{let l=this._options,m=new Image;if(!l.image)return o("Image is not defined");typeof l.imageOptions.crossOrigin=="string"&&(m.crossOrigin=l.imageOptions.crossOrigin),this._image=m,m.onload=()=>{r()},m.src=l.image})}drawImage({width:r,height:o,count:l,dotSize:m}){let p=this.context;if(!p)throw"canvasContext is not defined";if(!this._image)throw"image is not defined";let f=this._options,g=Math.floor((f.width-l*m)/2),h=Math.floor((f.height-l*m)/2),C=g+f.imageOptions.margin+(l*m-r)/2,_=h+f.imageOptions.margin+(l*m-o)/2,v=r-2*f.imageOptions.margin,P=o-2*f.imageOptions.margin;p.drawImage(this._image,C,_,v<0?0:v,P<0?0:P)}_createGradient({context:r,options:o,additionalRotation:l,x:m,y:p,size:f}){let g;if(o.type===ti)g=r.createRadialGradient(m+f/2,p+f/2,0,m+f/2,p+f/2,f/2);else{let h=((o.rotation||0)+l)%(2*Math.PI),C=(h+2*Math.PI)%(2*Math.PI),_=m+f/2,v=p+f/2,P=m+f/2,D=p+f/2;C>=0&&C<=.25*Math.PI||C>1.75*Math.PI&&C<=2*Math.PI?(_-=f/2,v-=f/2*Math.tan(h),P+=f/2,D+=f/2*Math.tan(h)):C>.25*Math.PI&&C<=.75*Math.PI?(v-=f/2,_-=f/2/Math.tan(h),D+=f/2,P+=f/2/Math.tan(h)):C>.75*Math.PI&&C<=1.25*Math.PI?(_+=f/2,v+=f/2*Math.tan(h),P-=f/2,D-=f/2*Math.tan(h)):C>1.25*Math.PI&&C<=1.75*Math.PI&&(v+=f/2,_+=f/2/Math.tan(h),D-=f/2,P-=f/2/Math.tan(h)),g=r.createLinearGradient(Math.round(_),Math.round(v),Math.round(P),Math.round(D))}return g}}class ei{constructor({svg:r,type:o}){this._svg=r,this._type=o}draw(r,o,l,m){let p;switch(this._type){case xt:p=this._drawDot;break;case wt:p=this._drawClassy;break;case J:p=this._drawClassyRounded;break;case Pt:p=this._drawRounded;break;case at:p=this._drawExtraRounded;break;default:p=this._drawSquare}p.call(this,{x:r,y:o,size:l,getNeighbor:m})}_rotateFigure({x:r,y:o,size:l,rotation:m=0,draw:p}){var f;let g=r+l/2,h=o+l/2;p(),(f=this._element)===null||f===void 0||f.setAttribute("transform",`rotate(${180*m/Math.PI},${g},${h})`)}_basicDot(r){let{size:o,x:l,y:m}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(l+o/2)),this._element.setAttribute("cy",String(m+o/2)),this._element.setAttribute("r",String(o/2))}}))}_basicSquare(r){let{size:o,x:l,y:m}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(l)),this._element.setAttribute("y",String(m)),this._element.setAttribute("width",String(o)),this._element.setAttribute("height",String(o))}}))}_basicSideRounded(r){let{size:o,x:l,y:m}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${l} ${m}v ${o}h `+o/2+`a ${o/2} ${o/2}, 0, 0, 0, 0 ${-o}`)}}))}_basicCornerRounded(r){let{size:o,x:l,y:m}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${l} ${m}v ${o}h ${o}v `+-o/2+`a ${o/2} ${o/2}, 0, 0, 0, ${-o/2} ${-o/2}`)}}))}_basicCornerExtraRounded(r){let{size:o,x:l,y:m}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${l} ${m}v ${o}h ${o}a ${o} ${o}, 0, 0, 0, ${-o} ${-o}`)}}))}_basicCornersRounded(r){let{size:o,x:l,y:m}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${l} ${m}v `+o/2+`a ${o/2} ${o/2}, 0, 0, 0, ${o/2} ${o/2}h `+o/2+"v "+-o/2+`a ${o/2} ${o/2}, 0, 0, 0, ${-o/2} ${-o/2}`)}}))}_drawDot({x:r,y:o,size:l}){this._basicDot({x:r,y:o,size:l,rotation:0})}_drawSquare({x:r,y:o,size:l}){this._basicSquare({x:r,y:o,size:l,rotation:0})}_drawRounded({x:r,y:o,size:l,getNeighbor:m}){let p=m?+m(-1,0):0,f=m?+m(1,0):0,g=m?+m(0,-1):0,h=m?+m(0,1):0,C=p+f+g+h;if(C!==0)if(C>2||p&&f||g&&h)this._basicSquare({x:r,y:o,size:l,rotation:0});else{if(C===2){let _=0;return p&&g?_=Math.PI/2:g&&f?_=Math.PI:f&&h&&(_=-Math.PI/2),void this._basicCornerRounded({x:r,y:o,size:l,rotation:_})}if(C===1){let _=0;return g?_=Math.PI/2:f?_=Math.PI:h&&(_=-Math.PI/2),void this._basicSideRounded({x:r,y:o,size:l,rotation:_})}}else this._basicDot({x:r,y:o,size:l,rotation:0})}_drawExtraRounded({x:r,y:o,size:l,getNeighbor:m}){let p=m?+m(-1,0):0,f=m?+m(1,0):0,g=m?+m(0,-1):0,h=m?+m(0,1):0,C=p+f+g+h;if(C!==0)if(C>2||p&&f||g&&h)this._basicSquare({x:r,y:o,size:l,rotation:0});else{if(C===2){let _=0;return p&&g?_=Math.PI/2:g&&f?_=Math.PI:f&&h&&(_=-Math.PI/2),void this._basicCornerExtraRounded({x:r,y:o,size:l,rotation:_})}if(C===1){let _=0;return g?_=Math.PI/2:f?_=Math.PI:h&&(_=-Math.PI/2),void this._basicSideRounded({x:r,y:o,size:l,rotation:_})}}else this._basicDot({x:r,y:o,size:l,rotation:0})}_drawClassy({x:r,y:o,size:l,getNeighbor:m}){let p=m?+m(-1,0):0,f=m?+m(1,0):0,g=m?+m(0,-1):0,h=m?+m(0,1):0;p+f+g+h!==0?p||g?f||h?this._basicSquare({x:r,y:o,size:l,rotation:0}):this._basicCornerRounded({x:r,y:o,size:l,rotation:Math.PI/2}):this._basicCornerRounded({x:r,y:o,size:l,rotation:-Math.PI/2}):this._basicCornersRounded({x:r,y:o,size:l,rotation:Math.PI/2})}_drawClassyRounded({x:r,y:o,size:l,getNeighbor:m}){let p=m?+m(-1,0):0,f=m?+m(1,0):0,g=m?+m(0,-1):0,h=m?+m(0,1):0;p+f+g+h!==0?p||g?f||h?this._basicSquare({x:r,y:o,size:l,rotation:0}):this._basicCornerExtraRounded({x:r,y:o,size:l,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:r,y:o,size:l,rotation:-Math.PI/2}):this._basicCornersRounded({x:r,y:o,size:l,rotation:Math.PI/2})}}class hi{constructor({svg:r,type:o}){this._svg=r,this._type=o}draw(r,o,l,m){let p;switch(this._type){case De:p=this._drawSquare;break;case ae:p=this._drawExtraRounded;break;default:p=this._drawDot}p.call(this,{x:r,y:o,size:l,rotation:m})}_rotateFigure({x:r,y:o,size:l,rotation:m=0,draw:p}){var f;let g=r+l/2,h=o+l/2;p(),(f=this._element)===null||f===void 0||f.setAttribute("transform",`rotate(${180*m/Math.PI},${g},${h})`)}_basicDot(r){let{size:o,x:l,y:m}=r,p=o/7;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${l+o/2} ${m}a ${o/2} ${o/2} 0 1 0 0.1 0zm 0 ${p}a ${o/2-p} ${o/2-p} 0 1 1 -0.1 0Z`)}}))}_basicSquare(r){let{size:o,x:l,y:m}=r,p=o/7;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${l} ${m}v ${o}h ${o}v `+-o+`zM ${l+p} ${m+p}h `+(o-2*p)+"v "+(o-2*p)+"h "+(2*p-o)+"z")}}))}_basicExtraRounded(r){let{size:o,x:l,y:m}=r,p=o/7;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${l} ${m+2.5*p}v `+2*p+`a ${2.5*p} ${2.5*p}, 0, 0, 0, ${2.5*p} ${2.5*p}h `+2*p+`a ${2.5*p} ${2.5*p}, 0, 0, 0, ${2.5*p} ${2.5*-p}v `+-2*p+`a ${2.5*p} ${2.5*p}, 0, 0, 0, ${2.5*-p} ${2.5*-p}h `+-2*p+`a ${2.5*p} ${2.5*p}, 0, 0, 0, ${2.5*-p} ${2.5*p}M ${l+2.5*p} ${m+p}h `+2*p+`a ${1.5*p} ${1.5*p}, 0, 0, 1, ${1.5*p} ${1.5*p}v `+2*p+`a ${1.5*p} ${1.5*p}, 0, 0, 1, ${1.5*-p} ${1.5*p}h `+-2*p+`a ${1.5*p} ${1.5*p}, 0, 0, 1, ${1.5*-p} ${1.5*-p}v `+-2*p+`a ${1.5*p} ${1.5*p}, 0, 0, 1, ${1.5*p} ${1.5*-p}`)}}))}_drawDot({x:r,y:o,size:l,rotation:m}){this._basicDot({x:r,y:o,size:l,rotation:m})}_drawSquare({x:r,y:o,size:l,rotation:m}){this._basicSquare({x:r,y:o,size:l,rotation:m})}_drawExtraRounded({x:r,y:o,size:l,rotation:m}){this._basicExtraRounded({x:r,y:o,size:l,rotation:m})}}class Zi{constructor({svg:r,type:o}){this._svg=r,this._type=o}draw(r,o,l,m){let p;p=this._type===Ee?this._drawSquare:this._drawDot,p.call(this,{x:r,y:o,size:l,rotation:m})}_rotateFigure({x:r,y:o,size:l,rotation:m=0,draw:p}){var f;let g=r+l/2,h=o+l/2;p(),(f=this._element)===null||f===void 0||f.setAttribute("transform",`rotate(${180*m/Math.PI},${g},${h})`)}_basicDot(r){let{size:o,x:l,y:m}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(l+o/2)),this._element.setAttribute("cy",String(m+o/2)),this._element.setAttribute("r",String(o/2))}}))}_basicSquare(r){let{size:o,x:l,y:m}=r;this._rotateFigure(Object.assign(Object.assign({},r),{draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(l)),this._element.setAttribute("y",String(m)),this._element.setAttribute("width",String(o)),this._element.setAttribute("height",String(o))}}))}_drawDot({x:r,y:o,size:l,rotation:m}){this._basicDot({x:r,y:o,size:l,rotation:m})}_drawSquare({x:r,y:o,size:l,rotation:m}){this._basicSquare({x:r,y:o,size:l,rotation:m})}}let Ie=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],S=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];class O{constructor(r){this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(r.width)),this._element.setAttribute("height",String(r.height)),this._element.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._style=document.createElementNS("http://www.w3.org/2000/svg","style"),this._options=r}get width(){return this._options.width}get height(){return this._options.height}getElement(){return this._element}clear(){var r;let o=this._element;this._element=o.cloneNode(!1),(r=o?.parentNode)===null||r===void 0||r.replaceChild(this._element,o),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._style=document.createElementNS("http://www.w3.org/2000/svg","style"),this._element.appendChild(this._style),this._element.appendChild(this._defs)}async drawQR(r){let o=r.getModuleCount(),l=Math.min(this._options.width,this._options.height)-2*this._options.margin,m=Math.floor(l/o),p={hideXDots:0,hideYDots:0,width:0,height:0};if(this._qr=r,this._options.image){if(await this.loadImage(),!this._image)return;let{imageOptions:f,qrOptions:g}=this._options,h=f.imageSize*bt[g.errorCorrectionLevel],C=Math.floor(h*o*o);p=z({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:C,maxHiddenAxisDots:o-14,dotSize:m})}this._element.appendChild(this._style),this._element.appendChild(this._defs),this.clear(),this.drawBackground(),this.drawDots((f,g)=>{var h,C,_,v,P,D;return!(this._options.imageOptions.hideBackgroundDots&&f>=(o-p.hideXDots)/2&&f<(o+p.hideXDots)/2&&g>=(o-p.hideYDots)/2&&g<(o+p.hideYDots)/2||!((h=Ie[f])===null||h===void 0)&&h[g]||!((C=Ie[f-o+7])===null||C===void 0)&&C[g]||!((_=Ie[f])===null||_===void 0)&&_[g-o+7]||!((v=S[f])===null||v===void 0)&&v[g]||!((P=S[f-o+7])===null||P===void 0)&&P[g]||!((D=S[f])===null||D===void 0)&&D[g-o+7])}),this.drawCorners(),this._options.image&&await this.drawImage({width:p.width,height:p.height,count:o,dotSize:m})}drawBackground(){var r,o,l;let m=this._element,p=this._options;if(m){let f=(r=p.backgroundOptions)===null||r===void 0?void 0:r.gradient,g=(o=p.backgroundOptions)===null||o===void 0?void 0:o.color;f?this._createColor({options:f,color:g,additionalRotation:0,x:0,y:0,height:p.height,width:p.width,name:"background-color"}):!((l=p.backgroundOptions)===null||l===void 0)&&l.color&&this._createStyle({color:g,name:"background-color"})}}drawDots(r){var o,l,m;if(!this._qr)throw"QR code is not defined";let p=this._options,f=this._qr.getModuleCount();if(f>p.width||f>p.height)throw"The canvas is too small.";let g=Math.min(p.width,p.height)-2*p.margin,h=Math.floor(g/f),C=Math.floor((p.width-f*h)/2),_=Math.floor((p.height-f*h)/2),v=new ei({svg:this._element,type:p.dotsOptions.type});!((o=p.dotsOptions)===null||o===void 0)&&o.gradient?(this._dotsClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id","clip-path-dot-color"),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(l=p.dotsOptions)===null||l===void 0?void 0:l.gradient,color:p.dotsOptions.color,additionalRotation:0,x:C,y:_,height:f*h,width:f*h,name:"dot-color"})):p.dotsOptions.color&&(this._dots=document.createElementNS("http://www.w3.org/2000/svg","g"),this._dots.setAttribute("class","dot-color"),this._element.appendChild(this._dots),this._createStyle({color:p.dotsOptions.color,name:"dot-color"}));for(let P=0;P<f;P++)for(let D=0;D<f;D++){if(r&&!r(P,D)||!(!((m=this._qr)===null||m===void 0)&&m.isDark(P,D)))continue;let j=this._options.useLegacyDotRotation?C+P*h:_+D*h,H=this._options.useLegacyDotRotation?_+D*h:C+P*h;v.draw(j,H,h,(Q,Y)=>this._options.useLegacyDotRotation?!(P+Q<0||D+Y<0||P+Q>=f||D+Y>=f)&&!(r&&!r(P+Q,D+Y))&&!!this._qr&&this._qr.isDark(P+Q,D+Y):!(D+Q<0||P+Y<0||D+Q>=f||P+Y>=f)&&!(r&&!r(D+Q,P+Y))&&!!this._qr&&this._qr.isDark(P+Y,D+Q)),v._element&&this._dotsClipPath?this._dotsClipPath.appendChild(v._element):v._element&&this._dots&&this._dots.appendChild(v._element)}}drawCorners(){if(!this._qr)throw"QR code is not defined";let r=this._element,o=this._options;if(!r)throw"Element code is not defined";let l=this._qr.getModuleCount(),m=Math.min(o.width,o.height)-2*o.margin,p=Math.floor(m/l),f=7*p,g=3*p,h=Math.floor((o.width-l*p)/2),C=Math.floor((o.height-l*p)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(([_,v,P])=>{var D,j,H,Q,Y,Ct,ht,st,rt,X,Rt,St,et,lt;let nt=h+_*p*(l-7),ot=C+v*p*(l-7),Mt=this._dotsClipPath,It=this._dotsClipPath;if(!((D=o.cornersSquareOptions)===null||D===void 0)&&D.gradient?(Mt=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),Mt.setAttribute("id",`clip-path-corners-square-color-${_}-${v}`),this._defs.appendChild(Mt),this._cornersSquareClipPath=this._cornersDotClipPath=It=Mt,this._createColor({options:(j=o.cornersSquareOptions)===null||j===void 0?void 0:j.gradient,color:(H=o.cornersSquareOptions)===null||H===void 0?void 0:H.color,additionalRotation:P,x:nt,y:ot,height:f,width:f,name:`corners-square-color-${_}-${v}`})):(this._cornerSquares=document.createElementNS("http://www.w3.org/2000/svg","g"),this._cornerSquares.setAttribute("class",`corners-square-color-${_}-${v}`),this._element.appendChild(this._cornerSquares),this._createStyle({color:(Q=o.cornersSquareOptions)===null||Q===void 0?void 0:Q.color,name:`corners-square-color-${_}-${v}`})),(Y=o.cornersSquareOptions)===null||Y===void 0?void 0:Y.type){let tt=new hi({svg:this._element,type:o.cornersSquareOptions.type});tt.draw(nt,ot,f,P),!((Ct=o.cornersSquareOptions)===null||Ct===void 0)&&Ct.gradient&&tt._element&&Mt?Mt.appendChild(tt._element):tt._element&&this._cornerSquares&&this._cornerSquares.appendChild(tt._element)}else{let tt=new ei({svg:this._element,type:o.dotsOptions.type});for(let Nt=0;Nt<Ie.length;Nt++)for(let oe=0;oe<Ie[Nt].length;oe++)!((ht=Ie[Nt])===null||ht===void 0)&&ht[oe]&&(tt.draw(nt+Nt*p,ot+oe*p,p,(Yi,Xi)=>{var Ve;return!!(!((Ve=Ie[Nt+Yi])===null||Ve===void 0)&&Ve[oe+Xi])}),tt._element&&this._cornersSquareClipPath?this._cornersSquareClipPath.appendChild(tt._element):tt._element&&this._cornerSquares&&this._cornerSquares.appendChild(tt._element))}if(!((st=o.cornersDotOptions)===null||st===void 0)&&st.gradient?(It=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),It.setAttribute("id",`clip-path-corners-dot-color-${_}-${v}`),this._defs.appendChild(It),this._cornersDotClipPath=It,this._createColor({options:(rt=o.cornersDotOptions)===null||rt===void 0?void 0:rt.gradient,color:(X=o.cornersDotOptions)===null||X===void 0?void 0:X.color,additionalRotation:P,x:nt+2*p,y:ot+2*p,height:g,width:g,name:`corners-dot-color-${_}-${v}`})):(this._cornerDots=document.createElementNS("http://www.w3.org/2000/svg","g"),this._cornerDots.setAttribute("class",`corners-dot-color-${_}-${v}`),this._element.appendChild(this._cornerDots),this._createStyle({color:(Rt=o.cornersDotOptions)===null||Rt===void 0?void 0:Rt.color,name:`corners-dot-color-${_}-${v}`})),(St=o.cornersDotOptions)===null||St===void 0?void 0:St.type){let tt=new Zi({svg:this._element,type:o.cornersDotOptions.type});tt.draw(nt+2*p,ot+2*p,g,P),!((et=o.cornersDotOptions)===null||et===void 0)&&et.gradient&&tt._element&&It?It.appendChild(tt._element):tt._element&&this._cornerDots&&this._cornerDots.appendChild(tt._element)}else{let tt=new ei({svg:this._element,type:o.dotsOptions.type});for(let Nt=0;Nt<S.length;Nt++)for(let oe=0;oe<S[Nt].length;oe++)!((lt=S[Nt])===null||lt===void 0)&&lt[oe]&&(tt.draw(nt+Nt*p,ot+oe*p,p,(Yi,Xi)=>{var Ve;return!!(!((Ve=S[Nt+Yi])===null||Ve===void 0)&&Ve[oe+Xi])}),tt._element&&this._cornersDotClipPath?this._cornersDotClipPath.appendChild(tt._element):tt._element&&this._cornerDots&&this._cornerDots.appendChild(tt._element))}})}loadImage(){return new Promise((r,o)=>{let l=this._options,m=new Image;if(!l.image)return o("Image is not defined");typeof l.imageOptions.crossOrigin=="string"&&(m.crossOrigin=l.imageOptions.crossOrigin),this._image=m,m.onload=()=>{r()},m.src=l.image})}async drawImage({width:r,height:o,count:l,dotSize:m}){let p=this._options,f=Math.floor((p.width-l*m)/2),g=Math.floor((p.height-l*m)/2),h=f+p.imageOptions.margin+(l*m-r)/2,C=g+p.imageOptions.margin+(l*m-o)/2,_=r-2*p.imageOptions.margin,v=o-2*p.imageOptions.margin,P=document.createElementNS("http://www.w3.org/2000/svg","image"),D=await this._getBase64Image(p.image||"");P.setAttribute("href",D),P.setAttribute("xlink:href",D),P.setAttribute("x",String(h)),P.setAttribute("y",String(C)),P.setAttribute("width",`${_}px`),P.setAttribute("height",`${v}px`),this._element.appendChild(P)}async _getImageBlob(r){return(await fetch(r)).blob()}_blobToBase64(r){return new Promise(o=>{let l=new FileReader;l.onload=function(){let m=l.result;o(m)},l.readAsDataURL(r)})}async _getBase64Image(r){if(r==="")return new Promise(l=>{l("")});let o=await this._getImageBlob(r);return await this._blobToBase64(o)}_createColor({options:r,color:o,additionalRotation:l,x:m,y:p,height:f,width:g,name:h}){let C=g>f?g:f,_=document.createElementNS("http://www.w3.org/2000/svg","rect");if(_.setAttribute("x",String(m)),_.setAttribute("y",String(p)),_.setAttribute("height",String(f)),_.setAttribute("width",String(g)),_.setAttribute("clip-path",`url('#clip-path-${h}')`),r){let v;if(r.type===ti)v=document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),v.setAttribute("id",h),v.setAttribute("gradientUnits","userSpaceOnUse"),v.setAttribute("fx",String(m+g/2)),v.setAttribute("fy",String(p+f/2)),v.setAttribute("cx",String(m+g/2)),v.setAttribute("cy",String(p+f/2)),v.setAttribute("r",String(C/2));else{let P=((r.rotation||0)+l)%(2*Math.PI),D=(P+2*Math.PI)%(2*Math.PI),j=m+g/2,H=p+f/2,Q=m+g/2,Y=p+f/2;D>=0&&D<=.25*Math.PI||D>1.75*Math.PI&&D<=2*Math.PI?(j-=g/2,H-=f/2*Math.tan(P),Q+=g/2,Y+=f/2*Math.tan(P)):D>.25*Math.PI&&D<=.75*Math.PI?(H-=f/2,j-=g/2/Math.tan(P),Y+=f/2,Q+=g/2/Math.tan(P)):D>.75*Math.PI&&D<=1.25*Math.PI?(j+=g/2,H+=f/2*Math.tan(P),Q-=g/2,Y-=f/2*Math.tan(P)):D>1.25*Math.PI&&D<=1.75*Math.PI&&(H+=f/2,j+=g/2/Math.tan(P),Y-=f/2,Q-=g/2/Math.tan(P)),v=document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),v.setAttribute("id",h),v.setAttribute("gradientUnits","userSpaceOnUse"),v.setAttribute("x1",String(Math.round(j))),v.setAttribute("y1",String(Math.round(H))),v.setAttribute("x2",String(Math.round(Q))),v.setAttribute("y2",String(Math.round(Y)))}r.colorStops.forEach(({offset:P,color:D})=>{let j=document.createElementNS("http://www.w3.org/2000/svg","stop");j.setAttribute("offset",100*P+"%"),j.setAttribute("stop-color",D),v.appendChild(j)}),_.setAttribute("fill",`url('#${h}')`),this._defs.appendChild(v)}else o&&_.setAttribute("fill",o);this._element.appendChild(_)}_createStyle({color:r,name:o}){this._style.innerHTML+=`.${o}{ fill: ${r}; }`}}let T="canvas",I={};for(let G=0;G<=40;G++)I[G]=G;let w={type:T,width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:I[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,crossOrigin:"anonymous",margin:0},dotsOptions:{type:"square",color:"#000"},backgroundOptions:{color:"#fff"},useLegacyDotRotation:!1};function k(G){let r=Object.assign({},G);if(!r.colorStops||!r.colorStops.length)throw"Field 'colorStops' is required in gradient";return r.rotation?r.rotation=Number(r.rotation):r.rotation=0,r.colorStops=r.colorStops.map(o=>Object.assign(Object.assign({},o),{offset:Number(o.offset)})),r}function q(G){let r=Object.assign({},G);return r.width=Number(r.width),r.height=Number(r.height),r.margin=Number(r.margin),r.imageOptions=Object.assign(Object.assign({},r.imageOptions),{hideBackgroundDots:!!r.imageOptions.hideBackgroundDots,imageSize:Number(r.imageOptions.imageSize),margin:Number(r.imageOptions.margin)}),r.margin>Math.min(r.width,r.height)&&(r.margin=Math.min(r.width,r.height)),r.dotsOptions=Object.assign({},r.dotsOptions),r.dotsOptions.gradient&&(r.dotsOptions.gradient=k(r.dotsOptions.gradient)),r.cornersSquareOptions&&(r.cornersSquareOptions=Object.assign({},r.cornersSquareOptions),r.cornersSquareOptions.gradient&&(r.cornersSquareOptions.gradient=k(r.cornersSquareOptions.gradient))),r.cornersDotOptions&&(r.cornersDotOptions=Object.assign({},r.cornersDotOptions),r.cornersDotOptions.gradient&&(r.cornersDotOptions.gradient=k(r.cornersDotOptions.gradient))),r.backgroundOptions&&(r.backgroundOptions=Object.assign({},r.backgroundOptions),r.backgroundOptions.gradient&&(r.backgroundOptions.gradient=k(r.backgroundOptions.gradient))),r}var A=t(192),U=t.n(A);class _t{constructor(r){this._options=r?q(c(w,r)):w,this.update()}static _clearContainer(r){r&&(r.innerHTML="")}async _getQRStylingElement(r){if(!this._qr)throw"QR code is empty";if(r.toLowerCase()==="svg"){let o,l;return this._svg&&this._svgDrawingPromise?(l=this._svg,o=this._svgDrawingPromise):(l=new O(this._options),o=l.drawQR(this._qr)),await o,l}{let o,l;return this._canvas&&this._canvasDrawingPromise?(l=this._canvas,o=this._canvasDrawingPromise):(l=new fi(this._options),o=l.drawQR(this._qr)),await o,l}}update(r){_t._clearContainer(this._container),this._options=r?q(c(this._options,r)):this._options,this._options.data&&(this._qr=U()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||(function(o){switch(!0){case/^[0-9]*$/.test(o):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(o):return"Alphanumeric";default:return"Byte"}})(this._options.data)),this._qr.make(),this._options.type===T?(this._canvas=new fi(this._options),this._canvasDrawingPromise=this._canvas.drawQR(this._qr),this._svgDrawingPromise=void 0,this._svg=void 0):(this._svg=new O(this._options),this._svgDrawingPromise=this._svg.drawQR(this._qr),this._canvasDrawingPromise=void 0,this._canvas=void 0),this.append(this._container))}append(r){if(r){if(typeof r.appendChild!="function")throw"Container should be a single DOM node";this._options.type===T?this._canvas&&r.appendChild(this._canvas.getCanvas()):this._svg&&r.appendChild(this._svg.getElement()),this._container=r}}async getRawData(r="png",o){if(!this._qr)throw"QR code is empty";let l=r.toLocaleLowerCase();if(l==="svg"){let m=await this._getQRStylingElement(l),p=new XMLSerializer().serializeToString(m.getElement());return new Blob([`<?xml version="1.0" standalone="no"?>\r
`+p],{type:"image/svg+xml"})}{let m=await this._getQRStylingElement(l);return new Promise(p=>m.getCanvas().toBlob(p,`image/${l}`,o))}}async toDataUrl(r="png",o){if(!this._qr)throw"QR code is empty";let l=r.toLocaleLowerCase();return(await this._getQRStylingElement(l)).getCanvas().toDataURL(`image/${l}`,o)}async download(r){if(!this._qr)throw"QR code is empty";let o="png",l="qr";typeof r=="object"&&r!==null&&(r.name&&(l=r.name),r.extension&&(o=r.extension));let m=o.toLocaleLowerCase();if(m==="svg"){let p=await this._getQRStylingElement(m),f=new XMLSerializer().serializeToString(p.getElement());f=`<?xml version="1.0" standalone="no"?>\r
`+f,y("data:image/svg+xml;charset=utf-8,"+encodeURIComponent(f),`${l}.svg`)}else y((await this._getQRStylingElement(m)).getCanvas().toDataURL(`image/${o}`),`${l}.${o}`)}}let vt=_t})(),e.default})())});var pn=["*"];function to(i,n){i&1&&ki(0)}var eo=["tabListContainer"],io=["tabList"],no=["tabListInner"],ao=["nextPaginator"],oo=["previousPaginator"],ro=["content"];function so(i,n){}var lo=["tabBodyWrapper"],co=["tabHeader"];function mo(i,n){}function po(i,n){if(i&1&&Ji(0,mo,0,0,"ng-template",12),i&2){let t=x().$implicit;L("cdkPortalOutlet",t.templateLabel)}}function uo(i,n){if(i&1&&b(0),i&2){let t=x().$implicit;M(t.textLabel)}}function go(i,n){if(i&1){let t=dt();d(0,"div",7,2),E("click",function(){let a=N(t),c=a.$implicit,y=a.$index,z=x(),bt=ai(1);return B(z._handleClick(c,bt,y))})("cdkFocusChange",function(a){let c=N(t).$index,y=x();return B(y._tabFocusChanged(a,c))}),it(2,"span",8)(3,"div",9),d(4,"span",10)(5,"span",11),R(6,po,1,1,null,12)(7,uo,1,1),u()()()}if(i&2){let t=n.$implicit,e=n.$index,a=ai(1),c=x();Ye(t.labelClass),yt("mdc-tab--active",c.selectedIndex===e),L("id",c._getTabLabelId(t,e))("disabled",t.disabled)("fitInkBarToContent",c.fitInkBarToContent),re("tabIndex",c._getTabIndex(e))("aria-posinset",e+1)("aria-setsize",c._tabs.length)("aria-controls",c._getTabContentId(e))("aria-selected",c.selectedIndex===e)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),s(3),L("matRippleTrigger",a)("matRippleDisabled",t.disabled||c.disableRipple),s(3),F(t.templateLabel?6:7)}}function bo(i,n){i&1&&ki(0)}function fo(i,n){if(i&1){let t=dt();d(0,"mat-tab-body",13),E("_onCentered",function(){N(t);let a=x();return B(a._removeTabBodyWrapperHeight())})("_onCentering",function(a){N(t);let c=x();return B(c._setTabBodyWrapperHeight(a))})("_beforeCentering",function(a){N(t);let c=x();return B(c._bodyCentered(a))}),u()}if(i&2){let t=n.$implicit,e=n.$index,a=x();Ye(t.bodyClass),L("id",a._getTabContentId(e))("content",t.content)("position",t.position)("animationDuration",a.animationDuration)("preserveContent",a.preserveContent),re("tabindex",a.contentTabIndex!=null&&a.selectedIndex===e?a.contentTabIndex:null)("aria-labelledby",a._getTabLabelId(t,e))("aria-hidden",a.selectedIndex!==e)}}var ho=new Se("MatTabContent"),_o=(()=>{class i{template=Z(Ii);constructor(){}static \u0275fac=function(e){return new(e||i)};static \u0275dir=Oe({type:i,selectors:[["","matTabContent",""]],features:[ri([{provide:ho,useExisting:i}])]})}return i})(),vo=new Se("MatTabLabel"),Ra=new Se("MAT_TAB"),Co=(()=>{class i extends ma{_closestTab=Z(Ra,{optional:!0});static \u0275fac=(()=>{let t;return function(a){return(t||(t=wi(i)))(a||i)}})();static \u0275dir=Oe({type:i,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[ri([{provide:vo,useExisting:i}]),ni]})}return i})(),Fa=new Se("MAT_TAB_GROUP"),un=(()=>{class i{_viewContainerRef=Z(Pi);_closestTabGroup=Z(Fa,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;id=null;_contentPortal=null;get content(){return this._contentPortal}_stateChanges=new je;position=null;origin=null;isActive=!1;constructor(){Z(Kn).load(Ia)}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new ca(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=ft({type:i,selectors:[["mat-tab"]],contentQueries:function(e,a,c){if(e&1&&Di(c,Co,5)(c,_o,7,Ii),e&2){let y;ut(y=gt())&&(a.templateLabel=y.first),ut(y=gt())&&(a._explicitContent=y.first)}},viewQuery:function(e,a){if(e&1&&jt(Ii,7),e&2){let c;ut(c=gt())&&(a._implicitContent=c.first)}},hostAttrs:["hidden",""],hostVars:1,hostBindings:function(e,a){e&2&&re("id",null)},inputs:{disabled:[2,"disabled","disabled",Ut],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass",id:"id"},exportAs:["matTab"],features:[ri([{provide:Ra,useExisting:i}]),yi],ngContentSelectors:pn,decls:1,vars:0,template:function(e,a){e&1&&(Ti(),Dn(0,to,1,0,"ng-template"))},encapsulation:2})}return i})(),ln="mdc-tab-indicator--active",Da="mdc-tab-indicator--no-transition",dn=class{_items;_currentItem;constructor(n){this._items=n}hide(){this._items.forEach(n=>n.deactivateInkBar()),this._currentItem=void 0}alignToElement(n){let t=this._items.find(a=>a.elementRef.nativeElement===n),e=this._currentItem;if(t!==e&&(e?.deactivateInkBar(),t)){let a=e?.elementRef.nativeElement.getBoundingClientRect?.();t.activateInkBar(a),this._currentItem=t}}},xo=(()=>{class i{_elementRef=Z(de);_inkBarElement=null;_inkBarContentElement=null;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(t){this._fitToContent!==t&&(this._fitToContent=t,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(t){let e=this._elementRef.nativeElement;if(!t||!e.getBoundingClientRect||!this._inkBarContentElement){e.classList.add(ln);return}let a=e.getBoundingClientRect(),c=t.width/a.width,y=t.left-a.left;e.classList.add(Da),this._inkBarContentElement.style.setProperty("transform",`translateX(${y}px) scaleX(${c})`),e.getBoundingClientRect(),e.classList.remove(Da),e.classList.add(ln),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(ln)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let t=this._elementRef.nativeElement.ownerDocument||document,e=this._inkBarElement=t.createElement("span"),a=this._inkBarContentElement=t.createElement("span");e.className="mdc-tab-indicator",a.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",e.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let t=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;t.appendChild(this._inkBarElement)}static \u0275fac=function(e){return new(e||i)};static \u0275dir=Oe({type:i,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",Ut]}})}return i})();var La=(()=>{class i extends xo{elementRef=Z(de);disabled=!1;focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static \u0275fac=(()=>{let t;return function(a){return(t||(t=wi(i)))(a||i)}})();static \u0275dir=Oe({type:i,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,a){e&2&&(re("aria-disabled",!!a.disabled),yt("mat-mdc-tab-disabled",a.disabled))},inputs:{disabled:[2,"disabled","disabled",Ut]},features:[ni]})}return i})(),Ea={passive:!0},yo=650,wo=100,Mo=(()=>{class i{_elementRef=Z(de);_changeDetectorRef=Z(ce);_viewportRuler=Z(sa);_dir=Z(li,{optional:!0});_ngZone=Z(qt);_platform=Z(si);_sharedResizeObserver=Z(wa);_injector=Z(Ze);_renderer=Z(ii);_animationsDisabled=Ue();_eventCleanups;_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new je;_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged=!1;_keyManager;_currentTextContent;_stopScrolling=new je;disablePagination=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(t){let e=isNaN(t)?0:t;this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}_selectedIndex=0;selectFocusedIndex=new Vt;indexFocused=new Vt;constructor(){this._eventCleanups=this._ngZone.runOutsideAngular(()=>[this._renderer.listen(this._elementRef.nativeElement,"mouseleave",()=>this._stopInterval())])}ngAfterViewInit(){this._eventCleanups.push(this._renderer.listen(this._previousPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("before"),Ea),this._renderer.listen(this._nextPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("after"),Ea))}ngAfterContentInit(){let t=this._dir?this._dir.change:_i("ltr"),e=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(In(32),Bt(this._destroyed)),a=this._viewportRuler.change(150).pipe(Bt(this._destroyed)),c=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new na(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(Math.max(this._selectedIndex,0)),$e(c,{injector:this._injector}),vi(t,a,e,this._items.changes,this._itemsResized()).pipe(Bt(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),c()})}),this._keyManager?.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(y=>{this.indexFocused.emit(y),this._setTabFocus(y)})}_itemsResized(){return typeof ResizeObserver!="function"?xn:this._items.changes.pipe(Ci(this._items),Sn(t=>new Cn(e=>this._ngZone.runOutsideAngular(()=>{let a=new ResizeObserver(c=>e.next(c));return t.forEach(c=>a.observe(c.elementRef.nativeElement)),()=>{a.disconnect()}}))),Pn(1),Mn(t=>t.some(e=>e.contentRect.width>0&&e.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._eventCleanups.forEach(t=>t()),this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!Li(t))switch(t.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let e=this._items.get(this.focusIndex);e&&!e.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t))}break;default:this._keyManager?.onKeydown(t)}}_onContentChanges(){let t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){return this._items?!!this._items.toArray()[t]:!0}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();let e=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?e.scrollLeft=0:e.scrollLeft=e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let t=this.scrollDistance,e=this._getLayoutDirection()==="ltr"?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(e)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){let e=this._tabListContainer.nativeElement.offsetWidth,a=(t=="before"?-1:1)*e/3;return this._scrollTo(this._scrollDistance+a)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;let e=this._items?this._items.toArray()[t]:null;if(!e)return;let a=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:c,offsetWidth:y}=e.elementRef.nativeElement,z,bt;this._getLayoutDirection()=="ltr"?(z=c,bt=z+y):(bt=this._tabListInner.nativeElement.offsetWidth-c,z=bt-y);let xt=this.scrollDistance,Pt=this.scrollDistance+a;z<xt?this.scrollDistance-=xt-z:bt>Pt&&(this.scrollDistance+=Math.min(bt-Pt,z-xt))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let t=this._tabListInner.nativeElement.scrollWidth,e=this._elementRef.nativeElement.offsetWidth,a=t-e>=5;a||(this.scrollDistance=0),a!==this._showPaginationControls&&(this._showPaginationControls=a,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let t=this._tabListInner.nativeElement.scrollWidth,e=this._tabListContainer.nativeElement.offsetWidth;return t-e||0}_alignInkBarToSelectedTab(){let t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,e){e&&e.button!=null&&e.button!==0||(this._stopInterval(),wn(yo,wo).pipe(Bt(vi(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:a,distance:c}=this._scrollHeader(t);(c===0||c>=a)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}static \u0275fac=function(e){return new(e||i)};static \u0275dir=Oe({type:i,inputs:{disablePagination:[2,"disablePagination","disablePagination",Ut],selectedIndex:[2,"selectedIndex","selectedIndex",Ri]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}})}return i})(),Io=(()=>{class i extends Mo{_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new dn(this._items),super.ngAfterContentInit()}_itemSelected(t){t.preventDefault()}static \u0275fac=(()=>{let t;return function(a){return(t||(t=wi(i)))(a||i)}})();static \u0275cmp=ft({type:i,selectors:[["mat-tab-header"]],contentQueries:function(e,a,c){if(e&1&&Di(c,La,4),e&2){let y;ut(y=gt())&&(a._items=y)}},viewQuery:function(e,a){if(e&1&&jt(eo,7)(io,7)(no,7)(ao,5)(oo,5),e&2){let c;ut(c=gt())&&(a._tabListContainer=c.first),ut(c=gt())&&(a._tabList=c.first),ut(c=gt())&&(a._tabListInner=c.first),ut(c=gt())&&(a._nextPaginator=c.first),ut(c=gt())&&(a._previousPaginator=c.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(e,a){e&2&&yt("mat-mdc-tab-header-pagination-controls-enabled",a._showPaginationControls)("mat-mdc-tab-header-rtl",a._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",Ut]},features:[ni],ngContentSelectors:pn,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(e,a){if(e&1){let c=dt();Ti(),d(0,"div",5,0),E("click",function(){return N(c),B(a._handlePaginatorClick("before"))})("mousedown",function(z){return N(c),B(a._handlePaginatorPress("before",z))})("touchend",function(){return N(c),B(a._stopInterval())}),it(2,"div",6),u(),d(3,"div",7,1),E("keydown",function(z){return N(c),B(a._handleKeydown(z))}),d(5,"div",8,2),E("cdkObserveContent",function(){return N(c),B(a._onContentChanges())}),d(7,"div",9,3),ki(9),u()()(),d(10,"div",10,4),E("mousedown",function(z){return N(c),B(a._handlePaginatorPress("after",z))})("click",function(){return N(c),B(a._handlePaginatorClick("after"))})("touchend",function(){return N(c),B(a._stopInterval())}),it(12,"div",6),u()}e&2&&(yt("mat-mdc-tab-header-pagination-disabled",a._disableScrollBefore),L("matRippleDisabled",a._disableScrollBefore||a.disableRipple),s(3),yt("_mat-animation-noopable",a._animationsDisabled),s(2),re("aria-label",a.ariaLabel||null)("aria-labelledby",a.ariaLabelledby||null),s(5),yt("mat-mdc-tab-header-pagination-disabled",a._disableScrollAfter),L("matRippleDisabled",a._disableScrollAfter||a.disableRipple))},dependencies:[rn,ta],styles:[`.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-divider-height, 1px);border-bottom-color:var(--mat-tab-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-divider-height, 1px);border-top-color:var(--mat-tab-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mat-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}
`],encapsulation:2})}return i})(),Po=new Se("MAT_TABS_CONFIG"),Aa=(()=>{class i extends an{_host=Z(cn);_ngZone=Z(qt);_centeringSub=qe.EMPTY;_leavingSub=qe.EMPTY;constructor(){super()}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Ci(this._host._isCenterPosition())).subscribe(t=>{this._host._content&&t&&!this.hasAttached()&&this._ngZone.run(()=>{Promise.resolve().then(),this.attach(this._host._content)})}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this._ngZone.run(()=>this.detach())})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static \u0275fac=function(e){return new(e||i)};static \u0275dir=Oe({type:i,selectors:[["","matTabBodyHost",""]],features:[ni]})}return i})(),cn=(()=>{class i{_elementRef=Z(de);_dir=Z(li,{optional:!0});_ngZone=Z(qt);_injector=Z(Ze);_renderer=Z(ii);_diAnimationsDisabled=Ue();_eventCleanups;_initialized=!1;_fallbackTimer;_positionIndex;_dirChangeSubscription=qe.EMPTY;_position;_previousPosition;_onCentering=new Vt;_beforeCentering=new Vt;_afterLeavingCenter=new Vt;_onCentered=new Vt(!0);_portalHost;_contentElement;_content;animationDuration="500ms";preserveContent=!1;set position(t){this._positionIndex=t,this._computePositionAnimationState()}constructor(){if(this._dir){let t=Z(ce);this._dirChangeSubscription=this._dir.change.subscribe(e=>{this._computePositionAnimationState(e),t.markForCheck()})}}ngOnInit(){this._bindTransitionEvents(),this._position==="center"&&(this._setActiveClass(!0),$e(()=>this._onCentering.emit(this._elementRef.nativeElement.clientHeight),{injector:this._injector})),this._initialized=!0}ngOnDestroy(){clearTimeout(this._fallbackTimer),this._eventCleanups?.forEach(t=>t()),this._dirChangeSubscription.unsubscribe()}_bindTransitionEvents(){this._ngZone.runOutsideAngular(()=>{let t=this._elementRef.nativeElement,e=a=>{a.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.remove("mat-tab-body-animating"),a.type==="transitionend"&&this._transitionDone())};this._eventCleanups=[this._renderer.listen(t,"transitionstart",a=>{a.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.add("mat-tab-body-animating"),this._transitionStarted())}),this._renderer.listen(t,"transitionend",e),this._renderer.listen(t,"transitioncancel",e)]})}_transitionStarted(){clearTimeout(this._fallbackTimer);let t=this._position==="center";this._beforeCentering.emit(t),t&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_transitionDone(){this._position==="center"?this._onCentered.emit():this._previousPosition==="center"&&this._afterLeavingCenter.emit()}_setActiveClass(t){this._elementRef.nativeElement.classList.toggle("mat-mdc-tab-body-active",t)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(){return this._positionIndex===0}_computePositionAnimationState(t=this._getLayoutDirection()){this._previousPosition=this._position,this._positionIndex<0?this._position=t=="ltr"?"left":"right":this._positionIndex>0?this._position=t=="ltr"?"right":"left":this._position="center",this._animationsDisabled()?this._simulateTransitionEvents():this._initialized&&(this._position==="center"||this._previousPosition==="center")&&(clearTimeout(this._fallbackTimer),this._fallbackTimer=this._ngZone.runOutsideAngular(()=>setTimeout(()=>this._simulateTransitionEvents(),100)))}_simulateTransitionEvents(){this._transitionStarted(),$e(()=>this._transitionDone(),{injector:this._injector})}_animationsDisabled(){return this._diAnimationsDisabled||this.animationDuration==="0ms"||this.animationDuration==="0s"}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=ft({type:i,selectors:[["mat-tab-body"]],viewQuery:function(e,a){if(e&1&&jt(Aa,5)(ro,5),e&2){let c;ut(c=gt())&&(a._portalHost=c.first),ut(c=gt())&&(a._contentElement=c.first)}},hostAttrs:[1,"mat-mdc-tab-body"],hostVars:1,hostBindings:function(e,a){e&2&&re("inert",a._position==="center"?null:"")},inputs:{_content:[0,"content","_content"],animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(e,a){e&1&&(d(0,"div",1,0),Ji(2,so,0,0,"ng-template",2),u()),e&2&&yt("mat-tab-body-content-left",a._position==="left")("mat-tab-body-content-right",a._position==="right")("mat-tab-body-content-can-animate",a._position==="center"||a._previousPosition==="center")},dependencies:[Aa,ra],styles:[`.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto;transform:none;visibility:hidden}.mat-tab-body-animating>.mat-mdc-tab-body-content,.mat-mdc-tab-body-active>.mat-mdc-tab-body-content{visibility:visible}.mat-tab-body-animating>.mat-mdc-tab-body-content{min-height:1px}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-tab-body-content-can-animate{transition:transform var(--mat-tab-animation-duration) 1ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable .mat-tab-body-content-can-animate{transition:none}.mat-tab-body-content-left{transform:translate3d(-100%, 0, 0)}.mat-tab-body-content-right{transform:translate3d(100%, 0, 0)}
`],encapsulation:2})}return i})(),za=(()=>{class i{_elementRef=Z(de);_changeDetectorRef=Z(ce);_ngZone=Z(qt);_tabsSubscription=qe.EMPTY;_tabLabelSubscription=qe.EMPTY;_tabBodySubscription=qe.EMPTY;_diAnimationsDisabled=Ue();_allTabs;_tabBodies;_tabBodyWrapper;_tabHeader;_tabs=new kn;_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;color;get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(t){this._fitInkBarToContent=t,this._changeDetectorRef.markForCheck()}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=isNaN(t)?null:t}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration}set animationDuration(t){let e=t+"";this._animationDuration=/^\d+$/.test(e)?t+"ms":e}_animationDuration;get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=isNaN(t)?null:t}_contentTabIndex=null;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor}set backgroundColor(t){let e=this._elementRef.nativeElement.classList;e.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),t&&e.add("mat-tabs-with-background",`mat-background-${t}`),this._backgroundColor=t}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new Vt;focusChange=new Vt;animationDone=new Vt;selectedTabChange=new Vt(!0);_groupId;_isServer=!Z(si).isBrowser;constructor(){let t=Z(Po,{optional:!0});this._groupId=Z(ia).getId("mat-tab-group-"),this.animationDuration=t&&t.animationDuration?t.animationDuration:"500ms",this.disablePagination=t&&t.disablePagination!=null?t.disablePagination:!1,this.dynamicHeight=t&&t.dynamicHeight!=null?t.dynamicHeight:!1,t?.contentTabIndex!=null&&(this.contentTabIndex=t.contentTabIndex),this.preserveContent=!!t?.preserveContent,this.fitInkBarToContent=t&&t.fitInkBarToContent!=null?t.fitInkBarToContent:!1,this.stretchTabs=t&&t.stretchTabs!=null?t.stretchTabs:!0,this.alignTabs=t&&t.alignTabs!=null?t.alignTabs:null}ngAfterContentChecked(){let t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){let e=this._selectedIndex==null;if(!e){this.selectedTabChange.emit(this._createChangeEvent(t));let a=this._tabBodyWrapper.nativeElement;a.style.minHeight=a.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((a,c)=>a.isActive=c===t),e||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((e,a)=>{e.position=a-t,this._selectedIndex!=null&&e.position==0&&!e.origin&&(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let t=this._clampTabIndex(this._indexToSelect);if(t===this._selectedIndex){let e=this._tabs.toArray(),a;for(let c=0;c<e.length;c++)if(e[c].isActive){this._indexToSelect=this._selectedIndex=c,this._lastFocusedTabIndex=null,a=e[c];break}!a&&e[t]&&Promise.resolve().then(()=>{e[t].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(t))})}this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._tabBodySubscription=this._tabBodies.changes.subscribe(()=>this._bodyCentered(!0))}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Ci(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(e=>e._closestTabGroup===this||!e._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe(),this._tabBodySubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(t){let e=this._tabHeader;e&&(e.focusIndex=t)}_focusChanged(t){this._lastFocusedTabIndex=t,this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){let e=new mn;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=vi(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t,e){return t.id||`${this._groupId}-label-${e}`}_getTabContentId(t){return`${this._groupId}-content-${t}`}_setTabBodyWrapperHeight(t){if(!this.dynamicHeight||!this._tabBodyWrapperHeight){this._tabBodyWrapperHeight=t;return}let e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}_removeTabBodyWrapperHeight(){let t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this._ngZone.run(()=>this.animationDone.emit())}_handleClick(t,e,a){e.focusIndex=a,t.disabled||(this.selectedIndex=a)}_getTabIndex(t){let e=this._lastFocusedTabIndex??this.selectedIndex;return t===e?0:-1}_tabFocusChanged(t,e){t&&t!=="mouse"&&t!=="touch"&&(this._tabHeader.focusIndex=e)}_bodyCentered(t){t&&this._tabBodies?.forEach((e,a)=>e._setActiveClass(a===this._selectedIndex))}_animationsDisabled(){return this._diAnimationsDisabled||this.animationDuration==="0"||this.animationDuration==="0ms"}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=ft({type:i,selectors:[["mat-tab-group"]],contentQueries:function(e,a,c){if(e&1&&Di(c,un,5),e&2){let y;ut(y=gt())&&(a._allTabs=y)}},viewQuery:function(e,a){if(e&1&&jt(lo,5)(co,5)(cn,5),e&2){let c;ut(c=gt())&&(a._tabBodyWrapper=c.first),ut(c=gt())&&(a._tabHeader=c.first),ut(c=gt())&&(a._tabBodies=c)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(e,a){e&2&&(re("mat-align-tabs",a.alignTabs),Ye("mat-"+(a.color||"primary")),Ln("--mat-tab-animation-duration",a.animationDuration),yt("mat-mdc-tab-group-dynamic-height",a.dynamicHeight)("mat-mdc-tab-group-inverted-header",a.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",a.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",Ut],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",Ut],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",Ut],selectedIndex:[2,"selectedIndex","selectedIndex",Ri],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",Ri],disablePagination:[2,"disablePagination","disablePagination",Ut],disableRipple:[2,"disableRipple","disableRipple",Ut],preserveContent:[2,"preserveContent","preserveContent",Ut],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[ri([{provide:Fa,useExisting:i}])],ngContentSelectors:pn,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","class","content","position","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","_beforeCentering","id","content","position","animationDuration","preserveContent"]],template:function(e,a){if(e&1){let c=dt();Ti(),d(0,"mat-tab-header",3,0),E("indexFocused",function(z){return N(c),B(a._focusChanged(z))})("selectFocusedIndex",function(z){return N(c),B(a.selectedIndex=z)}),ct(2,go,8,17,"div",4,$t),u(),R(4,bo,1,0),d(5,"div",5,1),ct(7,fo,1,10,"mat-tab-body",6,$t),u()}e&2&&(L("selectedIndex",a.selectedIndex||0)("disableRipple",a.disableRipple)("disablePagination",a.disablePagination),En("aria-label",a.ariaLabel)("aria-labelledby",a.ariaLabelledby),s(2),mt(a._tabs),s(2),F(a._isServer?4:-1),s(),yt("_mat-animation-noopable",a._animationsDisabled()),s(2),mt(a._tabs))},dependencies:[Io,La,Xn,rn,an,cn],styles:[`.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1;touch-action:manipulation}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mat-tab-container-height, 48px);font-family:var(--mat-tab-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mat-tab-active-indicator-height, 2px);border-radius:var(--mat-tab-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-disabled-ripple-color, var(--mat-sys-on-surface-variant))}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}
`],encapsulation:2})}return i})(),mn=class{index;tab};var Na=(()=>{class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=Si({type:i});static \u0275inj=xi({imports:[zi]})}return i})();var To=["tooltip"],ko=20;var Do=new Se("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let i=Z(Ze);return()=>pa(i,{scrollThrottle:ko})}}),Eo=new Se("mat-tooltip-default-options",{providedIn:"root",factory:()=>({showDelay:0,hideDelay:0,touchendHideDelay:1500})});var Ba="tooltip-panel",Ao={passive:!0},Ro=8,Fo=8,Lo=24,zo=200,gn=(()=>{class i{_elementRef=Z(de);_ngZone=Z(qt);_platform=Z(si);_ariaDescriber=Z(aa);_focusMonitor=Z(nn);_dir=Z(li);_injector=Z(Ze);_viewContainerRef=Z(Pi);_mediaMatcher=Z(Jn);_document=Z(On);_renderer=Z(ii);_animationsDisabled=Ue();_defaultOptions=Z(Eo,{optional:!0});_overlayRef=null;_tooltipInstance=null;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=Va;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending=!1;_dirSubscribed=!1;get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=on(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){let e=on(t);this._disabled!==e&&(this._disabled=e,e?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=en(t)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=en(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(t){let e=this._message;this._message=t!=null?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(e)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_eventCleanups=[];_touchstartTimeout=null;_destroyed=new je;_isDestroyed=!1;constructor(){let t=this._defaultOptions;t&&(this._showDelay=t.showDelay,this._hideDelay=t.hideDelay,t.position&&(this.position=t.position),t.positionAtOrigin&&(this.positionAtOrigin=t.positionAtOrigin),t.touchGestures&&(this.touchGestures=t.touchGestures),t.tooltipClass&&(this.tooltipClass=t.tooltipClass)),this._viewportMargin=Ro}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Bt(this._destroyed)).subscribe(t=>{t?t==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let t=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._eventCleanups.forEach(e=>e()),this._eventCleanups.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,e){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let a=this._createOverlay(e);this._detach(),this._portal=this._portal||new da(this._tooltipComponent,this._viewContainerRef);let c=this._tooltipInstance=a.attach(this._portal).instance;c._triggerElement=this._elementRef.nativeElement,c._mouseLeaveHideDelay=this._hideDelay,c.afterHidden().pipe(Bt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),c.show(t)}hide(t=this.hideDelay){let e=this._tooltipInstance;e&&(e.isVisible()?e.hide(t):(e._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){let y=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&y._origin instanceof de)return this._overlayRef;this._detach()}let e=this._injector.get(oa).getAncestorScrollContainers(this._elementRef),a=`${this._cssClassPrefix}-${Ba}`,c=ua(this._injector,this.positionAtOrigin?t||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e).withPopoverLocation("global");return c.positionChanges.pipe(Bt(this._destroyed)).subscribe(y=>{this._updateCurrentPositionClass(y.connectionPair),this._tooltipInstance&&y.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=ga(this._injector,{direction:this._dir,positionStrategy:c,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,a]:a,scrollStrategy:this._injector.get(Do)(),disableAnimations:this._animationsDisabled}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Bt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Bt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Bt(this._destroyed)).subscribe(y=>{this._isTooltipVisible()&&y.keyCode===27&&!Li(y)&&(y.preventDefault(),y.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(Bt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){let e=t.getConfig().positionStrategy,a=this._getOrigin(),c=this._getOverlayPosition();e.withPositions([this._addOffset(Pe(Pe({},a.main),c.main)),this._addOffset(Pe(Pe({},a.fallback),c.fallback))])}_addOffset(t){let e=Fo,a=!this._dir||this._dir.value=="ltr";return t.originY==="top"?t.offsetY=-e:t.originY==="bottom"?t.offsetY=e:t.originX==="start"?t.offsetX=a?-e:e:t.originX==="end"&&(t.offsetX=a?e:-e),t}_getOrigin(){let t=!this._dir||this._dir.value=="ltr",e=this.position,a;e=="above"||e=="below"?a={originX:"center",originY:e=="above"?"top":"bottom"}:e=="before"||e=="left"&&t||e=="right"&&!t?a={originX:"start",originY:"center"}:(e=="after"||e=="right"&&t||e=="left"&&!t)&&(a={originX:"end",originY:"center"});let{x:c,y}=this._invertPosition(a.originX,a.originY);return{main:a,fallback:{originX:c,originY:y}}}_getOverlayPosition(){let t=!this._dir||this._dir.value=="ltr",e=this.position,a;e=="above"?a={overlayX:"center",overlayY:"bottom"}:e=="below"?a={overlayX:"center",overlayY:"top"}:e=="before"||e=="left"&&t||e=="right"&&!t?a={overlayX:"end",overlayY:"center"}:(e=="after"||e=="right"&&t||e=="left"&&!t)&&(a={overlayX:"start",overlayY:"center"});let{x:c,y}=this._invertPosition(a.overlayX,a.overlayY);return{main:a,fallback:{overlayX:c,overlayY:y}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),$e(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t instanceof Set?Array.from(t):t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return this.position==="above"||this.position==="below"?e==="top"?e="bottom":e==="bottom"&&(e="top"):t==="end"?t="start":t==="start"&&(t="end"),{x:t,y:e}}_updateCurrentPositionClass(t){let{overlayY:e,originX:a,originY:c}=t,y;if(e==="center"?this._dir&&this._dir.value==="rtl"?y=a==="end"?"left":"right":y=a==="start"?"left":"right":y=e==="bottom"&&c==="top"?"above":"below",y!==this._currentPosition){let z=this._overlayRef;if(z){let bt=`${this._cssClassPrefix}-${Ba}-`;z.removePanelClass(bt+this._currentPosition),z.addPanelClass(bt+y)}this._currentPosition=y}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._eventCleanups.length||(this._isTouchPlatform()?this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._addListener("touchstart",t=>{let e=t.targetTouches?.[0],a=e?{x:e.clientX,y:e.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let c=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,a)},this._defaultOptions?.touchLongPressShowDelay??c)})):this._addListener("mouseenter",t=>{this._setupPointerExitEventsIfNeeded();let e;t.x!==void 0&&t.y!==void 0&&(e=t),this.show(void 0,e)}))}_setupPointerExitEventsIfNeeded(){if(!this._pointerExitEventsInitialized){if(this._pointerExitEventsInitialized=!0,!this._isTouchPlatform())this._addListener("mouseleave",t=>{let e=t.relatedTarget;(!e||!this._overlayRef?.overlayElement.contains(e))&&this.hide()}),this._addListener("wheel",t=>{if(this._isTooltipVisible()){let e=this._document.elementFromPoint(t.clientX,t.clientY),a=this._elementRef.nativeElement;e!==a&&!a.contains(e)&&this.hide()}});else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let t=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};this._addListener("touchend",t),this._addListener("touchcancel",t)}}}_addListener(t,e){this._eventCleanups.push(this._renderer.listen(this._elementRef.nativeElement,t,e,Ao))}_isTouchPlatform(){return this._platform.IOS||this._platform.ANDROID?!0:this._platform.isBrowser?!!this._defaultOptions?.detectHoverCapability&&this._mediaMatcher.matchMedia("(any-hover: none)").matches:!1}_disableNativeGesturesIfNecessary(){let t=this.touchGestures;if(t!=="off"){let e=this._elementRef.nativeElement,a=e.style;(t==="on"||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA")&&(a.userSelect=a.msUserSelect=a.webkitUserSelect=a.MozUserSelect="none"),(t==="on"||!e.draggable)&&(a.webkitUserDrag="none"),a.touchAction="none",a.webkitTapHighlightColor="transparent"}}_syncAriaDescription(t){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,t,"tooltip"),this._isDestroyed||$e({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(e){return new(e||i)};static \u0275dir=Oe({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(e,a){e&2&&yt("mat-mdc-tooltip-disabled",a.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return i})(),Va=(()=>{class i{_changeDetectorRef=Z(ce);_elementRef=Z(de);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=Ue();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new je;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(t){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>Lo&&t.width>=zo}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){let e=this._tooltip.nativeElement,a=this._showAnimation,c=this._hideAnimation;if(e.classList.remove(t?c:a),e.classList.add(t?a:c),this._isVisible!==t&&(this._isVisible=t,this._changeDetectorRef.markForCheck()),t&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let y=getComputedStyle(e);(y.getPropertyValue("animation-duration")==="0s"||y.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(e.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=ft({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(e,a){if(e&1&&jt(To,7),e&2){let c;ut(c=gt())&&(a._tooltip=c.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(e,a){e&1&&E("mouseleave",function(y){return a._handleMouseLeave(y)})},decls:4,vars:5,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(e,a){if(e&1){let c=dt();tn(0,"div",1,0),Fn("animationend",function(z){return N(c),B(a._handleAnimationEnd(z))}),tn(2,"div",2),b(3),Rn()()}e&2&&(Ye(a.tooltipClass),yt("mdc-tooltip--multiline",a._isMultiline),s(3),M(a.message))},styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return i})();var qa=(()=>{class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=Si({type:i});static \u0275inj=xi({imports:[ea,ba,zi,la]})}return i})();function Bo(i,n){if(i&1&&(d(0,"mat-error"),b(1),u()),i&2){let t=x(2);s(),M(t.ts.t("admin.availStartRequired"))}}function Vo(i,n){if(i&1&&(d(0,"mat-error"),b(1),u()),i&2){let t=x(2);s(),M(t.ts.t("admin.availStartInvalid"))}}function qo(i,n){if(i&1&&(d(0,"mat-error"),b(1),u()),i&2){let t=x(2);s(),M(t.ts.t("admin.availStartInPast"))}}function jo(i,n){if(i&1&&(d(0,"mat-error"),b(1),u()),i&2){let t=x(2);s(),M(t.ts.t("admin.availEndInvalid"))}}function $o(i,n){if(i&1&&(d(0,"mat-error"),b(1),u()),i&2){let t=x(2);s(),M(t.ts.t("admin.availEndAfterStart"))}}function Uo(i,n){if(i&1&&(d(0,"mat-error"),b(1),u()),i&2){let t=x(2);s(),M(t.ts.t("admin.availMinDuration"))}}function Go(i,n){if(i&1&&(d(0,"mat-error"),b(1),u()),i&2){let t=x(2);s(),M(t.ts.t("admin.availDescWhitespace"))}}function Ho(i,n){if(i&1&&(d(0,"div",12),b(1),u()),i&2){let t=x(2);s(),M(t.ts.t("admin.availOverlap"))}}function Qo(i,n){if(i&1){let t=dt();d(0,"div",4)(1,"mat-form-field",5)(2,"mat-label"),b(3),u(),d(4,"input",6),E("change",function(){let a=N(t).$implicit,c=x();return B(c.onStartChange(c.asGroup(a)))}),u(),R(5,Bo,2,1,"mat-error")(6,Vo,2,1,"mat-error")(7,qo,2,1,"mat-error"),u(),d(8,"mat-form-field",7)(9,"mat-label"),b(10),u(),d(11,"input",8),E("change",function(){N(t);let a=x();return B(a.onFieldChange())}),u(),R(12,jo,2,1,"mat-error")(13,$o,2,1,"mat-error")(14,Uo,2,1,"mat-error"),u(),d(15,"mat-form-field",9)(16,"mat-label"),b(17),u(),d(18,"input",10),E("input",function(){N(t);let a=x();return B(a.onFieldChange())}),u(),R(19,Go,2,1,"mat-error"),u(),d(20,"button",11),E("click",function(){let a=N(t).$index,c=x();return B(c.removeRow(a))}),d(21,"mat-icon"),b(22,"delete"),u()(),R(23,Ho,2,1,"div",12),u()}if(i&2){let t,e,a,c,y=n.$implicit,z=x();L("formGroup",z.asGroup(y)),s(3),M(z.ts.t("admin.availStartAt")),s(),L("disabled",z.disabled),s(),F(!((t=z.asGroup(y).get("start_at"))==null||t.errors==null)&&t.errors.required&&((t=z.asGroup(y).get("start_at"))!=null&&t.dirty)?5:!((t=z.asGroup(y).get("start_at"))==null||t.errors==null)&&t.errors.invalidDate&&((t=z.asGroup(y).get("start_at"))!=null&&t.dirty)?6:!((t=z.asGroup(y).get("start_at"))==null||t.errors==null)&&t.errors.startInPast&&((t=z.asGroup(y).get("start_at"))!=null&&t.dirty)?7:-1),s(5),M(z.ts.t("admin.availEndAt")),s(),L("disabled",z.disabled),s(),F(!((e=z.asGroup(y).get("end_at"))==null||e.errors==null)&&e.errors.invalidDate&&((e=z.asGroup(y).get("end_at"))!=null&&e.dirty)?12:!((e=z.asGroup(y).get("end_at"))==null||e.errors==null)&&e.errors.endBeforeStart&&((e=z.asGroup(y).get("end_at"))!=null&&e.dirty)?13:!((e=z.asGroup(y).get("end_at"))==null||e.errors==null)&&e.errors.minDuration&&((e=z.asGroup(y).get("end_at"))!=null&&e.dirty)?14:-1),s(5),M(z.ts.t("admin.availDesc")),s(),L("disabled",z.disabled),s(),F(!((a=z.asGroup(y).get("description"))==null||a.errors==null)&&a.errors.pattern&&((a=z.asGroup(y).get("description"))!=null&&a.dirty)?19:-1),s(),L("disabled",z.disabled),s(3),F((c=z.asGroup(y).errors)!=null&&c.overlap&&z.asGroup(y).dirty?23:-1)}}function bn(i){let n=new Date(i);return!isNaN(n.getTime())}function Wo(i){if(!i.value)return null;if(!bn(i.value))return{invalidDate:!0};let n=new Date;return n.setSeconds(0,0),new Date(i.value)<n?{startInPast:!0}:null}function Zo(i){return n=>{if(!n.value)return null;if(!bn(n.value))return{invalidDate:!0};let t=i();if(!t)return null;let e=t.get("start_at")?.value;if(!e)return null;let a=new Date(e),c=new Date(n.value);return c<=a?{endBeforeStart:!0}:c.getTime()-a.getTime()<3600*1e3?{minDuration:!0}:null}}function Yo(i){let n=i.controls;n.forEach(c=>{let y=Pe({},c.errors);delete y.overlap,c.setErrors(Object.keys(y).length?y:null)});let t=1/0,e=c=>c&&bn(c)?new Date(c).getTime():null,a=!1;for(let c=0;c<n.length;c++)for(let y=c+1;y<n.length;y++){let z=n[c],bt=n[y],xt=e(z.get("start_at")?.value),Pt=e(z.get("end_at")?.value)??t,wt=e(bt.get("start_at")?.value),J=e(bt.get("end_at")?.value)??t;xt===null||wt===null||xt<J&&wt<Pt&&(z.setErrors(Ki(Pe({},z.errors??{}),{overlap:!0})),bt.setErrors(Ki(Pe({},bt.errors??{}),{overlap:!0})),a=!0)}return a?{overlap:!0}:null}var ke=class i{constructor(n){this.ts=n}availabilities=[];disabled=!1;availabilitiesChange=new Vt;rows=new Hn([],{validators:Yo});ngOnChanges(n){if(n.availabilities){let t=n.availabilities.previousValue??[],e=n.availabilities.currentValue??[],a=t.map(y=>y.id).filter(Boolean).sort().join(","),c=e.map(y=>y.id).filter(Boolean).sort().join(",");if(a!==c){this.rows.clear();for(let y of e)this.rows.push(this.buildRow(y))}}}buildRow(n){let t=new me({id:new pt(n?.id),start_at:new pt(n?this.toDatetimeLocal(n.start_at):"",[W.required,Wo]),end_at:new pt(n?.end_at?this.toDatetimeLocal(n.end_at):""),description:new pt(n?.description??"",[W.maxLength(255),W.pattern(/.*\S.*/)])});return t.get("end_at").addValidators(Zo(()=>t)),t}addRow(){this.rows.push(this.buildRow()),this.emit()}removeRow(n){this.rows.removeAt(n),this.emit()}onStartChange(n){n.get("end_at")?.updateValueAndValidity(),this.rows.updateValueAndValidity(),this.emit()}onFieldChange(){this.rows.updateValueAndValidity(),this.emit()}asGroup(n){return n}emit(){let n=this.rows.controls.map(t=>{let a=t.value;return{id:a.id??void 0,start_at:a.start_at?new Date(a.start_at).toISOString():"",end_at:a.end_at?new Date(a.end_at).toISOString():null,description:a.description||null}});this.availabilitiesChange.emit(n)}toDatetimeLocal(n){if(!n)return"";let t=new Date(n),e=a=>String(a).padStart(2,"0");return`${t.getFullYear()}-${e(t.getMonth()+1)}-${e(t.getDate())}T${e(t.getHours())}:${e(t.getMinutes())}`}markAllDirty(){this.rows.controls.forEach(n=>{n.markAsDirty(),Object.values(n.controls).forEach(t=>t.markAsDirty()),n.updateValueAndValidity()}),this.rows.updateValueAndValidity()}get isValid(){return this.rows.valid}static \u0275fac=function(t){return new(t||i)(K(Et))};static \u0275cmp=ft({type:i,selectors:[["app-availability-list"]],inputs:{availabilities:"availabilities",disabled:"disabled"},outputs:{availabilitiesChange:"availabilitiesChange"},features:[yi],decls:9,vars:2,consts:[[1,"avail-header"],[1,"avail-label"],["type","button","mat-mini-fab","",1,"btn-add-avail",3,"click","disabled"],[1,"avail-rows"],[1,"avail-row",3,"formGroup"],["appearance","outline",1,"avail-start"],["matInput","","type","datetime-local","formControlName","start_at",3,"change","disabled"],["appearance","outline",1,"avail-end"],["matInput","","type","datetime-local","formControlName","end_at",3,"change","disabled"],["appearance","outline",1,"avail-desc"],["matInput","","formControlName","description","maxlength","255",3,"input","disabled"],["type","button","mat-icon-button","",1,"btn-remove-avail",3,"click","disabled"],[1,"avail-overlap-error"]],template:function(t,e){t&1&&(d(0,"div",0)(1,"span",1),b(2),u(),d(3,"button",2),E("click",function(){return e.addRow()}),d(4,"mat-icon"),b(5,"add"),u()()(),d(6,"div",3),ct(7,Qo,24,12,"div",4,An),u()),t&2&&(s(2),M(e.ts.t("admin.availabilities")),s(),L("disabled",e.disabled),s(4),mt(e.rows.controls))},dependencies:[be,Ht,Qt,Wt,Zn,ge,ue,Tt,ee,zt,Dt,kt,Xt,Yt,Zt,fe,Jt,Kt],styles:[".avail-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-top:1rem;margin-bottom:.5rem}.avail-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:var(--mat-sys-on-surface, #333)}.btn-add-avail[_ngcontent-%COMP%]{width:32px;height:32px;min-width:32px;line-height:32px;background-color:var(--mat-sys-primary, #c86d3f);color:var(--mat-sys-on-primary, #fff)}.btn-add-avail[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;line-height:18px;width:18px;height:18px}.avail-rows[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.avail-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.5rem;flex-wrap:wrap;background-color:var(--clay, #f3ede4);border-radius:8px;padding:.75rem .75rem 0}.avail-start[_ngcontent-%COMP%], .avail-end[_ngcontent-%COMP%]{flex:1 1 220px;min-width:210px}.avail-desc[_ngcontent-%COMP%]{flex:2 1 200px;min-width:160px}.btn-remove-avail[_ngcontent-%COMP%]{margin-top:.35rem;flex-shrink:0;color:#1b1a1773!important}.btn-remove-avail[_ngcontent-%COMP%]:hover{color:var(--rust, #8a3f24)!important}.avail-overlap-error[_ngcontent-%COMP%]{width:100%;font-size:.75rem;color:var(--mat-sys-error, #b00020);padding:0 .25rem .5rem}"]})};var $a=Xa(ja());var Be=class i{constructor(n){this.api=n}base(n,t){return`/api/${n}/${t}/availabilities`}getAvailabilities(n,t){return this.api.get(this.base(n,t)).pipe(Ot(e=>e.data))}createAvailability(n,t,e){return this.api.post(this.base(n,t),{availability:e}).pipe(Ot(a=>a.data))}updateAvailability(n,t,e,a){return this.api.put(`${this.base(n,t)}/${e}`,{availability:a}).pipe(Ot(c=>c.data))}deleteAvailability(n,t,e){return this.api.delete(`${this.base(n,t)}/${e}`).pipe(Ot(()=>{}))}syncAvailabilities(n,t,e,a,c){let y=n.filter(J=>!J.id),z=J=>J?new Date(J).getTime():null,bt=n.filter(J=>{if(!J.id)return!1;let at=t.find(At=>At.id===J.id);return at?z(at.start_at)!==z(J.start_at)||z(at.end_at)!==z(J.end_at)||(at.description??null)!==(J.description??null):!1}),xt=new Set(n.filter(J=>J.id).map(J=>J.id)),Pt=t.filter(J=>!xt.has(J.id)),wt=[...y.map(J=>e({start_at:J.start_at,end_at:J.end_at,description:J.description})),...bt.map(J=>a(J.id,{start_at:J.start_at,end_at:J.end_at,description:J.description})),...Pt.map(J=>c(J.id))];return wt.length>0?yn(wt):_i(null)}static \u0275fac=function(t){return new(t||i)(Ae(Gt))};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})};var Xo=["createAvailList"],Ko=["editAvailList"],Jo=(i,n)=>n.id;function tr(i,n){if(i&1&&(d(0,"mat-option",16),b(1),u()),i&2){let t=n.$implicit;L("value",t),s(),M(t)}}function er(i,n){if(i&1&&(d(0,"mat-option",16),b(1),u()),i&2){let t=n.$implicit;L("value",t),s(),M(t)}}function ir(i,n){if(i&1&&(d(0,"mat-option",16),b(1),u()),i&2){let t=n.$implicit;L("value",t),s(),M(t)}}function nr(i,n){if(i&1&&(d(0,"div",21)(1,"div",26),b(2,"QR Preview"),u(),it(3,"div",27),d(4,"div",28)(5,"code",29),b(6),u()()()),i&2){let t=x();s(6),M(t.getPreviewUrl())}}function ar(i,n){i&1&&(d(0,"div",22),it(1,"mat-spinner",30),u())}function or(i,n){if(i&1&&(d(0,"div",23),b(1),u()),i&2){let t=x();s(),M(t.ts.t("tables.noTables"))}}function rr(i,n){if(i&1&&(d(0,"span",35),b(1),u()),i&2){let t=x(2);s(),M(t.ts.t("admin.unavailable"))}}function sr(i,n){if(i&1){let t=dt();d(0,"mat-card",31)(1,"div",32)(2,"div",33)(3,"div",34),b(4),R(5,rr,2,1,"span",35),u(),d(6,"div",36)(7,"mat-chip-set")(8,"mat-chip",37),b(9),u(),d(10,"mat-chip"),b(11),u()()()()(),d(12,"div",28)(13,"code",29),b(14),u()(),d(15,"mat-card-actions",38)(16,"button",39),E("click",function(){let a=N(t).$implicit,c=x();return B(c.markCleaned(a))}),d(17,"mat-icon"),b(18),u(),b(19),u(),d(20,"button",40),E("click",function(){let a=N(t).$implicit,c=x();return B(c.copyUrl(a))}),d(21,"mat-icon"),b(22),u(),b(23),u(),d(24,"button",40),E("click",function(){let a=N(t).$implicit,c=x();return B(c.downloadQr(a,"svg"))}),d(25,"mat-icon"),b(26,"download"),u(),b(27," SVG "),u(),d(28,"button",40),E("click",function(){let a=N(t).$implicit,c=x();return B(c.downloadQr(a,"png"))}),d(29,"mat-icon"),b(30,"download"),u(),b(31," PNG "),u(),d(32,"button",41),E("click",function(){let a=N(t).$implicit,c=x();return B(c.startEdit(a))}),d(33,"mat-icon"),b(34,"edit"),u()(),d(35,"button",42),E("click",function(){let a=N(t).$implicit,c=x();return B(c.askDelete(a))}),d(36,"mat-icon"),b(37,"delete"),u()()()()}if(i&2){let t=n.$implicit,e=x();yt("unavailable",e.unavailableIds().has(t.id)),s(4),$(" Table #",t.number," "),s(),F(e.unavailableIds().has(t.id)?5:-1),s(4),oi("",t.capacity," ",e.ts.t("tables.seats")),s(),yt("chip-available",t.status==="available")("chip-occupied",t.status==="occupied"),s(),$(" ",t.status==="available"?e.ts.t("tables.available"):t.status==="occupied"?e.ts.t("tables.occupied"):t.status," "),s(3),M(e.getTableUrl(t)),s(2),L("matTooltip","Marquer comme nettoy\xE9e")("disabled",e.cleaningTableId()===t.id),s(2),M(e.cleaningTableId()===t.id?"hourglass_top":"cleaning_services"),s(),$(" ",e.cleaningTableId()===t.id?"Nettoyage...":"Table nettoy\xE9e"," "),s(),L("matTooltip",e.ts.t("tables.copyLink")),s(2),M(e.copiedToken()===t.qr_token?"check":"content_copy"),s(),$(" ",e.copiedToken()===t.qr_token?e.ts.t("tables.copied"):e.ts.t("tables.copy")," "),s(),L("matTooltip",e.ts.t("tables.downloadSvg")),s(4),L("matTooltip",e.ts.t("tables.downloadPng")),s(4),L("matTooltip",e.ts.t("tables.edit")),s(3),L("matTooltip",e.ts.t("tables.delete"))}}function lr(i,n){if(i&1){let t=dt();d(0,"div",25)(1,"mat-card",43)(2,"button",44),E("click",function(){N(t);let a=x();return B(a.cancelDelete())}),d(3,"mat-icon"),b(4,"close"),u()(),d(5,"mat-card-header")(6,"mat-card-title",45),b(7),u()(),d(8,"mat-card-content")(9,"p",46),b(10),d(11,"strong"),b(12),u(),b(13," ?"),u()(),d(14,"mat-card-actions",47)(15,"button",48),E("click",function(){N(t);let a=x();return B(a.cancelDelete())}),b(16),u(),d(17,"button",49),E("click",function(){N(t);let a=x();return B(a.confirmDeleteAction())}),b(18),u()()()()}if(i&2){let t=x();s(7),M(t.ts.t("tables.deleteTitle")),s(3),$("",t.ts.t("tables.deleteConfirm")," "),s(2),$("#",t.getTableNumberById(t.confirmDeleteId()??0)),s(4),M(t.ts.t("tables.cancel")),s(),L("disabled",t.deletingTableId()!==null),s(),$(" ",t.deletingTableId()!==null?t.ts.t("tables.deleting"):t.ts.t("tables.delete")," ")}}function dr(i,n){if(i&1&&(d(0,"div",51),b(1),u()),i&2){let t=x(2);s(),M(t.editErrorMessage())}}function cr(i,n){if(i&1){let t=dt();d(0,"div",25)(1,"mat-card",50)(2,"button",44),E("click",function(){N(t);let a=x();return B(a.cancelEdit())}),d(3,"mat-icon"),b(4,"close"),u()(),d(5,"mat-card-header")(6,"mat-card-title",45),b(7),u()(),d(8,"mat-card-content"),R(9,dr,2,1,"div",51),d(10,"mat-form-field",52)(11,"mat-label"),b(12),u(),d(13,"input",53),E("ngModelChange",function(a){N(t);let c=x();return B(c.editNumber.set(a===""?null:+a))}),u()(),d(14,"mat-form-field",52)(15,"mat-label"),b(16),u(),d(17,"input",54),E("ngModelChange",function(a){N(t);let c=x();return B(c.editCapacity.set(a===""?null:+a))}),u()(),d(18,"app-availability-list",55,0),E("availabilitiesChange",function(a){N(t);let c=x();return B(c.editAvailabilities.set(a))}),u()(),d(20,"mat-card-actions",47)(21,"button",48),E("click",function(){N(t);let a=x();return B(a.cancelEdit())}),b(22),u(),d(23,"button",56),E("click",function(){N(t);let a=x();return B(a.saveEdit())}),b(24),u()()()()}if(i&2){let t=x();s(7),M(t.ts.t("tables.editTitle")),s(2),F(t.editErrorMessage()?9:-1),s(3),M(t.ts.t("tables.number")),s(),L("ngModel",t.editNumber()),s(3),M(t.ts.t("tables.capacity")),s(),L("ngModel",t.editCapacity()),s(),L("availabilities",t.editAvailabilities())("disabled",t.isUpdating()),s(4),M(t.ts.t("tables.cancel")),s(),L("disabled",t.isUpdating()||t.editNumber()===null||t.editCapacity()===null),s(),$(" ",t.isUpdating()?t.ts.t("tables.saving"):t.ts.t("tables.save")," ")}}function mr(i,n){if(i&1&&(d(0,"div",51),b(1),u()),i&2){let t=x(2);s(),M(t.errorMessage())}}function pr(i,n){if(i&1){let t=dt();d(0,"div",25)(1,"mat-card",50)(2,"button",44),E("click",function(){N(t);let a=x();return B(a.cancelCreate())}),d(3,"mat-icon"),b(4,"close"),u()(),d(5,"mat-card-header")(6,"mat-card-title",45),b(7),u()(),d(8,"mat-card-content"),R(9,mr,2,1,"div",51),d(10,"form",57),E("ngSubmit",function(){N(t);let a=x();return B(a.createTable())}),d(11,"mat-form-field",52)(12,"mat-label"),b(13),u(),d(14,"input",58),E("ngModelChange",function(a){N(t);let c=x();return B(c.newTableNumber.set(a===""?null:+a))}),u()(),d(15,"mat-form-field",52)(16,"mat-label"),b(17),u(),d(18,"input",59),E("ngModelChange",function(a){N(t);let c=x();return B(c.newTableCapacity.set(a===""?4:+a))}),u()(),d(19,"app-availability-list",55,1),E("availabilitiesChange",function(a){N(t);let c=x();return B(c.createAvailabilities.set(a))}),u(),d(21,"mat-card-actions",47)(22,"button",60),E("click",function(){N(t);let a=x();return B(a.cancelCreate())}),b(23),u(),d(24,"button",61),b(25),u()()()()()()}if(i&2){let t=x();s(7),M(t.ts.t("tables.addTable")),s(2),F(t.errorMessage()?9:-1),s(4),M(t.ts.t("tables.number")),s(),L("ngModel",t.newTableNumber()),s(3),M(t.ts.t("tables.capacity")),s(),L("ngModel",t.newTableCapacity()),s(),L("availabilities",t.createAvailabilities())("disabled",t.isCreating()),s(4),M(t.ts.t("tables.cancel")),s(),L("disabled",t.isCreating()||t.newTableNumber()===null),s(),$(" ",t.isCreating()?t.ts.t("tables.creating"):t.ts.t("tables.create")," ")}}var Vi=class i{constructor(n,t,e,a,c){this.apiService=n;this.availabilityService=t;this.cdr=e;this.ngZone=a;this.ts=c;this.ngZone.runOutsideAngular(()=>{this.nowInterval=setInterval(()=>{this.ngZone.run(()=>this.now.set(Date.now()))},6e4)})}createAvailList;editAvailList;tables=V([]);isLoading=V(!0);copiedToken=V(null);now=V(Date.now());nowInterval;unavailableIds=Te(()=>{let n=this.now();return new Set(this.tables().filter(t=>!t.availabilities||t.availabilities.length===0?!1:!t.availabilities.some(e=>{let a=new Date(e.start_at).getTime(),c=e.end_at?new Date(e.end_at).getTime():1/0;return a<=n&&n<c})).map(t=>t.id))});ngOnDestroy(){clearInterval(this.nowInterval)}isCreateModalOpen=V(!1);newTableNumber=V(null);newTableCapacity=V(4);isCreating=V(!1);errorMessage=V(null);createAvailabilities=V([]);editingTableId=V(null);editNumber=V(null);editCapacity=V(null);isUpdating=V(!1);editErrorMessage=V(null);editAvailabilities=V([]);originalEditAvailabilities=[];deletingTableId=V(null);confirmDeleteId=V(null);cleaningTableId=V(null);qrDotType=V("rounded");qrDotColor=V("#8a3f24");qrBgColor=V("#fbf8f2");qrCornerSquareType=V("extra-rounded");qrCornerDotType=V("dot");qrCornerColor=V("#1b1a17");qrSize=250;dotTypes=["square","dots","rounded","classy","classy-rounded","extra-rounded"];cornerSquareTypes=["square","dot","extra-rounded"];cornerDotTypes=["square","dot"];previewUrl=Te(()=>{let n=this.tables()[0];return n?this.getTableUrl(n):""});previewVersion=V(0);lastRenderedPreviewVersion=-1;previewEffect=Tn(()=>{this.previewUrl(),this.qrDotType(),this.qrDotColor(),this.qrBgColor(),this.qrCornerSquareType(),this.qrCornerDotType(),this.qrCornerColor(),this.previewVersion.update(n=>n+1)},{allowSignalWrites:!0});ngOnInit(){this.loadTables()}ngAfterViewChecked(){let n=this.previewVersion();if(n===this.lastRenderedPreviewVersion)return;this.renderPreviewQr()&&(this.lastRenderedPreviewVersion=n)}loadTables(){this.isLoading.set(!0),this.apiService.get("/api/tables").subscribe({next:n=>{this.ngZone.run(()=>{n.success&&n.data?(this.tables.set(n.data),this.isLoading.set(!1),this.cdr.detectChanges()):(this.isLoading.set(!1),this.cdr.detectChanges())})},error:()=>{this.ngZone.run(()=>{this.isLoading.set(!1),this.cdr.detectChanges()})}})}getTableUrl(n){return`${window.location.origin.replace(/\/+$/,"")}/table/${n.qr_token}`}getPreviewUrl(){return this.previewUrl()}createQrCode(n){return new $a.default({width:this.qrSize,height:this.qrSize,type:"canvas",data:n,margin:8,dotsOptions:{color:this.qrDotColor(),type:this.qrDotType()},backgroundOptions:{color:this.qrBgColor()},cornersSquareOptions:{type:this.qrCornerSquareType(),color:this.qrCornerColor()},cornersDotOptions:{type:this.qrCornerDotType(),color:this.qrCornerColor()},qrOptions:{errorCorrectionLevel:"M"}})}renderPreviewQr(){let n=document.getElementById("qr-preview");if(!n)return!1;n.innerHTML="";let t=this.getPreviewUrl();return t?(this.createQrCode(t).append(n),!0):!1}onStyleDropdownToggle(n){n.target.open&&this.previewVersion.update(e=>e+1)}downloadQr(n,t){let e=`restoqr-table-${n.number}.${t}`;this.createQrCode(this.getTableUrl(n)).getRawData(t).then(c=>{c&&this.triggerDownload(c,e)})}markCleaned(n){this.cleaningTableId.set(n.id),this.apiService.put(`/api/tables/${n.id}/mark_cleaned`,{cleaned_at:new Date().toISOString()}).subscribe({next:t=>{if(this.cleaningTableId.set(null),!t.success||!t.data){alert(t.errors?.[0]||"Erreur lors du nettoyage de la table.");return}this.tables.update(e=>e.map(a=>a.id===n.id?t.data:a))},error:t=>{this.cleaningTableId.set(null),alert(t?.errors?.[0]||"Erreur lors du nettoyage de la table.")}})}triggerDownload(n,t){let e=URL.createObjectURL(n),a=document.createElement("a");a.href=e,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(e)}copyUrl(n){let t=this.getTableUrl(n);navigator.clipboard.writeText(t).then(()=>{this.copiedToken.set(n.qr_token),setTimeout(()=>{this.copiedToken.set(null)},2e3)})}createTable(){let n=this.newTableNumber();n!=null&&(this.createAvailList?.isValid??!0)&&(this.isCreating.set(!0),this.errorMessage.set(null),this.apiService.post("/api/tables",{table:{number:n,nb_seats:this.newTableCapacity()}}).subscribe({next:t=>{if(t.success&&t.data){let e=t.data;this.syncTableAvailabilities(e.id,this.createAvailabilities(),[]).subscribe({next:()=>{this.isCreating.set(!1),this.cancelCreate(),this.loadTables()},error:()=>{this.isCreating.set(!1),this.cancelCreate(),this.loadTables()}})}else this.isCreating.set(!1)},error:t=>{this.isCreating.set(!1),this.errorMessage.set(t?.errors?.[0]||this.ts.t("tables.createError"))}}))}openCreate(){this.isCreateModalOpen.set(!0),this.newTableNumber.set(null),this.newTableCapacity.set(4),this.errorMessage.set(null),this.createAvailabilities.set([])}cancelCreate(){this.isCreateModalOpen.set(!1),this.newTableNumber.set(null),this.newTableCapacity.set(4),this.errorMessage.set(null),this.createAvailabilities.set([])}startEdit(n){this.editingTableId.set(n.id),this.editNumber.set(n.number),this.editCapacity.set(n.capacity),this.editErrorMessage.set(null),this.editAvailabilities.set([]),this.originalEditAvailabilities=[],this.availabilityService.getAvailabilities("tables",n.id).subscribe({next:t=>{this.originalEditAvailabilities=t,this.editAvailabilities.set([...t])}})}cancelEdit(){this.editingTableId.set(null),this.editNumber.set(null),this.editCapacity.set(null),this.editErrorMessage.set(null),this.editAvailabilities.set([]),this.originalEditAvailabilities=[]}saveEdit(){let n=this.editingTableId(),t=this.editNumber(),e=this.editCapacity();n==null||t==null||e==null||(this.editAvailList?.isValid??!0)&&(this.isUpdating.set(!0),this.editErrorMessage.set(null),this.apiService.put(`/api/tables/${n}`,{table:{number:t,nb_seats:e}}).subscribe({next:a=>{a.success?this.syncTableAvailabilities(n,this.editAvailabilities(),this.originalEditAvailabilities).subscribe({next:()=>{this.isUpdating.set(!1),this.cancelEdit(),this.loadTables()},error:()=>{this.isUpdating.set(!1),this.cancelEdit(),this.loadTables()}}):this.isUpdating.set(!1)},error:a=>{this.isUpdating.set(!1),this.editErrorMessage.set(a?.errors?.[0]||this.ts.t("tables.editError"))}}))}syncTableAvailabilities(n,t,e){return this.availabilityService.syncAvailabilities(t,e,a=>this.availabilityService.createAvailability("tables",n,a),(a,c)=>this.availabilityService.updateAvailability("tables",n,a,c),a=>this.availabilityService.deleteAvailability("tables",n,a))}askDelete(n){this.confirmDeleteId.set(n.id)}cancelDelete(){this.confirmDeleteId.set(null)}confirmDelete(n){this.deletingTableId.set(n.id),this.apiService.delete(`/api/tables/${n.id}`).subscribe({next:()=>{this.deletingTableId.set(null),this.confirmDeleteId.set(null),this.loadTables()},error:t=>{this.deletingTableId.set(null),this.confirmDeleteId.set(null),alert(t?.errors?.[0]||this.ts.t("tables.deleteError"))}})}getTableNumberById(n){let t=this.tables().find(e=>e.id===n);return t?t.number:0}confirmDeleteAction(){let n=this.confirmDeleteId();if(n==null)return;let t=this.tables().find(e=>e.id===n);t&&this.confirmDelete(t)}static \u0275fac=function(t){return new(t||i)(K(Gt),K(Be),K(ce),K(qt),K(Et))};static \u0275cmp=ft({type:i,selectors:[["app-admin-tables"]],viewQuery:function(t,e){if(t&1&&jt(Xo,5)(Ko,5),t&2){let a;ut(a=gt())&&(e.createAvailList=a.first),ut(a=gt())&&(e.editAvailList=a.first)}},decls:65,vars:25,consts:[["editAvailList",""],["createAvailList",""],[1,"page-admin"],[1,"outer-container"],[1,"welcome-header"],[1,"welcome-title"],["mat-mini-fab","",1,"btn-add",3,"click","title"],[1,"welcome-text"],[1,"style-card"],[1,"style-dropdown",3,"toggle"],[1,"section-title","section-summary"],[1,"section-icon"],[1,"style-content"],[1,"style-grid"],["appearance","outline"],[3,"ngModelChange","ngModel"],[3,"value"],[1,"color-field"],[1,"color-label"],[1,"color-row"],["type","color",3,"ngModelChange","ngModel"],[1,"preview-panel"],[1,"loading"],[1,"empty"],[1,"table-card",3,"unavailable"],[1,"modal-overlay"],[1,"preview-title"],["id","qr-preview",1,"qr-container","qr-preview"],[1,"table-url"],[1,"url-text"],["diameter","48"],[1,"table-card"],[1,"table-top-row"],[1,"table-info"],[1,"table-number"],[1,"unavailable-badge"],[1,"table-meta"],["highlighted","",1,"chip-capacity"],[1,"table-actions"],["mat-stroked-button","",3,"click","matTooltip","disabled"],["mat-stroked-button","",3,"click","matTooltip"],["mat-icon-button","",1,"action-edit",3,"click","matTooltip"],["mat-icon-button","",1,"action-delete",3,"click","matTooltip"],[1,"modal"],["mat-icon-button","",1,"modal-close",3,"click"],[1,"modal-title"],[1,"modal-text"],[1,"modal-actions"],["mat-stroked-button","",1,"btn-cancel",3,"click"],["mat-flat-button","",1,"btn-danger",3,"click","disabled"],[1,"modal","modal-edit"],[1,"modal-error"],["appearance","outline",1,"field-full"],["matInput","","type","number","min","1",3,"ngModelChange","ngModel"],["matInput","","type","number","min","1","max","20",3,"ngModelChange","ngModel"],[3,"availabilitiesChange","availabilities","disabled"],["mat-flat-button","",1,"btn-primary",3,"click","disabled"],[3,"ngSubmit"],["matInput","","type","number","min","1","placeholder","Ex: 11","name","number","required","",3,"ngModelChange","ngModel"],["matInput","","type","number","min","1","max","20","name","capacity","required","",3,"ngModelChange","ngModel"],["mat-stroked-button","","type","button",1,"btn-cancel",3,"click"],["mat-flat-button","","type","submit",1,"btn-primary",3,"disabled"]],template:function(t,e){t&1&&(d(0,"main",2)(1,"div",3)(2,"div",4)(3,"h2",5),b(4),d(5,"button",6),E("click",function(){return e.openCreate()}),d(6,"mat-icon"),b(7,"add"),u()()(),d(8,"p",7),b(9),u()(),d(10,"mat-card",8)(11,"details",9),E("toggle",function(c){return e.onStyleDropdownToggle(c)}),d(12,"summary",10)(13,"mat-icon",11),b(14,"palette"),u(),b(15),u(),d(16,"div",12)(17,"div",13)(18,"mat-form-field",14)(19,"mat-label"),b(20),u(),d(21,"mat-select",15),E("ngModelChange",function(c){return e.qrDotType.set(c)}),ct(22,tr,2,2,"mat-option",16,$t),u()(),d(24,"div",17)(25,"label",18),b(26),u(),d(27,"div",19)(28,"input",20),E("ngModelChange",function(c){return e.qrDotColor.set(c)}),u(),d(29,"code"),b(30),u()()(),d(31,"mat-form-field",14)(32,"mat-label"),b(33),u(),d(34,"mat-select",15),E("ngModelChange",function(c){return e.qrCornerSquareType.set(c)}),ct(35,er,2,2,"mat-option",16,$t),u()(),d(37,"mat-form-field",14)(38,"mat-label"),b(39),u(),d(40,"mat-select",15),E("ngModelChange",function(c){return e.qrCornerDotType.set(c)}),ct(41,ir,2,2,"mat-option",16,$t),u()(),d(43,"div",17)(44,"label",18),b(45),u(),d(46,"div",19)(47,"input",20),E("ngModelChange",function(c){return e.qrCornerColor.set(c)}),u(),d(48,"code"),b(49),u()()(),d(50,"div",17)(51,"label",18),b(52),u(),d(53,"div",19)(54,"input",20),E("ngModelChange",function(c){return e.qrBgColor.set(c)}),u(),d(55,"code"),b(56),u()()()(),R(57,nr,7,1,"div",21),u()()(),R(58,ar,2,0,"div",22),R(59,or,2,1,"div",23),ct(60,sr,38,23,"mat-card",24,Jo),u()(),R(62,lr,19,6,"div",25),R(63,cr,25,11,"div",25),R(64,pr,26,11,"div",25)),t&2&&(s(4),$(" ",e.ts.t("tables.title")," "),s(),L("title",e.ts.t("tables.addTable")),s(4),M(e.ts.t("tables.subtitle")),s(6),$(" ",e.ts.t("tables.qrStyle")," "),s(5),M(e.ts.t("tables.dotPattern")),s(),L("ngModel",e.qrDotType()),s(),mt(e.dotTypes),s(4),M(e.ts.t("tables.dotColor")),s(2),L("ngModel",e.qrDotColor()),s(2),M(e.qrDotColor()),s(3),M(e.ts.t("tables.cornerSquare")),s(),L("ngModel",e.qrCornerSquareType()),s(),mt(e.cornerSquareTypes),s(4),M(e.ts.t("tables.cornerDot")),s(),L("ngModel",e.qrCornerDotType()),s(),mt(e.cornerDotTypes),s(4),M(e.ts.t("tables.cornerColor")),s(2),L("ngModel",e.qrCornerColor()),s(2),M(e.qrCornerColor()),s(3),M(e.ts.t("tables.bgColor")),s(2),L("ngModel",e.qrBgColor()),s(2),M(e.qrBgColor()),s(),F(!e.isLoading()&&e.tables().length>0?57:-1),s(),F(e.isLoading()?58:-1),s(),F(!e.isLoading()&&e.tables().length===0?59:-1),s(),mt(e.tables()),s(2),F(e.confirmDeleteId()!==null?62:-1),s(),F(e.editingTableId()!==null?63:-1),s(),F(e.isCreateModalOpen()?64:-1))},dependencies:[Lt,Yn,pe,Ht,Re,Qt,Wt,Wn,Xe,Qn,Gn,Un,xe,he,Ce,ve,Ne,_e,Tt,te,ee,zt,Dt,kt,Xt,Yt,Zt,Jt,Kt,ze,Le,Fe,ne,ie,qa,gn,Ta,Sa,Oa,ke],styles:['@import"https://fonts.googleapis.com/css2?family=Fraunces:wght@500;700&family=Space+Grotesk:wght@400;500;600&display=swap";[_nghost-%COMP%]{--ink: #1b1a17;--clay: #f3ede4;--sand: #fbf8f2;--copper: #c86d3f;--rust: #8a3f24;--sage: #7a8f6a;--shadow: 0 25px 60px rgba(27, 26, 23, .18);display:block;min-height:100vh;overflow-x:clip;overflow-y:visible;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);color:var(--ink);font-family:Space Grotesk,Segoe UI,sans-serif}[_nghost-%COMP%]:before, [_nghost-%COMP%]:after{content:"";position:fixed;inset:auto auto 8% -10%;width:320px;height:320px;background:conic-gradient(from 120deg,#c86d3f26,#7a8f6a26);border-radius:50%;filter:blur(10px);z-index:0}[_nghost-%COMP%]:after{inset:-5% -10% auto auto;width:280px;height:280px;background:radial-gradient(circle,rgba(200,109,63,.2),transparent 70%)}.page[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:minmax(280px,560px);justify-content:center;align-items:start;padding:1rem clamp(1rem,3vw,3rem) 1.5rem}.site-header[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;align-items:center;justify-content:space-between;padding:1rem clamp(1rem,3vw,3rem);background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff}.brand[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;letter-spacing:.3rem;text-transform:uppercase;color:#fff}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.panel[_ngcontent-%COMP%]{background:var(--sand);border-radius:24px;padding:1.5rem 2rem;box-shadow:var(--shadow);border:1px solid rgba(27,26,23,.08);animation:_ngcontent-%COMP%_float-in .8s ease forwards}.panel__header[_ngcontent-%COMP%]{display:grid;gap:.25rem;margin-bottom:1rem}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.2rem;font-size:.75rem;color:var(--rust);margin:0}h1[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:clamp(2rem,3vw,2.6rem);margin:0}.subtitle[_ngcontent-%COMP%]{margin:0;color:#1b1a17b3}.form[_ngcontent-%COMP%]{display:grid;gap:.75rem}.field[_ngcontent-%COMP%]{display:grid;gap:.25rem}label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border:1px solid rgba(27,26,23,.2);border-radius:12px;padding:.65rem .875rem;font-size:.95rem;background:#fff;transition:border-color .2s ease,box-shadow .2s ease}input[_ngcontent-%COMP%]:not([matInput]):focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--copper);box-shadow:0 0 0 3px #c86d3f33}.form__actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;margin-top:.5rem}button[_ngcontent-%COMP%]{border-radius:999px;padding:.65rem 1.5rem;font-size:.9rem;font-weight:600;cursor:pointer;border:none}.primary[_ngcontent-%COMP%]{background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff;box-shadow:0 12px 25px #8a3f2459}.ghost[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(27,26,23,.2);color:var(--ink)}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]{border-color:#fff6;color:#fff}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]:hover{background:#ffffff26}@keyframes _ngcontent-%COMP%_float-in{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media(max-width:900px){.page[_ngcontent-%COMP%]{min-height:auto}}@media(max-width:600px){.panel[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-radius:20px}.site-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.form__actions[_ngcontent-%COMP%]{flex-direction:column}button[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{font-size:1.75rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.95rem}}@media(max-width:400px){[_nghost-%COMP%]{overflow-x:clip;overflow-y:visible}.page[_ngcontent-%COMP%]{padding:1.5rem 1rem 3rem;grid-template-columns:1fr}.panel[_ngcontent-%COMP%]{padding:1.5rem 1rem;border-radius:16px}.site-header[_ngcontent-%COMP%]{padding:1rem 1rem 0}h1[_ngcontent-%COMP%]{font-size:1.5rem}.subtitle[_ngcontent-%COMP%]{font-size:.9rem}label[_ngcontent-%COMP%]{font-size:.875rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border-radius:10px;padding:.7rem .75rem;font-size:.9rem}button[_ngcontent-%COMP%]{padding:.7rem 1.2rem;font-size:.9rem}}.page-admin[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;flex-direction:column;align-items:center;min-height:calc(100vh - 60px);padding:2rem 1rem}.outer-container[_ngcontent-%COMP%]{max-width:700px;width:100%}.welcome-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;position:sticky;top:7.5rem;z-index:30;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);padding:.75rem 0 .5rem}.welcome-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:1.5rem;margin:0 0 .5rem;color:var(--rust);display:flex;align-items:center;justify-content:center;gap:.75rem}.btn-add[_ngcontent-%COMP%]{background:var(--copper)!important;color:#fff!important;width:36px!important;height:36px!important;padding:0!important;display:flex!important;align-items:center!important;justify-content:center!important}.btn-add[_ngcontent-%COMP%]:hover{opacity:.85}.welcome-text[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#1b1a17b3}.style-card[_ngcontent-%COMP%]{background:var(--sand)!important;border-radius:16px!important;padding:1.5rem!important;border:1px solid rgba(27,26,23,.1);margin-bottom:1rem;box-shadow:none!important}.style-dropdown[_ngcontent-%COMP%]{width:100%}.style-dropdown[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{list-style:none}.style-dropdown[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]::-webkit-details-marker{display:none}.section-summary[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:.5rem!important}.style-content[_ngcontent-%COMP%]{padding-top:.5rem}.section-title[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;gap:.5rem!important;font-family:Fraunces,Times New Roman,serif!important;color:var(--rust)!important;font-size:1.1rem!important;margin:0!important;padding:0!important}.section-icon[_ngcontent-%COMP%]{font-size:1.25rem!important;width:1.25rem!important;height:1.25rem!important;color:var(--rust)}.style-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0!important}.preview-panel[_ngcontent-%COMP%]{margin-top:1rem;border-top:1px solid rgba(27,26,23,.1);padding-top:1rem}.preview-title[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:#1b1a1799;margin-bottom:.5rem}.qr-preview[_ngcontent-%COMP%]{width:fit-content;margin-bottom:.75rem}.field-full[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem}.style-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;gap:.75rem;align-items:start}.color-field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.color-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;font-weight:600;margin-bottom:.3rem;color:#1b1a1799}.color-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.color-row[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%]{width:36px;height:30px;border:1px solid rgba(27,26,23,.2);border-radius:6px;padding:2px;cursor:pointer;background:#fff}.color-row[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:.75rem;color:#1b1a1799}.error-msg[_ngcontent-%COMP%]{margin-top:.75rem;color:#e74c3c;font-size:.85rem}.table-card[_ngcontent-%COMP%]{background:var(--sand)!important;border-radius:16px!important;padding:1.25rem!important;border:1px solid rgba(27,26,23,.1);margin-bottom:.75rem;box-shadow:none!important;transition:box-shadow .2s ease}.table-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #1b1a1714!important}.table-top-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem;margin-bottom:.75rem}.table-info[_ngcontent-%COMP%]{flex:1}.table-number[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:1.2rem;font-weight:700;color:var(--rust);margin-bottom:.5rem}.table-meta[_ngcontent-%COMP%]{display:flex;gap:.5rem}  .chip-capacity{background:#c86d3f26!important;color:var(--rust)!important;font-size:.75rem!important;min-height:26px!important;padding:0 10px!important}  .chip-available{background:#27ae6026!important;color:#27ae60!important;font-size:.75rem!important;min-height:26px!important;padding:0 10px!important}  .chip-occupied{background:#e74c3c26!important;color:#e74c3c!important;font-size:.75rem!important;min-height:26px!important;padding:0 10px!important}.qr-container[_ngcontent-%COMP%]{flex-shrink:0;border-radius:12px;overflow:hidden;border:1px solid rgba(27,26,23,.08);box-shadow:0 2px 8px #0000000f}.table-url[_ngcontent-%COMP%]{margin-bottom:.75rem}.url-text[_ngcontent-%COMP%]{display:block;background:#1b1a170d;border:1px solid rgba(27,26,23,.1);border-radius:8px;padding:.5rem .75rem;font-size:.7rem;word-break:break-all;color:#1b1a17cc;font-family:monospace}.table-actions[_ngcontent-%COMP%]{display:flex!important;gap:.5rem;padding:0!important;margin:0!important;flex-wrap:wrap}.table-actions[_ngcontent-%COMP%]   button[mat-stroked-button][_ngcontent-%COMP%]{border-radius:8px!important;font-size:.78rem!important;font-weight:500!important;border-color:#1b1a1726!important;color:var(--ink)!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.table-actions[_ngcontent-%COMP%]   button[mat-stroked-button][_ngcontent-%COMP%]:hover{background:var(--rust)!important;color:#fff!important;border-color:var(--rust)!important}.table-actions[_ngcontent-%COMP%]   button[mat-stroked-button][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px!important;width:16px!important;height:16px!important;margin-right:2px}.action-edit[_ngcontent-%COMP%]{color:#1b1a1773!important}.action-edit[_ngcontent-%COMP%]:hover{color:#2980b9!important}.action-delete[_ngcontent-%COMP%]{color:#1b1a1773!important}.action-delete[_ngcontent-%COMP%]:hover{color:#e74c3c!important}.table-card.unavailable[_ngcontent-%COMP%]{background:#f5f5f5!important;border-color:#1b1a170d!important;opacity:.75}.table-card.unavailable[_ngcontent-%COMP%]   .table-number[_ngcontent-%COMP%], .table-card.unavailable[_ngcontent-%COMP%]   .url-text[_ngcontent-%COMP%]{color:#1b1a1759!important}.unavailable-badge[_ngcontent-%COMP%]{display:inline-block;background:#0000008c;color:#fff;font-size:.65rem;font-weight:600;letter-spacing:.05em;text-transform:uppercase;font-family:Space Grotesk,Segoe UI,sans-serif;border-radius:6px;padding:.15rem .5rem;vertical-align:middle;margin-left:.5rem}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:3rem}.empty[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#1b1a1780}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0006;display:flex;align-items:center;justify-content:center;z-index:100}.modal[_ngcontent-%COMP%]{position:relative;background:var(--sand)!important;border-radius:16px!important;padding:1.5rem!important;max-width:400px;width:90%;box-shadow:0 12px 40px #00000026!important;max-height:90vh;overflow-y:auto}.modal-close[_ngcontent-%COMP%]{position:sticky!important;top:0;float:right;margin-left:auto;z-index:10;width:36px!important;height:36px!important;padding:0!important;border-radius:50%!important;background:#fff!important;border:1px solid rgba(27,26,23,.1)!important;display:flex!important;align-items:center!important;justify-content:center!important;color:var(--ink)!important}.modal-close[_ngcontent-%COMP%]:hover{background:var(--clay)!important}.modal[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:0!important;margin:0!important}.modal-edit[_ngcontent-%COMP%]{max-width:420px}.modal-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif!important;font-size:1.25rem!important;margin:0 0 .75rem!important;color:var(--ink)!important;padding:0!important}.modal-text[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:.9rem;color:#1b1a17b3}.modal[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0!important}.modal-error[_ngcontent-%COMP%]{background:#dc35451a;color:#dc3545;padding:.5rem .75rem;border-radius:8px;font-size:.85rem;margin-bottom:1rem}  .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__leading,   .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__notch,   .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__trailing{border-color:#1b1a1740!important;border-width:1px!important}  .modal-edit .mat-mdc-form-field.mat-focused .mat-mdc-floating-label{color:#1b1a1799!important}.modal-actions[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-end;gap:.75rem;margin:1rem 0 0!important;padding:0!important}.btn-cancel[_ngcontent-%COMP%]{border-radius:10px!important;color:var(--ink)!important;border-color:#1b1a1726!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-cancel[_ngcontent-%COMP%]:hover{background:#1b1a170a!important}.btn-danger[_ngcontent-%COMP%]{border-radius:10px!important;background:var(--rust)!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-danger[_ngcontent-%COMP%]:hover{opacity:.9}.btn-primary[_ngcontent-%COMP%]{border-radius:10px!important;background:var(--copper)!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-primary[_ngcontent-%COMP%]:hover{opacity:.9}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6!important;cursor:not-allowed}@media(max-width:500px){.welcome-header[_ngcontent-%COMP%]{top:6.25rem}}@media(max-width:500px){.style-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.form-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.btn-create[_ngcontent-%COMP%]{height:auto}.table-top-row[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.table-actions[_ngcontent-%COMP%]{flex-direction:column}.table-info[_ngcontent-%COMP%]{text-align:center}.table-meta[_ngcontent-%COMP%]{justify-content:center}}']})};var ye=class i{fromApiError(n){return{type:"server",messages:n?.errors?.length?n.errors:["Une erreur est survenue"]}}imageError(n,t){let e={format:"admin.imageFormat",size:"admin.imageSize",required:"admin.imageRequired"};return{type:"image",messages:[t.t(e[n])]}}format(n){return n.messages.join(", ")}static \u0275fac=function(t){return new(t||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})};var gr=(i,n)=>n.id;function br(i,n){if(i&1&&(d(0,"div",3),b(1),u()),i&2){let t=x();s(),M(t.error())}}function fr(i,n){if(i&1&&b(0),i&2){let t=x(2);$(" ",t.ts.t("admin.nameRequired")," ")}}function hr(i,n){if(i&1&&b(0),i&2){let t=x(2);$(" ",t.ts.t("admin.nameMaxLength")," ")}}function _r(i,n){if(i&1&&b(0),i&2){let t=x(2);$(" ",t.ts.t("admin.nameWhitespace")," ")}}function vr(i,n){if(i&1&&(d(0,"mat-error"),R(1,fr,1,1)(2,hr,1,1)(3,_r,1,1),u()),i&2){let t=x();s(),F(t.form.controls.name.errors.required?1:t.form.controls.name.errors.maxlength?2:t.form.controls.name.errors.pattern?3:-1)}}function Cr(i,n){if(i&1&&b(0),i&2){let t=x(2);$(" ",t.ts.t("admin.descMaxLength")," ")}}function xr(i,n){if(i&1&&b(0),i&2){let t=x(2);$(" ",t.ts.t("admin.descWhitespace")," ")}}function yr(i,n){if(i&1&&(d(0,"mat-error"),R(1,Cr,1,1)(2,xr,1,1),u()),i&2){let t=x();s(),F(t.form.controls.description.errors.maxlength?1:t.form.controls.description.errors.pattern?2:-1)}}function wr(i,n){if(i&1&&b(0),i&2){let t=x(2);$(" ",t.ts.t("admin.priceRequired")," ")}}function Mr(i,n){if(i&1&&b(0),i&2){let t=x(2);$(" ",t.ts.t("admin.priceMin")," ")}}function Ir(i,n){if(i&1&&b(0),i&2){let t=x(2);$(" ",t.ts.t("admin.priceMax")," ")}}function Pr(i,n){if(i&1&&(d(0,"mat-error"),R(1,wr,1,1)(2,Mr,1,1)(3,Ir,1,1),u()),i&2){let t=x();s(),F(t.form.controls.price.errors.required?1:t.form.controls.price.errors.min?2:t.form.controls.price.errors.max?3:-1)}}function Sr(i,n){if(i&1&&(d(0,"mat-option",10),b(1),u()),i&2){let t=n.$implicit;L("value",t.id),s(),M(t.name)}}function Or(i,n){if(i&1&&(d(0,"mat-error"),b(1),u()),i&2){let t=x();s(),M(t.ts.t("admin.categoryRequired"))}}function Tr(i,n){if(i&1&&(d(0,"div",13),it(1,"img",22),u()),i&2){let t=x();s(),L("src",t.imagePreview(),Mi)}}function kr(i,n){if(i&1&&(d(0,"mat-error",16),b(1),u()),i&2){let t=x();s(),M(t.imageError())}}function Dr(i,n){i&1&&it(0,"mat-spinner",21)}var gi=class i{constructor(n,t,e,a,c,y){this.dialogRef=n;this.data=t;this.itemsService=e;this.ts=a;this.errorService=c;this.availabilityService=y;this.isCreating=t.item===null,this.categories=t.categories,t.item?(this.form.patchValue({name:t.item.name,description:t.item.description,price:t.item.price,category_id:t.item.category_id}),this.imagePreview.set(t.item.image_url||null),this.availabilityService.getAvailabilities("items",t.item.id).subscribe({next:z=>{this.originalAvailabilities=z,this.availabilities.set(z)}})):this.form.reset({name:"",description:"",price:0,category_id:t.categories[0]?.id??0})}isCreating;categories;form=new me({name:new pt("",[W.required,W.maxLength(100),W.pattern(/.*\S.*/)]),description:new pt("",[W.maxLength(255),W.pattern(/.*\S.*/)]),price:new pt(0,[W.required,W.min(0),W.max(9999.99)]),category_id:new pt(0,[W.required])});image=null;imagePreview=V(null);imageError=V("");error=V("");loading=V(!1);availabilityList;availabilities=V([]);originalAvailabilities=[];onImageSelected(n){let t=n.target,e=t.files?.[0];if(!e)return;if(!["image/jpeg","image/png"].includes(e.type)){this.imageError.set(this.errorService.format(this.errorService.imageError("format",this.ts))),t.value="";return}let c=5*1024*1024;if(e.size>c){this.imageError.set(this.errorService.format(this.errorService.imageError("size",this.ts))),t.value="";return}this.imageError.set(""),this.image=e;let y=new FileReader;y.onload=()=>this.imagePreview.set(y.result),y.readAsDataURL(e)}save(){if(Object.values(this.form.controls).forEach(t=>t.markAsDirty()),this.availabilityList?.markAllDirty(),this.isCreating&&!this.image&&!this.imageError()&&this.imageError.set(this.errorService.format(this.errorService.imageError("required",this.ts))),this.form.invalid||this.imageError()||!(this.availabilityList?.isValid??!0))return;this.loading.set(!0),this.error.set("");let n=this.form.value;if(this.isCreating){let t={name:n.name,description:n.description??"",price:n.price,category_id:n.category_id};this.image&&(t.image=this.image),this.itemsService.createItem(t).subscribe({next:e=>{this.syncAvailabilities(e.id).subscribe({next:()=>{this.loading.set(!1),this.dialogRef.close({created:e})},error:a=>{this.error.set(this.errorService.format(this.errorService.fromApiError(a))),this.loading.set(!1)}})},error:e=>{this.error.set(this.errorService.format(this.errorService.fromApiError(e))),this.loading.set(!1)}})}else{let t={name:n.name,description:n.description??"",price:n.price,category_id:n.category_id};this.image&&(t.image=this.image),this.itemsService.updateItem(this.data.item.id,t).subscribe({next:e=>{this.syncAvailabilities(e.id).subscribe({next:()=>{this.loading.set(!1),this.dialogRef.close({updated:e})},error:a=>{this.error.set(this.errorService.format(this.errorService.fromApiError(a))),this.loading.set(!1)}})},error:e=>{this.error.set(this.errorService.format(this.errorService.fromApiError(e))),this.loading.set(!1)}})}}syncAvailabilities(n){return this.availabilityService.syncAvailabilities(this.availabilities(),this.originalAvailabilities,t=>this.availabilityService.createAvailability("items",n,t),(t,e)=>this.availabilityService.updateAvailability("items",n,t,e),t=>this.availabilityService.deleteAvailability("items",n,t))}static \u0275fac=function(t){return new(t||i)(K(fa),K(ha),K(Ke),K(Et),K(ye),K(Be))};static \u0275cmp=ft({type:i,selectors:[["app-item-form-dialog"]],viewQuery:function(t,e){if(t&1&&jt(ke,5),t&2){let a;ut(a=gt())&&(e.availabilityList=a.first)}},decls:49,vars:21,consts:[["fileInput",""],["mat-dialog-title","",1,"dialog-title"],["mat-icon-button","","mat-dialog-close","",1,"modal-close"],[1,"dialog-error"],["id","itemForm",3,"ngSubmit","formGroup"],["appearance","outline",1,"field-full"],["matInput","","formControlName","name"],["matInput","","formControlName","description","rows","3"],["matInput","","type","number","formControlName","price","step","0.01"],["formControlName","category_id"],[3,"value"],[1,"image-field"],[1,"image-label"],[1,"image-preview"],["type","file","accept","image/jpeg,image/png",1,"file-input-hidden",3,"change"],["type","button",1,"file-btn",3,"click"],[1,"image-error"],[3,"availabilitiesChange","availabilities","disabled"],["align","end"],["mat-stroked-button","","mat-dialog-close","",1,"btn-cancel"],["mat-flat-button","","type","submit","form","itemForm",1,"btn-primary",3,"disabled"],["diameter","18",1,"btn-spinner"],["alt","Aper\xE7u",3,"src"]],template:function(t,e){if(t&1){let a=dt();d(0,"h2",1)(1,"span"),b(2),u(),d(3,"button",2)(4,"mat-icon"),b(5,"close"),u()()(),d(6,"mat-dialog-content"),R(7,br,2,1,"div",3),d(8,"form",4),E("ngSubmit",function(){return N(a),B(e.save())}),d(9,"mat-form-field",5)(10,"mat-label"),b(11),u(),it(12,"input",6),R(13,vr,4,1,"mat-error"),u(),d(14,"mat-form-field",5)(15,"mat-label"),b(16),u(),it(17,"textarea",7),R(18,yr,3,1,"mat-error"),u(),d(19,"mat-form-field",5)(20,"mat-label"),b(21),u(),it(22,"input",8),R(23,Pr,4,1,"mat-error"),u(),d(24,"mat-form-field",5)(25,"mat-label"),b(26),u(),d(27,"mat-select",9),ct(28,Sr,2,2,"mat-option",10,gr),u(),R(30,Or,2,1,"mat-error"),u(),d(31,"div",11)(32,"label",12),b(33),u(),R(34,Tr,2,1,"div",13),d(35,"input",14,0),E("change",function(y){return N(a),B(e.onImageSelected(y))}),u(),d(37,"button",15),E("click",function(){N(a);let y=ai(36);return B(y.click())}),d(38,"mat-icon"),b(39,"upload"),u(),b(40),u(),R(41,kr,2,1,"mat-error",16),u()(),d(42,"app-availability-list",17),E("availabilitiesChange",function(y){return N(a),B(e.availabilities.set(y))}),u()(),d(43,"mat-dialog-actions",18)(44,"button",19),b(45),u(),d(46,"button",20),R(47,Dr,1,0,"mat-spinner",21),b(48),u()()}t&2&&(s(2),M(e.isCreating?e.ts.t("admin.addItem"):e.ts.t("admin.editItem")),s(5),F(e.error()?7:-1),s(),L("formGroup",e.form),s(3),M(e.ts.t("admin.name")),s(2),F(e.form.controls.name.dirty&&e.form.controls.name.errors?13:-1),s(3),M(e.ts.t("admin.description")),s(2),F(e.form.controls.description.dirty&&e.form.controls.description.errors?18:-1),s(3),M(e.ts.t("admin.price")),s(2),F(e.form.controls.price.dirty&&e.form.controls.price.errors?23:-1),s(3),M(e.ts.t("admin.category")),s(2),mt(e.categories),s(2),F(e.form.controls.category_id.dirty&&e.form.controls.category_id.errors?30:-1),s(3),M(e.ts.t("admin.image")),s(),F(e.imagePreview()?34:-1),s(6),$(" ",e.ts.t("admin.chooseFile")," "),s(),F(e.imageError()?41:-1),s(),L("availabilities",e.availabilities())("disabled",e.loading()),s(3),M(e.ts.t("admin.cancel")),s(),L("disabled",e.loading()||e.form.invalid),s(),F(e.loading()?47:-1),s(),$(" ",e.loading()?e.ts.t("admin.saving"):e.isCreating?e.ts.t("admin.add"):e.ts.t("admin.save")," "))},dependencies:[Lt,be,pe,Ht,Re,Qt,Wt,ge,ue,Ni,va,Ca,ya,xa,Tt,te,zt,Dt,kt,Xt,Yt,Zt,fe,Jt,Kt,ze,Le,Fe,ne,ie,ke],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.dialog-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:0;padding:0}.modal-close[_ngcontent-%COMP%]{width:36px!important;height:36px!important;padding:0!important;border-radius:50%!important;background:#fff!important;border:1px solid rgba(27,26,23,.1)!important;display:flex!important;align-items:center!important;justify-content:center!important;color:#1b1a17!important}.modal-close[_ngcontent-%COMP%]:hover{background:#f3ede4!important}.file-input-hidden[_ngcontent-%COMP%]{display:none}mat-dialog-actions[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;overflow:hidden}.btn-cancel[_ngcontent-%COMP%]{border-radius:10px!important;color:#1b1a17!important;border-color:#1b1a1726!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-cancel[_ngcontent-%COMP%]:hover{background:#1b1a170a!important}.btn-primary[_ngcontent-%COMP%]{border-radius:10px!important;background:#c86d3f!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-primary[_ngcontent-%COMP%]:hover{opacity:.9}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6!important;cursor:not-allowed}.file-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;border-radius:10px;border:1px solid rgba(27,26,23,.15);background:#fff;color:#1b1a17;font-family:Space Grotesk,Segoe UI,sans-serif;font-size:.875rem;font-weight:500;padding:.45rem 1rem;cursor:pointer;margin-top:.5rem}.file-btn[_ngcontent-%COMP%]:hover{background:#1b1a170a}.image-preview[_ngcontent-%COMP%]{margin-bottom:.75rem}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:80px;object-fit:cover;display:block;border-radius:8px}"]})};var Er=(i,n)=>n.id;function Ar(i,n){if(i&1&&(d(0,"div",6),b(1),u()),i&2){let t=x();s(),M(t.loadError())}}function Rr(i,n){if(i&1&&(d(0,"div",6),b(1),u()),i&2){let t=x();s(),M(t.actionError())}}function Fr(i,n){i&1&&(d(0,"div",7),it(1,"mat-spinner",10),u())}function Lr(i,n){if(i&1&&(d(0,"div",8),b(1),u()),i&2){let t=x();s(),M(t.ts.t("admin.noItems"))}}function zr(i,n){if(i&1&&it(0,"img",14),i&2){let t=x().$implicit;L("src",t.image_url,Mi)("alt",t.name)}}function Nr(i,n){i&1&&it(0,"div",15)}function Br(i,n){if(i&1&&(d(0,"div",16),b(1),u()),i&2){let t=x(3);s(),M(t.ts.t("admin.archived"))}}function Vr(i,n){if(i&1&&(d(0,"div",17),b(1),u()),i&2){let t=x(3);s(),M(t.ts.t("admin.unavailable"))}}function qr(i,n){if(i&1){let t=dt();d(0,"button",25),E("click",function(){N(t);let a=x().$implicit,c=x(2);return B(c.confirmRestore(a))}),d(1,"mat-icon"),b(2,"unarchive"),u()()}if(i&2){let t=x(3);L("title",t.ts.t("admin.restoreBtn"))}}function jr(i,n){if(i&1){let t=dt();d(0,"button",26),E("click",function(){N(t);let a=x().$implicit,c=x(2);return B(c.openEdit(a))}),d(1,"mat-icon"),b(2,"edit"),u()(),d(3,"button",27),E("click",function(){N(t);let a=x().$implicit,c=x(2);return B(c.confirmDelete(a))}),d(4,"mat-icon"),b(5,"delete"),u()()}if(i&2){let t=x(3);L("title",t.ts.t("admin.editBtn")),s(3),L("title",t.ts.t("admin.deleteBtn"))}}function $r(i,n){if(i&1&&(d(0,"mat-card",12)(1,"div",13),R(2,zr,1,2,"img",14)(3,Nr,1,0,"div",15),R(4,Br,2,1,"div",16)(5,Vr,2,1,"div",17),u(),d(6,"mat-card-content",18)(7,"mat-card-title",19),b(8),u(),d(9,"mat-card-subtitle",20),b(10),u(),d(11,"span",21),b(12),u(),d(13,"span",22),b(14),Ei(15,"number"),u()(),d(16,"mat-card-actions",23),R(17,qr,3,1,"button",24)(18,jr,6,2),u()()),i&2){let t=n.$implicit,e=x(2);yt("archived",t.deleted_at)("unavailable",e.unavailableIds().has(t.id)),s(2),F(t.image_url?2:3),s(2),F(t.deleted_at?4:e.unavailableIds().has(t.id)?5:-1),s(4),M(t.name),s(2),M(t.description),s(2),M(t.category_name??"\u2014"),s(2),$("",Ai(15,11,t.price,"1.2-2")," $"),s(3),F(t.deleted_at?17:18)}}function Ur(i,n){if(i&1&&(d(0,"div",9),ct(1,$r,19,14,"mat-card",11,Er),u()),i&2){let t=x();s(),mt(t.items())}}var $i=class i{constructor(n,t,e,a,c,y){this.itemsService=n;this.apiService=t;this.ts=e;this.dialog=a;this.errorService=c;this.ngZone=y;this.ngZone.runOutsideAngular(()=>{this.nowInterval=setInterval(()=>{this.ngZone.run(()=>this.now.set(Date.now()))},6e4)})}items=V([]);isLoading=V(!0);categories=V([]);loadError=V("");actionError=V("");now=V(Date.now());nowInterval;categoryNames=Te(()=>[...new Set(this.items().map(n=>n.category_name??"\u2014"))]);unavailableIds=Te(()=>{let n=this.now();return new Set(this.items().filter(t=>t.deleted_at?!1:!t.availabilities||t.availabilities.length===0?!0:!t.availabilities.some(e=>{let a=new Date(e.start_at).getTime(),c=e.end_at?new Date(e.end_at).getTime():1/0;return a<=n&&n<c})).map(t=>t.id))});ngOnDestroy(){clearInterval(this.nowInterval)}ngOnInit(){this.loadData(),this.loadCategories()}loadData(){this.isLoading.set(!0),this.loadError.set(""),this.itemsService.getItems({admin:!0}).subscribe({next:n=>{this.ngZone.run(()=>{this.items.set(n),this.isLoading.set(!1),this.categories().length===0&&this.extractCategoriesFromItems(n)})},error:n=>{this.ngZone.run(()=>{this.loadError.set(this.errorService.format(this.errorService.fromApiError(n))),this.isLoading.set(!1)})}})}loadCategories(){this.apiService.get("/api/categories").subscribe({next:n=>{n.data&&this.categories.set(n.data)},error:()=>{this.items().length>0&&this.extractCategoriesFromItems(this.items())}})}extractCategoriesFromItems(n){let t=new Map;for(let e of n)t.has(e.category_id)||t.set(e.category_id,{id:e.category_id,name:e.category_name??"\u2014",position:t.size});this.categories.set([...t.values()])}openCreate(){let n={item:null,categories:this.categories()};this.dialog.open(gi,{data:n,width:"460px",maxHeight:"90vh",disableClose:!1}).afterClosed().subscribe({next:e=>{e?.created&&this.ngZone.run(()=>this.items.update(a=>[...a,e.created]))}})}openEdit(n){let t={item:n,categories:this.categories()};this.dialog.open(gi,{data:t,width:"460px",maxHeight:"90vh",disableClose:!1}).afterClosed().subscribe({next:a=>{a?.updated&&this.ngZone.run(()=>this.items.update(c=>c.map(y=>y.id===n.id?a.updated:y)))}})}confirmDelete(n){let t=n.in_use?{title:this.ts.t("admin.archiveItem"),message:this.ts.t("admin.archiveConfirm"),itemName:n.name,warning:this.ts.t("admin.archiveWarning"),confirmLabel:this.ts.t("admin.archive"),confirmClass:"btn-danger"}:{title:this.ts.t("admin.deleteItem"),message:this.ts.t("admin.deleteConfirm"),itemName:n.name,confirmLabel:this.ts.t("admin.delete"),confirmClass:"btn-danger"};this.dialog.open(sn,{data:t,width:"400px",maxHeight:"90vh"}).afterClosed().subscribe({next:a=>{a&&(this.actionError.set(""),n.in_use?this.itemsService.softDeleteItem(n.id).subscribe({next:c=>{c.data&&this.ngZone.run(()=>this.items.update(y=>y.map(z=>z.id===n.id?c.data:z)))},error:c=>{this.ngZone.run(()=>this.actionError.set(this.errorService.format(this.errorService.fromApiError(c))))}}):this.itemsService.hardDeleteItem(n.id).subscribe({next:()=>{this.ngZone.run(()=>this.items.update(c=>c.filter(y=>y.id!==n.id)))},error:c=>{this.ngZone.run(()=>this.actionError.set(this.errorService.format(this.errorService.fromApiError(c))))}}))}})}confirmRestore(n){let t={title:this.ts.t("admin.restoreItem"),message:this.ts.t("admin.restoreConfirm"),itemName:n.name,confirmLabel:this.ts.t("admin.restoreBtn"),confirmClass:"btn-restore"};this.dialog.open(sn,{data:t,width:"400px",maxHeight:"90vh"}).afterClosed().subscribe({next:a=>{a&&(this.actionError.set(""),this.itemsService.restoreItem(n.id).subscribe({next:c=>{c.data&&this.ngZone.run(()=>this.items.update(y=>y.map(z=>z.id===n.id?c.data:z)))},error:c=>{this.ngZone.run(()=>this.actionError.set(this.errorService.format(this.errorService.fromApiError(c))))}}))}})}getItemsByCategory(n){return this.items().filter(t=>(t.category_name??"\u2014")===n)}static \u0275fac=function(t){return new(t||i)(K(Ke),K(Gt),K(Et),K(_a),K(ye),K(qt))};static \u0275cmp=ft({type:i,selectors:[["app-admin-items"]],decls:15,vars:8,consts:[[1,"page-admin"],[1,"outer-container"],[1,"welcome-header"],[1,"welcome-title"],["mat-mini-fab","",1,"btn-add",3,"click","title"],[1,"welcome-text"],[1,"admin-error"],[1,"loading"],[1,"empty"],[1,"items-grid"],["diameter","48"],[1,"item-card",3,"archived","unavailable"],[1,"item-card"],[1,"item-image"],[3,"src","alt"],[1,"image-placeholder"],[1,"archived-badge"],[1,"unavailable-badge"],[1,"item-body"],[1,"item-name"],[1,"item-description"],[1,"item-category"],[1,"item-price"],[1,"item-actions"],["mat-icon-button","",1,"action-btn","restore",3,"title"],["mat-icon-button","",1,"action-btn","restore",3,"click","title"],["mat-icon-button","",1,"action-btn","edit",3,"click","title"],["mat-icon-button","",1,"action-btn","delete",3,"click","title"]],template:function(t,e){t&1&&(d(0,"main",0)(1,"div",1)(2,"div",2)(3,"h2",3),b(4),d(5,"button",4),E("click",function(){return e.openCreate()}),d(6,"mat-icon"),b(7,"add"),u()()(),d(8,"p",5),b(9),u()(),R(10,Ar,2,1,"div",6),R(11,Rr,2,1,"div",6),R(12,Fr,2,0,"div",7),R(13,Lr,2,1,"div",8),R(14,Ur,3,0,"div",9),u()()),t&2&&(s(4),$(" ",e.ts.t("admin.itemsTitle")," "),s(),L("title",e.ts.t("admin.addItem")),s(4),M(e.ts.t("admin.itemsSubtitle")),s(),F(e.loadError()?10:-1),s(),F(e.actionError()?11:-1),s(),F(e.isLoading()?12:-1),s(),F(!e.isLoading()&&e.items().length===0?13:-1),s(),F(!e.isLoading()&&e.items().length>0?14:-1))},dependencies:[Lt,Ni,xe,he,Ce,ve,Pa,_e,Tt,ee,zt,Dt,kt,ne,ie,Fi],styles:['@import"https://fonts.googleapis.com/css2?family=Fraunces:wght@500;700&family=Space+Grotesk:wght@400;500;600&display=swap";[_nghost-%COMP%]{--ink: #1b1a17;--clay: #f3ede4;--sand: #fbf8f2;--copper: #c86d3f;--rust: #8a3f24;--sage: #7a8f6a;--shadow: 0 25px 60px rgba(27, 26, 23, .18);display:block;min-height:100vh;overflow-x:clip;overflow-y:visible;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);color:var(--ink);font-family:Space Grotesk,Segoe UI,sans-serif}[_nghost-%COMP%]:before, [_nghost-%COMP%]:after{content:"";position:fixed;inset:auto auto 8% -10%;width:320px;height:320px;background:conic-gradient(from 120deg,#c86d3f26,#7a8f6a26);border-radius:50%;filter:blur(10px);z-index:0}[_nghost-%COMP%]:after{inset:-5% -10% auto auto;width:280px;height:280px;background:radial-gradient(circle,rgba(200,109,63,.2),transparent 70%)}.page[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:minmax(280px,560px);justify-content:center;align-items:start;padding:1rem clamp(1rem,3vw,3rem) 1.5rem}.site-header[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;align-items:center;justify-content:space-between;padding:1rem clamp(1rem,3vw,3rem);background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff}.brand[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;letter-spacing:.3rem;text-transform:uppercase;color:#fff}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.panel[_ngcontent-%COMP%]{background:var(--sand);border-radius:24px;padding:1.5rem 2rem;box-shadow:var(--shadow);border:1px solid rgba(27,26,23,.08);animation:_ngcontent-%COMP%_float-in .8s ease forwards}.panel__header[_ngcontent-%COMP%]{display:grid;gap:.25rem;margin-bottom:1rem}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.2rem;font-size:.75rem;color:var(--rust);margin:0}h1[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:clamp(2rem,3vw,2.6rem);margin:0}.subtitle[_ngcontent-%COMP%]{margin:0;color:#1b1a17b3}.form[_ngcontent-%COMP%]{display:grid;gap:.75rem}.field[_ngcontent-%COMP%]{display:grid;gap:.25rem}label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border:1px solid rgba(27,26,23,.2);border-radius:12px;padding:.65rem .875rem;font-size:.95rem;background:#fff;transition:border-color .2s ease,box-shadow .2s ease}input[_ngcontent-%COMP%]:not([matInput]):focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--copper);box-shadow:0 0 0 3px #c86d3f33}.form__actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;margin-top:.5rem}button[_ngcontent-%COMP%]{border-radius:999px;padding:.65rem 1.5rem;font-size:.9rem;font-weight:600;cursor:pointer;border:none}.primary[_ngcontent-%COMP%]{background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff;box-shadow:0 12px 25px #8a3f2459}.ghost[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(27,26,23,.2);color:var(--ink)}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]{border-color:#fff6;color:#fff}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]:hover{background:#ffffff26}@keyframes _ngcontent-%COMP%_float-in{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media(max-width:900px){.page[_ngcontent-%COMP%]{min-height:auto}}@media(max-width:600px){.panel[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-radius:20px}.site-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.form__actions[_ngcontent-%COMP%]{flex-direction:column}button[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{font-size:1.75rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.95rem}}@media(max-width:400px){[_nghost-%COMP%]{overflow-x:clip;overflow-y:visible}.page[_ngcontent-%COMP%]{padding:1.5rem 1rem 3rem;grid-template-columns:1fr}.panel[_ngcontent-%COMP%]{padding:1.5rem 1rem;border-radius:16px}.site-header[_ngcontent-%COMP%]{padding:1rem 1rem 0}h1[_ngcontent-%COMP%]{font-size:1.5rem}.subtitle[_ngcontent-%COMP%]{font-size:.9rem}label[_ngcontent-%COMP%]{font-size:.875rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border-radius:10px;padding:.7rem .75rem;font-size:.9rem}button[_ngcontent-%COMP%]{padding:.7rem 1.2rem;font-size:.9rem}}.page-admin[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;flex-direction:column;align-items:center;min-height:calc(100vh - 60px);padding:2rem 1rem}.outer-container[_ngcontent-%COMP%]{max-width:960px;width:100%}.welcome-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;position:sticky;top:7.5rem;z-index:30;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);padding:.75rem 0 .5rem}.welcome-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:1.5rem;margin:0 0 .5rem;color:var(--rust);display:flex;align-items:center;justify-content:center;gap:.75rem}.btn-add[_ngcontent-%COMP%]{background:var(--copper)!important;color:#fff!important;width:36px!important;height:36px!important;padding:0!important;display:flex!important;align-items:center!important;justify-content:center!important}.btn-add[_ngcontent-%COMP%]:hover{opacity:.85}.welcome-text[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#1b1a17b3}.items-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1.25rem}.item-card[_ngcontent-%COMP%]{background:#fff!important;border-radius:14px!important;border:1px solid rgba(27,26,23,.08);overflow:hidden;padding:0!important;transition:box-shadow .2s ease}.item-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #1b1a171a!important}.item-image[_ngcontent-%COMP%]{position:relative;width:100%;aspect-ratio:16 / 10;background:var(--clay);overflow:hidden}.item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.image-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;background:var(--clay)}.item-body[_ngcontent-%COMP%]{padding:.75rem 1rem .5rem!important;flex:1}.item-name[_ngcontent-%COMP%]{font-weight:600!important;font-size:.95rem!important;color:var(--ink)!important;margin:0 0 .15rem!important;padding:0!important}.item-description[_ngcontent-%COMP%]{font-size:.8rem!important;color:#1b1a178c!important;margin:0 0 .25rem!important;padding:0!important;display:-webkit-box!important;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden!important;white-space:normal!important;text-overflow:ellipsis!important}.item-category[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#1b1a1766;margin-bottom:.5rem;font-style:italic}.item-price[_ngcontent-%COMP%]{display:block;font-weight:700;font-size:1rem;color:var(--ink)}.item-actions[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-end;gap:.25rem;padding:.4rem .75rem .75rem!important;margin:0!important}.action-btn[_ngcontent-%COMP%]{color:#1b1a1773!important;width:36px!important;height:36px!important;padding:0!important;border-radius:50%!important;display:flex!important;align-items:center!important;justify-content:center!important}.action-btn[_ngcontent-%COMP%]:hover{color:var(--ink)!important}.action-btn.delete[_ngcontent-%COMP%]:hover{color:var(--rust)!important}.action-btn.restore[_ngcontent-%COMP%]{color:#1b1a1773!important}.action-btn.restore[_ngcontent-%COMP%]:hover{color:#2e7d32!important}.item-card.archived[_ngcontent-%COMP%]{background:#f5f5f5!important;border-color:#1b1a170d!important;opacity:.75}.item-card.archived[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .item-card.archived[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%], .item-card.archived[_ngcontent-%COMP%]   .item-category[_ngcontent-%COMP%], .item-card.archived[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{color:#1b1a1759!important}.item-card.archived[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}.archived-badge[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:#00000059;color:#fff;font-size:.85rem;font-weight:600;letter-spacing:.05em;text-transform:uppercase;font-family:Space Grotesk,Segoe UI,sans-serif}.item-card.unavailable[_ngcontent-%COMP%]{background:#f5f5f5!important;border-color:#1b1a170d!important;opacity:.75}.item-card.unavailable[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .item-card.unavailable[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%], .item-card.unavailable[_ngcontent-%COMP%]   .item-category[_ngcontent-%COMP%], .item-card.unavailable[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{color:#1b1a1759!important}.item-card.unavailable[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}.unavailable-badge[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:#00000059;color:#fff;font-size:.85rem;font-weight:600;letter-spacing:.05em;text-transform:uppercase;font-family:Space Grotesk,Segoe UI,sans-serif}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:3rem}.empty[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#1b1a1780}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0006;display:flex;align-items:center;justify-content:center;z-index:100}.modal[_ngcontent-%COMP%]{position:relative;background:var(--sand)!important;border-radius:16px!important;padding:0!important;max-width:400px;width:90%;box-shadow:0 12px 40px #00000026!important;max-height:90vh;overflow-y:auto}.modal-close[_ngcontent-%COMP%]{width:36px!important;height:36px!important;padding:0!important;border-radius:50%!important;background:#fff!important;border:1px solid rgba(27,26,23,.1)!important;display:flex!important;align-items:center!important;justify-content:center!important;color:var(--ink)!important;flex-shrink:0}.modal-close[_ngcontent-%COMP%]:hover{background:var(--clay)!important}.modal[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:0!important;margin:0!important}.modal-edit[_ngcontent-%COMP%]{max-width:420px;padding:0!important;display:flex!important;flex-direction:column!important;max-height:90vh;overflow:hidden!important}.modal-delete-header[_ngcontent-%COMP%], .modal-edit-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.25rem 1.5rem 1rem;flex-shrink:0}.modal-edit-body[_ngcontent-%COMP%]{overflow-y:auto!important;flex:1 1 auto!important;padding:0 1.5rem 1.5rem!important}.modal-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif!important;font-size:1.25rem!important;margin:0 0 .75rem!important;color:var(--ink)!important;padding:0!important}.modal-text[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:.9rem;color:#1b1a17b3}.modal-warning[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:.82rem;color:#b45309;background:#b4530914;border-radius:8px;padding:.5rem .75rem}.modal[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0 1.5rem!important}.modal-error[_ngcontent-%COMP%]{background:#dc35451a;color:#dc3545;padding:.5rem .75rem;border-radius:8px;font-size:.85rem;margin-bottom:1rem}.modal-field-full[_ngcontent-%COMP%]{width:100%;margin-bottom:.25rem}  .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__leading,   .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__notch,   .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__trailing{border-color:#1b1a1740!important;border-width:1px!important}  .modal-edit .mat-mdc-form-field.mat-focused .mat-mdc-floating-label{color:#1b1a1799!important}  .modal-edit .mdc-text-field--focused .mdc-notched-outline__leading,   .modal-edit .mdc-text-field--focused .mdc-notched-outline__notch,   .modal-edit .mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#1b1a1740!important;border-width:1px!important}  .modal-edit input.mat-mdc-input-element:focus,   .modal-edit textarea.mat-mdc-input-element:focus,   .modal-edit .mat-mdc-select:focus,   .modal-edit .mat-mdc-select-trigger:focus{outline:none!important;box-shadow:none!important}  .modal-edit .mat-mdc-text-field-wrapper:focus-within{outline:none!important;box-shadow:none!important}.modal-field[_ngcontent-%COMP%]{margin-bottom:1rem}.file-label[_ngcontent-%COMP%]{display:block;font-size:.85rem;font-weight:500;color:var(--ink);margin-bottom:.3rem}.file-error[_ngcontent-%COMP%]{display:block;margin-top:.25rem}.image-preview[_ngcontent-%COMP%]{width:100%;max-height:180px;border-radius:8px;overflow:hidden;margin-bottom:.5rem;background:var(--clay)}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:180px;object-fit:cover;display:block}.file-input-hidden[_ngcontent-%COMP%]{display:none}.file-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;padding:.45rem 1rem;border:1.5px solid rgba(27,26,23,.2);border-radius:10px;background:var(--sand);color:var(--ink);font-family:Space Grotesk,Segoe UI,sans-serif;font-size:.85rem;font-weight:500;cursor:pointer;transition:background .15s,border-color .15s}.file-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.1rem;width:1.1rem;height:1.1rem}.file-btn[_ngcontent-%COMP%]:hover{background:var(--clay);border-color:#1b1a1759}.modal-actions[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-end!important;gap:.75rem;margin:0!important;padding:1rem 1.5rem 1.5rem!important}.modal-edit-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem;padding:1rem 1.5rem;flex-shrink:0;border-top:1px solid rgba(27,26,23,.08)}.btn-cancel[_ngcontent-%COMP%]{border-radius:10px!important;color:var(--ink)!important;border-color:#1b1a1726!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-cancel[_ngcontent-%COMP%]:hover{background:#1b1a170a!important}.btn-danger[_ngcontent-%COMP%]{border-radius:10px!important;background:var(--rust)!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-danger[_ngcontent-%COMP%]:hover{opacity:.9}.btn-restore[_ngcontent-%COMP%]{border-radius:10px!important;background:#2e7d32!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-restore[_ngcontent-%COMP%]:hover{opacity:.9}.btn-primary[_ngcontent-%COMP%]{border-radius:10px!important;background:var(--copper)!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-primary[_ngcontent-%COMP%]:hover{opacity:.9}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6!important;cursor:not-allowed}.admin-error[_ngcontent-%COMP%]{background:#dc354514;color:#b91c1c;border:1px solid rgba(220,53,69,.2);border-radius:10px;padding:.65rem 1rem;font-size:.875rem;margin-bottom:1rem}@media(max-width:500px){.welcome-header[_ngcontent-%COMP%]{top:6.25rem}}@media(max-width:700px){.items-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1rem}}@media(max-width:450px){.items-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}}']})};var Ui=class i{constructor(n){this.apiService=n}getUsers(n){let t={};return n?.search&&(t.search=n.search),n?.sort&&n.sort!=="none"&&(t.sort=n.sort),n?.sort_by&&(t.sort_by=n.sort_by),n?.status&&n.status!=="all"&&(t.status=n.status),n?.type&&n.type!=="all"&&(t.type=n.type),this.apiService.get("/api/users",t).pipe(Ot(e=>e.data))}getUser(n){return this.apiService.get(`/api/users/${n}`).pipe(Ot(t=>t.data))}createUser(n){return this.apiService.post("/api/users",{user:n}).pipe(Ot(t=>t.data))}updateUser(n,t){return this.apiService.put(`/api/users/${n}`,{user:t}).pipe(Ot(e=>e.data))}deleteUser(n){return this.apiService.delete(`/api/users/${n}`)}static \u0275fac=function(t){return new(t||i)(Ae(Gt))};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})};var Hr=(i,n)=>n.id;function Qr(i,n){if(i&1&&(d(0,"mat-option",13),b(1),u()),i&2){let t=n.$implicit,e=x();L("value",t),s(),M(e.getStatusLabel(t))}}function Wr(i,n){if(i&1&&(d(0,"mat-option",13),b(1),u()),i&2){let t=n.$implicit,e=x();L("value",t),s(),M(e.getTypeLabel(t))}}function Zr(i,n){i&1&&(d(0,"div",17),it(1,"mat-spinner",21),u())}function Yr(i,n){if(i&1&&(d(0,"div",18),b(1),u()),i&2){let t=x();s(),M(t.ts.t("admin.users.noUsers"))}}function Xr(i,n){if(i&1){let t=dt();d(0,"mat-card",22)(1,"mat-card-content",23)(2,"div",24)(3,"div",25),b(4),u(),d(5,"div",26),b(6),u()(),d(7,"div",27)(8,"span",28),b(9),u(),d(10,"span",29),b(11),u()()(),d(12,"mat-card-actions",30)(13,"button",31),E("click",function(){let a=N(t).$implicit,c=x(2);return B(c.toggleStatus(a))}),d(14,"mat-icon"),b(15),u()(),d(16,"button",32),E("click",function(){let a=N(t).$implicit,c=x(2);return B(c.openEdit(a))}),d(17,"mat-icon"),b(18,"edit"),u()(),d(19,"button",33),E("click",function(){let a=N(t).$implicit,c=x(2);return B(c.confirmDelete(a))}),d(20,"mat-icon"),b(21,"delete"),u()()()()}if(i&2){let t=n.$implicit,e=x(2);s(4),oi("",t.first_name," ",t.last_name),s(2),M(t.email),s(2),re("data-type",t.type),s(),M(e.getTypeLabel(t.type)),s(),re("data-status",t.status),s(),M(e.getStatusLabel(t.status)),s(2),L("title",t.status==="active"?e.ts.t("admin.users.block"):e.ts.t("admin.users.activate")),s(2),M(t.status==="active"?"block":"check_circle"),s(),L("title",e.ts.t("admin.editBtn")),s(3),L("title",e.ts.t("admin.deleteBtn"))}}function Kr(i,n){if(i&1&&(d(0,"div",19),ct(1,Xr,22,11,"mat-card",22,Hr),u()),i&2){let t=x();s(),mt(t.users())}}function Jr(i,n){if(i&1){let t=dt();d(0,"div",20)(1,"mat-card",34)(2,"button",35),E("click",function(){N(t);let a=x();return B(a.cancelDelete())}),d(3,"mat-icon"),b(4,"close"),u()(),d(5,"mat-card-header")(6,"mat-card-title",36),b(7),u()(),d(8,"mat-card-content")(9,"p",37),b(10),d(11,"strong"),b(12),u(),b(13," ?"),u()(),d(14,"mat-card-actions",38)(15,"button",39),E("click",function(){N(t);let a=x();return B(a.cancelDelete())}),b(16),u(),d(17,"button",40),E("click",function(){N(t);let a=x();return B(a.deleteUser())}),b(18),u()()()()}if(i&2){let t=x();s(7),M(t.ts.t("admin.users.deleteTitle")),s(3),$("",t.ts.t("admin.users.deleteConfirm")," "),s(2),oi("",t.userToDelete().first_name," ",t.userToDelete().last_name),s(4),M(t.ts.t("admin.cancel")),s(2),M(t.ts.t("admin.delete"))}}function ts(i,n){if(i&1&&(d(0,"div",42),b(1),u()),i&2){let t=x(2);s(),M(t.editError())}}function es(i,n){if(i&1&&b(0),i&2){let t=x(3);$(" ",t.ts.t("admin.users.firstNameRequired")," ")}}function is(i,n){if(i&1&&b(0),i&2){let t=x(3);$(" ",t.ts.t("admin.users.firstNameMaxLength")," ")}}function ns(i,n){if(i&1&&b(0),i&2){let t=x(3);$(" ",t.ts.t("admin.users.firstNameWhitespace")," ")}}function as(i,n){if(i&1&&(d(0,"mat-error"),R(1,es,1,1)(2,is,1,1)(3,ns,1,1),u()),i&2){let t=x(2);s(),F(t.editForm.controls.first_name.errors.required?1:t.editForm.controls.first_name.errors.maxlength?2:t.editForm.controls.first_name.errors.whitespace?3:-1)}}function os(i,n){if(i&1&&b(0),i&2){let t=x(3);$(" ",t.ts.t("admin.users.lastNameRequired")," ")}}function rs(i,n){if(i&1&&b(0),i&2){let t=x(3);$(" ",t.ts.t("admin.users.lastNameMaxLength")," ")}}function ss(i,n){if(i&1&&b(0),i&2){let t=x(3);$(" ",t.ts.t("admin.users.lastNameWhitespace")," ")}}function ls(i,n){if(i&1&&(d(0,"mat-error"),R(1,os,1,1)(2,rs,1,1)(3,ss,1,1),u()),i&2){let t=x(2);s(),F(t.editForm.controls.last_name.errors.required?1:t.editForm.controls.last_name.errors.maxlength?2:t.editForm.controls.last_name.errors.whitespace?3:-1)}}function ds(i,n){if(i&1&&b(0),i&2){let t=x(3);$(" ",t.ts.t("admin.users.emailRequired")," ")}}function cs(i,n){if(i&1&&b(0),i&2){let t=x(3);$(" ",t.ts.t("admin.users.emailInvalid")," ")}}function ms(i,n){if(i&1&&(d(0,"mat-error"),R(1,ds,1,1)(2,cs,1,1),u()),i&2){let t=x(2);s(),F(t.editForm.controls.email.errors.required?1:t.editForm.controls.email.errors.email?2:-1)}}function ps(i,n){if(i&1&&(d(0,"mat-option",13),b(1),u()),i&2){let t=n.$implicit,e=x(2);L("value",t),s(),M(e.getTypeLabel(t))}}function us(i,n){if(i&1&&(d(0,"mat-option",13),b(1),u()),i&2){let t=n.$implicit,e=x(2);L("value",t),s(),M(e.getStatusLabel(t))}}function gs(i,n){if(i&1&&b(0),i&2){let t=x(3);$(" ",t.ts.t("admin.users.passwordRequired")," ")}}function bs(i,n){if(i&1&&b(0),i&2){let t=x(3);$(" ",t.ts.t("admin.users.passwordMinLength")," ")}}function fs(i,n){if(i&1&&b(0),i&2){let t=x(3);$(" ",t.ts.t("admin.users.passwordMaxLength")," ")}}function hs(i,n){if(i&1&&(d(0,"mat-error"),R(1,gs,1,1)(2,bs,1,1)(3,fs,1,1),u()),i&2){let t=x(2);s(),F(t.editForm.controls.password.errors.required?1:t.editForm.controls.password.errors.minlength?2:t.editForm.controls.password.errors.maxlength?3:-1)}}function _s(i,n){if(i&1&&b(0),i&2){let t=x(3);$(" ",t.ts.t("admin.users.passwordConfirmationRequired")," ")}}function vs(i,n){if(i&1&&b(0),i&2){let t=x(3);$(" ",t.ts.t("admin.users.passwordMinLength")," ")}}function Cs(i,n){if(i&1&&b(0),i&2){let t=x(3);$(" ",t.ts.t("admin.users.passwordMaxLength")," ")}}function xs(i,n){if(i&1&&(d(0,"mat-error"),R(1,_s,1,1)(2,vs,1,1)(3,Cs,1,1),u()),i&2){let t=x(2);s(),F(t.editForm.controls.password_confirmation.errors.required?1:t.editForm.controls.password_confirmation.errors.minlength?2:t.editForm.controls.password_confirmation.errors.maxlength?3:-1)}}function ys(i,n){if(i&1){let t=dt();d(0,"div",20)(1,"mat-card",41)(2,"button",35),E("click",function(){N(t);let a=x();return B(a.cancelEdit())}),d(3,"mat-icon"),b(4,"close"),u()(),d(5,"mat-card-header")(6,"mat-card-title",36),b(7),u()(),d(8,"mat-card-content"),R(9,ts,2,1,"div",42),d(10,"form",43),E("ngSubmit",function(){N(t);let a=x();return B(a.isCreating()?a.saveCreate():a.saveEdit())}),d(11,"mat-form-field",44)(12,"mat-label"),b(13),u(),it(14,"input",45),R(15,as,4,1,"mat-error"),u(),d(16,"mat-form-field",44)(17,"mat-label"),b(18),u(),it(19,"input",46),R(20,ls,4,1,"mat-error"),u(),d(21,"mat-form-field",44)(22,"mat-label"),b(23),u(),it(24,"input",47),R(25,ms,3,1,"mat-error"),u(),d(26,"mat-form-field",44)(27,"mat-label"),b(28),u(),d(29,"mat-select",48),ct(30,ps,2,2,"mat-option",13,$t),u()(),d(32,"mat-form-field",44)(33,"mat-label"),b(34),u(),d(35,"mat-select",49),ct(36,us,2,2,"mat-option",13,$t),u()(),d(38,"mat-form-field",44)(39,"mat-label"),b(40),u(),it(41,"input",50),R(42,hs,4,1,"mat-error"),u(),d(43,"mat-form-field",44)(44,"mat-label"),b(45),u(),it(46,"input",51),R(47,xs,4,1,"mat-error"),u(),d(48,"mat-card-actions",38)(49,"button",52),E("click",function(){N(t);let a=x();return B(a.cancelEdit())}),b(50),u(),d(51,"button",53),b(52),u()()()()()()}if(i&2){let t=x();s(7),M(t.isCreating()?t.ts.t("admin.users.add"):t.ts.t("admin.users.edit")),s(2),F(t.editError()?9:-1),s(),L("formGroup",t.editForm),s(3),M(t.ts.t("admin.users.firstName")),s(2),F(t.editForm.controls.first_name.dirty&&t.editForm.controls.first_name.errors?15:-1),s(3),M(t.ts.t("admin.users.lastName")),s(2),F(t.editForm.controls.last_name.dirty&&t.editForm.controls.last_name.errors?20:-1),s(3),M(t.ts.t("admin.users.email")),s(2),F(t.editForm.controls.email.dirty&&t.editForm.controls.email.errors?25:-1),s(3),M(t.ts.t("admin.users.typeLabel")),s(2),mt(t.userTypes),s(4),M(t.ts.t("admin.users.statusLabel")),s(2),mt(t.userStatuses),s(4),M(t.ts.t("admin.users.password")),s(2),F(t.editForm.controls.password.dirty&&t.editForm.controls.password.errors?42:-1),s(3),M(t.ts.t("admin.users.passwordConfirmation")),s(2),F(t.editForm.controls.password_confirmation.dirty&&t.editForm.controls.password_confirmation.errors?47:-1),s(3),M(t.ts.t("admin.cancel")),s(),L("disabled",t.editLoading()||t.editForm.invalid),s(),$(" ",t.editLoading()?t.ts.t("admin.saving"):t.isCreating()?t.ts.t("admin.add"):t.ts.t("admin.save")," ")}}function Ha(i){return i.value&&/^\s*$/.test(i.value)?{whitespace:!0}:null}var Gi=class i{constructor(n,t,e){this.userService=n;this.ts=t;this.cdr=e}users=V([]);isLoading=V(!0);searchTerm=V("");filterStatus=V("all");filterType=V("all");sortOrder=V("none");userToDelete=V(null);isCreating=V(!1);editingUser=V(null);editForm=new me({first_name:new pt("",[W.required,W.maxLength(50),Ha]),last_name:new pt("",[W.required,W.maxLength(50),Ha]),email:new pt("",[W.required,W.email]),type:new pt("Client",[W.required]),status:new pt("active",[W.required]),password:new pt("",[W.minLength(6),W.maxLength(128)]),password_confirmation:new pt("",[W.minLength(6),W.maxLength(128)])});editError=V("");editLoading=V(!1);userTypes=["Administrator","Waiter","Client","Cook"];userStatuses=["active","inactive","blocked"];ngOnInit(){this.loadData()}loadData(){this.isLoading.set(!0);let n={};this.searchTerm()&&(n.search=this.searchTerm()),this.filterStatus()!=="all"&&(n.status=this.filterStatus()),this.filterType()!=="all"&&(n.type=this.filterType()),(this.sortOrder()==="asc"||this.sortOrder()==="desc")&&(n.sort=this.sortOrder(),n.sort_by="last_name"),this.userService.getUsers(n).subscribe({next:t=>{this.users.set(t),this.isLoading.set(!1)},error:()=>{this.isLoading.set(!1)}})}onSearchChange(n){this.searchTerm.set(n.target.value),this.loadData()}onFilterStatusChange(n){this.filterStatus.set(n),this.loadData()}onFilterTypeChange(n){this.filterType.set(n),this.loadData()}onSortChange(n){this.sortOrder.set(n),this.loadData()}toggleStatus(n){let t=n.status==="active"?"blocked":"active";this.userService.updateUser(n.id,{status:t}).subscribe({next:e=>{this.users.update(a=>a.map(c=>c.id===n.id?e:c))}})}confirmDelete(n){this.userToDelete.set(n)}cancelDelete(){this.userToDelete.set(null)}deleteUser(){let n=this.userToDelete();n&&this.userService.deleteUser(n.id).subscribe({next:()=>{this.users.update(t=>t.filter(e=>e.id!==n.id)),this.userToDelete.set(null)},error:()=>{this.userToDelete.set(null)}})}openCreate(){this.isCreating.set(!0),this.editForm.reset({first_name:"",last_name:"",email:"",type:"Client",status:"active",password:"",password_confirmation:""}),this.editForm.markAsPristine(),this.editForm.markAsUntouched(),this.editForm.controls.password.setValidators([W.required,W.minLength(6),W.maxLength(128)]),this.editForm.controls.password_confirmation.setValidators([W.required,W.minLength(6),W.maxLength(128)]),this.editForm.controls.password.updateValueAndValidity(),this.editForm.controls.password_confirmation.updateValueAndValidity(),this.editError.set("")}saveCreate(){if(Object.values(this.editForm.controls).forEach(t=>t.markAsDirty()),this.editForm.invalid)return;this.editLoading.set(!0),this.editError.set("");let n=this.editForm.value;this.userService.createUser({first_name:n.first_name,last_name:n.last_name,email:n.email,type:n.type,status:n.status,password:n.password,password_confirmation:n.password_confirmation}).subscribe({next:t=>{this.users.update(e=>[...e,t]),this.isCreating.set(!1),this.editLoading.set(!1)},error:t=>{this.editError.set(t?.errors?.join(", ")||this.ts.t("admin.users.createError")),this.editLoading.set(!1),this.cdr.detectChanges()}})}openEdit(n){this.editingUser.set(n),this.editForm.patchValue({first_name:n.first_name,last_name:n.last_name,email:n.email,type:n.type,status:n.status,password:"",password_confirmation:""}),this.editForm.markAsPristine(),this.editForm.markAsUntouched(),this.editForm.controls.password.setValidators([W.minLength(6),W.maxLength(128)]),this.editForm.controls.password_confirmation.setValidators([W.minLength(6),W.maxLength(128)]),this.editForm.controls.password.updateValueAndValidity(),this.editForm.controls.password_confirmation.updateValueAndValidity(),this.editError.set("")}cancelEdit(){this.editingUser.set(null),this.isCreating.set(!1),this.editError.set("")}saveEdit(){let n=this.editingUser();if(!n||(Object.values(this.editForm.controls).forEach(a=>a.markAsDirty()),this.editForm.invalid))return;this.editLoading.set(!0),this.editError.set("");let t=this.editForm.value,e={first_name:t.first_name,last_name:t.last_name,email:t.email,type:t.type,status:t.status};t.password&&(e.password=t.password,e.password_confirmation=t.password_confirmation),this.userService.updateUser(n.id,e).subscribe({next:a=>{this.users.update(c=>c.map(y=>y.id===n.id?a:y)),this.editingUser.set(null),this.editLoading.set(!1)},error:a=>{this.editError.set(a?.errors?.join(", ")||this.ts.t("admin.users.editError")),this.editLoading.set(!1),this.cdr.detectChanges()}})}getTypeLabel(n){let t="admin.users.type."+n;return this.ts.t(t)}getStatusLabel(n){let t="admin.users.status."+n;return this.ts.t(t)}static \u0275fac=function(t){return new(t||i)(K(Ui),K(Et),K(ce))};static \u0275cmp=ft({type:i,selectors:[["app-admin-users"]],decls:48,vars:21,consts:[[1,"page-admin"],[1,"outer-container"],[1,"welcome-header"],[1,"welcome-title"],["mat-mini-fab","",1,"btn-add",3,"click","title"],[1,"welcome-text"],[1,"filters-bar"],["appearance","outline",1,"filter-field","search-field"],["matInput","",3,"input","value"],["matPrefix",""],["appearance","outline",1,"filter-field"],[3,"selectionChange","value"],["value","all"],[3,"value"],["value","none"],["value","asc"],["value","desc"],[1,"loading"],[1,"empty"],[1,"users-list"],[1,"modal-overlay"],["diameter","48"],[1,"user-card"],[1,"user-body"],[1,"user-info"],[1,"user-name"],[1,"user-email"],[1,"user-badges"],[1,"badge","badge-type"],[1,"badge","badge-status"],[1,"user-actions"],["mat-icon-button","",1,"action-btn","toggle",3,"click","title"],["mat-icon-button","",1,"action-btn","edit",3,"click","title"],["mat-icon-button","",1,"action-btn","delete",3,"click","title"],[1,"modal"],["mat-icon-button","",1,"modal-close",3,"click"],[1,"modal-title"],[1,"modal-text"],[1,"modal-actions"],["mat-stroked-button","",1,"btn-cancel",3,"click"],["mat-flat-button","",1,"btn-danger",3,"click"],[1,"modal","modal-edit"],[1,"modal-error"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"modal-field-full"],["matInput","","formControlName","first_name"],["matInput","","formControlName","last_name"],["matInput","","formControlName","email","type","email"],["formControlName","type"],["formControlName","status"],["matInput","","formControlName","password","type","password"],["matInput","","formControlName","password_confirmation","type","password"],["mat-stroked-button","","type","button",1,"btn-cancel",3,"click"],["mat-flat-button","","type","submit",1,"btn-primary",3,"disabled"]],template:function(t,e){t&1&&(d(0,"main",0)(1,"div",1)(2,"div",2)(3,"h2",3),b(4),d(5,"button",4),E("click",function(){return e.openCreate()}),d(6,"mat-icon"),b(7,"add"),u()()(),d(8,"p",5),b(9),u()(),d(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),b(13),u(),d(14,"input",8),E("input",function(c){return e.onSearchChange(c)}),u(),d(15,"mat-icon",9),b(16,"search"),u()(),d(17,"mat-form-field",10)(18,"mat-label"),b(19),u(),d(20,"mat-select",11),E("selectionChange",function(c){return e.onFilterStatusChange(c.value)}),d(21,"mat-option",12),b(22),u(),ct(23,Qr,2,2,"mat-option",13,$t),u()(),d(25,"mat-form-field",10)(26,"mat-label"),b(27),u(),d(28,"mat-select",11),E("selectionChange",function(c){return e.onFilterTypeChange(c.value)}),d(29,"mat-option",12),b(30),u(),ct(31,Wr,2,2,"mat-option",13,$t),u()(),d(33,"mat-form-field",10)(34,"mat-label"),b(35),u(),d(36,"mat-select",11),E("selectionChange",function(c){return e.onSortChange(c.value)}),d(37,"mat-option",14),b(38),u(),d(39,"mat-option",15),b(40),u(),d(41,"mat-option",16),b(42),u()()()(),R(43,Zr,2,0,"div",17),R(44,Yr,2,1,"div",18),R(45,Kr,3,0,"div",19),u()(),R(46,Jr,19,6,"div",20),R(47,ys,53,18,"div",20)),t&2&&(s(4),$(" ",e.ts.t("admin.users.title")," "),s(),L("title",e.ts.t("admin.users.add")),s(4),M(e.ts.t("admin.users.subtitle")),s(4),M(e.ts.t("admin.users.search")),s(),L("value",e.searchTerm()),s(5),M(e.ts.t("admin.users.filterStatus")),s(),L("value",e.filterStatus()),s(2),M(e.ts.t("admin.users.all")),s(),mt(e.userStatuses),s(4),M(e.ts.t("admin.users.filterType")),s(),L("value",e.filterType()),s(2),M(e.ts.t("admin.users.all")),s(),mt(e.userTypes),s(4),M(e.ts.t("admin.users.sort")),s(),L("value",e.sortOrder()),s(2),M(e.ts.t("admin.users.sortDefault")),s(2),M(e.ts.t("admin.users.sortAZ")),s(2),M(e.ts.t("admin.users.sortZA")),s(),F(e.isLoading()?43:-1),s(),F(!e.isLoading()&&e.users().length===0?44:-1),s(),F(!e.isLoading()&&e.users().length>0?45:-1),s(),F(e.userToDelete()?46:-1),s(),F(e.editingUser()||e.isCreating()?47:-1))},dependencies:[Lt,be,pe,Ht,Qt,Wt,ge,ue,xe,he,Ce,ve,Ne,_e,Tt,te,ee,zt,Dt,kt,Xt,Yt,Zt,fe,Ma,Jt,Kt,ze,Le,Fe,ne,ie],styles:['@import"https://fonts.googleapis.com/css2?family=Fraunces:wght@500;700&family=Space+Grotesk:wght@400;500;600&display=swap";[_nghost-%COMP%]{--ink: #1b1a17;--clay: #f3ede4;--sand: #fbf8f2;--copper: #c86d3f;--rust: #8a3f24;--sage: #7a8f6a;--shadow: 0 25px 60px rgba(27, 26, 23, .18);display:block;min-height:100vh;overflow-x:clip;overflow-y:visible;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);color:var(--ink);font-family:Space Grotesk,Segoe UI,sans-serif}[_nghost-%COMP%]:before, [_nghost-%COMP%]:after{content:"";position:fixed;inset:auto auto 8% -10%;width:320px;height:320px;background:conic-gradient(from 120deg,#c86d3f26,#7a8f6a26);border-radius:50%;filter:blur(10px);z-index:0}[_nghost-%COMP%]:after{inset:-5% -10% auto auto;width:280px;height:280px;background:radial-gradient(circle,rgba(200,109,63,.2),transparent 70%)}.page[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:minmax(280px,560px);justify-content:center;align-items:start;padding:1rem clamp(1rem,3vw,3rem) 1.5rem}.site-header[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;align-items:center;justify-content:space-between;padding:1rem clamp(1rem,3vw,3rem);background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff}.brand[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;letter-spacing:.3rem;text-transform:uppercase;color:#fff}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.panel[_ngcontent-%COMP%]{background:var(--sand);border-radius:24px;padding:1.5rem 2rem;box-shadow:var(--shadow);border:1px solid rgba(27,26,23,.08);animation:_ngcontent-%COMP%_float-in .8s ease forwards}.panel__header[_ngcontent-%COMP%]{display:grid;gap:.25rem;margin-bottom:1rem}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.2rem;font-size:.75rem;color:var(--rust);margin:0}h1[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:clamp(2rem,3vw,2.6rem);margin:0}.subtitle[_ngcontent-%COMP%]{margin:0;color:#1b1a17b3}.form[_ngcontent-%COMP%]{display:grid;gap:.75rem}.field[_ngcontent-%COMP%]{display:grid;gap:.25rem}label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border:1px solid rgba(27,26,23,.2);border-radius:12px;padding:.65rem .875rem;font-size:.95rem;background:#fff;transition:border-color .2s ease,box-shadow .2s ease}input[_ngcontent-%COMP%]:not([matInput]):focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--copper);box-shadow:0 0 0 3px #c86d3f33}.form__actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;margin-top:.5rem}button[_ngcontent-%COMP%]{border-radius:999px;padding:.65rem 1.5rem;font-size:.9rem;font-weight:600;cursor:pointer;border:none}.primary[_ngcontent-%COMP%]{background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff;box-shadow:0 12px 25px #8a3f2459}.ghost[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(27,26,23,.2);color:var(--ink)}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]{border-color:#fff6;color:#fff}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]:hover{background:#ffffff26}@keyframes _ngcontent-%COMP%_float-in{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media(max-width:900px){.page[_ngcontent-%COMP%]{min-height:auto}}@media(max-width:600px){.panel[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-radius:20px}.site-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.form__actions[_ngcontent-%COMP%]{flex-direction:column}button[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{font-size:1.75rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.95rem}}@media(max-width:400px){[_nghost-%COMP%]{overflow-x:clip;overflow-y:visible}.page[_ngcontent-%COMP%]{padding:1.5rem 1rem 3rem;grid-template-columns:1fr}.panel[_ngcontent-%COMP%]{padding:1.5rem 1rem;border-radius:16px}.site-header[_ngcontent-%COMP%]{padding:1rem 1rem 0}h1[_ngcontent-%COMP%]{font-size:1.5rem}.subtitle[_ngcontent-%COMP%]{font-size:.9rem}label[_ngcontent-%COMP%]{font-size:.875rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border-radius:10px;padding:.7rem .75rem;font-size:.9rem}button[_ngcontent-%COMP%]{padding:.7rem 1.2rem;font-size:.9rem}}.page-admin[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;flex-direction:column;align-items:center;min-height:calc(100vh - 60px);padding:2rem 1rem}.outer-container[_ngcontent-%COMP%]{max-width:960px;width:100%}.welcome-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;position:sticky;top:7.5rem;z-index:30;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);padding:.75rem 0 .5rem}.welcome-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:1.5rem;margin:0 0 .5rem;color:var(--rust);display:flex;align-items:center;justify-content:center;gap:.75rem}.btn-add[_ngcontent-%COMP%]{background:var(--copper)!important;color:#fff!important;width:36px!important;height:36px!important;padding:0!important;display:flex!important;align-items:center!important;justify-content:center!important}.btn-add[_ngcontent-%COMP%]:hover{opacity:.85}.welcome-text[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#1b1a17b3}.filters-bar[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-bottom:1.25rem;flex-wrap:wrap}.filter-field[_ngcontent-%COMP%]{flex:1;min-width:140px}.search-field[_ngcontent-%COMP%]{flex:2;min-width:200px}.users-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.user-card[_ngcontent-%COMP%]{background:#fff!important;border-radius:14px!important;border:1px solid rgba(27,26,23,.08);overflow:hidden;padding:0!important;transition:box-shadow .2s ease;display:flex!important;flex-direction:row!important;align-items:center}.user-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #1b1a171a!important}.user-body[_ngcontent-%COMP%]{padding:.75rem 1rem!important;flex:1;display:flex!important;align-items:center;gap:1rem}.user-info[_ngcontent-%COMP%]{flex:1;min-width:0}.user-name[_ngcontent-%COMP%]{font-weight:600;font-size:.95rem;color:var(--ink)}.user-email[_ngcontent-%COMP%]{font-size:.8rem;color:#1b1a178c;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.user-badges[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-shrink:0}.badge[_ngcontent-%COMP%]{display:inline-block;padding:.2rem .6rem;border-radius:999px;font-size:.72rem;font-weight:600;white-space:nowrap}.badge-type[_ngcontent-%COMP%]{background:#1b1a1714;color:var(--ink)}.badge-type[data-type=Administrator][_ngcontent-%COMP%]{background:#6a5acd1f;color:#6a5acd}.badge-type[data-type=Waiter][_ngcontent-%COMP%]{background:#1e90ff1f;color:#1e90ff}.badge-type[data-type=Cook][_ngcontent-%COMP%]{background:#ff8c001f;color:#e07800}.badge-type[data-type=Client][_ngcontent-%COMP%]{background:#1b1a1714;color:#1b1a1799}.badge-status[data-status=active][_ngcontent-%COMP%]{background:#28a7451f;color:#28a745}.badge-status[data-status=inactive][_ngcontent-%COMP%]{background:#ffa5001f;color:#e69500}.badge-status[data-status=blocked][_ngcontent-%COMP%]{background:#dc35451f;color:#dc3545}.user-actions[_ngcontent-%COMP%]{display:flex!important;gap:.25rem;padding:.4rem .75rem!important;margin:0!important;flex-shrink:0}.action-btn[_ngcontent-%COMP%]{color:#1b1a1773!important;width:36px!important;height:36px!important;padding:0!important;border-radius:50%!important;display:flex!important;align-items:center!important;justify-content:center!important}.action-btn[_ngcontent-%COMP%]:hover{color:var(--ink)!important}.action-btn.delete[_ngcontent-%COMP%]:hover{color:var(--rust)!important}.action-btn.toggle[_ngcontent-%COMP%]:hover{color:var(--copper)!important}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:3rem}.empty[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#1b1a1780}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0006;display:flex;align-items:center;justify-content:center;z-index:100}.modal[_ngcontent-%COMP%]{position:relative;background:var(--sand)!important;border-radius:16px!important;padding:1.5rem!important;max-width:400px;width:90%;box-shadow:0 12px 40px #00000026!important;max-height:90vh;overflow-y:auto}.modal-close[_ngcontent-%COMP%]{position:sticky!important;top:0;float:right;margin-left:auto;z-index:10;width:36px!important;height:36px!important;padding:0!important;border-radius:50%!important;background:#fff!important;border:1px solid rgba(27,26,23,.1)!important;display:flex!important;align-items:center!important;justify-content:center!important;color:var(--ink)!important}.modal-close[_ngcontent-%COMP%]:hover{background:var(--clay)!important}.modal[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:0!important;margin:0!important}.modal-edit[_ngcontent-%COMP%]{max-width:420px}.modal-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif!important;font-size:1.25rem!important;margin:0 0 .75rem!important;color:var(--ink)!important;padding:0!important}.modal-text[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:.9rem;color:#1b1a17b3}.modal[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0!important}.modal-error[_ngcontent-%COMP%]{background:#dc35451a;color:#dc3545;padding:.5rem .75rem;border-radius:8px;font-size:.85rem;margin-bottom:1rem}.modal-field-full[_ngcontent-%COMP%]{width:100%;margin-bottom:.25rem}  .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__leading,   .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__notch,   .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__trailing{border-color:#1b1a1740!important;border-width:1px!important}  .modal-edit .mat-mdc-form-field.mat-focused .mat-mdc-floating-label{color:#1b1a1799!important}  .modal-edit .mdc-text-field--focused .mdc-notched-outline__leading,   .modal-edit .mdc-text-field--focused .mdc-notched-outline__notch,   .modal-edit .mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#1b1a1740!important;border-width:1px!important}  .modal-edit input.mat-mdc-input-element:focus,   .modal-edit textarea.mat-mdc-input-element:focus,   .modal-edit .mat-mdc-select:focus,   .modal-edit .mat-mdc-select-trigger:focus{outline:none!important;box-shadow:none!important}  .modal-edit .mat-mdc-text-field-wrapper:focus-within{outline:none!important;box-shadow:none!important}.modal-actions[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-end;gap:.75rem;margin:1rem 0 0!important;padding:0!important}.btn-cancel[_ngcontent-%COMP%]{border-radius:10px!important;color:var(--ink)!important;border-color:#1b1a1726!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-cancel[_ngcontent-%COMP%]:hover{background:#1b1a170a!important}.btn-danger[_ngcontent-%COMP%]{border-radius:10px!important;background:var(--rust)!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-danger[_ngcontent-%COMP%]:hover{opacity:.9}.btn-primary[_ngcontent-%COMP%]{border-radius:10px!important;background:var(--copper)!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-primary[_ngcontent-%COMP%]:hover{opacity:.9}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6!important;cursor:not-allowed}@media(max-width:500px){.welcome-header[_ngcontent-%COMP%]{top:6.25rem}}@media(max-width:700px){.filters-bar[_ngcontent-%COMP%]{flex-direction:column}.filter-field[_ngcontent-%COMP%]{min-width:100%}.user-card[_ngcontent-%COMP%]{flex-direction:column!important;align-items:stretch}.user-body[_ngcontent-%COMP%]{flex-direction:column!important;align-items:flex-start}.user-actions[_ngcontent-%COMP%]{justify-content:flex-end;border-top:1px solid rgba(27,26,23,.06)}}']})};var Je=class i{constructor(n){this.apiService=n}getCombos(){return this.apiService.get("/api/combos").pipe(Ot(n=>n.data??[]))}createCombo(n){return this.apiService.post("/api/combos",{combo:n}).pipe(Ot(t=>t.data))}static \u0275fac=function(t){return new(t||i)(Ae(Gt))};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})};var ws=["createAvailList"];function Ms(i,n){if(i&1&&(d(0,"div",7),b(1),u()),i&2){let t=x();s(),M(t.loadError())}}function Is(i,n){if(i&1&&(d(0,"div",7),b(1),u()),i&2){let t=x();s(),M(t.actionError())}}function Ps(i,n){i&1&&(d(0,"div",8),it(1,"mat-spinner",12),u())}function Ss(i,n){if(i&1&&(d(0,"div",9),b(1),u()),i&2){let t=x();s(),M(t.ts.t("admin.combos.empty"))}}function Os(i,n){if(i&1&&(d(0,"span",18),b(1),u()),i&2){let t=x(3);s(),M(t.ts.t("admin.unavailable"))}}function Ts(i,n){if(i&1&&(d(0,"mat-card",14)(1,"mat-card-content",15)(2,"div",16)(3,"div",17),b(4),R(5,Os,2,1,"span",18),u(),d(6,"div",19),b(7),u()(),d(8,"div",20),b(9),Ei(10,"number"),u()()()),i&2){let t=n.$implicit,e=x(2);yt("unavailable",e.unavailableIds().has(t.id)),s(4),$(" ",t.name," "),s(),F(e.unavailableIds().has(t.id)?5:-1),s(2),M(t.description||"\u2014"),s(2),$("",Ai(10,6,t.price,"1.2-2")," $")}}function ks(i,n){if(i&1&&(d(0,"div",10),ct(1,Ts,11,9,"mat-card",13,Oi().trackByComboId,!0),u()),i&2){let t=x();s(),mt(t.combos())}}function Ds(i,n){if(i&1&&b(0),i&2){let t=x(3);$(" ",t.ts.t("admin.nameRequired")," ")}}function Es(i,n){if(i&1&&b(0),i&2){let t=x(3);$(" ",t.ts.t("admin.combos.nameMaxLength")," ")}}function As(i,n){if(i&1&&b(0),i&2){let t=x(3);$(" ",t.ts.t("admin.combos.nameWhitespace")," ")}}function Rs(i,n){if(i&1&&(d(0,"mat-error"),R(1,Ds,1,1)(2,Es,1,1)(3,As,1,1),u()),i&2){let t=x(2);s(),F(t.createForm.controls.name.errors.required?1:t.createForm.controls.name.errors.maxlength?2:t.createForm.controls.name.errors.whitespace?3:-1)}}function Fs(i,n){if(i&1&&(d(0,"mat-error"),b(1),u()),i&2){let t=x(2);s(),M(t.ts.t("admin.combos.descMaxLength"))}}function Ls(i,n){if(i&1&&b(0),i&2){let t=x(3);$(" ",t.ts.t("admin.priceRequired")," ")}}function zs(i,n){if(i&1&&b(0),i&2){let t=x(3);$(" ",t.ts.t("admin.combos.priceMin")," ")}}function Ns(i,n){if(i&1&&(d(0,"mat-error"),R(1,Ls,1,1)(2,zs,1,1),u()),i&2){let t=x(2);s(),F(t.createForm.controls.price.errors.required?1:t.createForm.controls.price.errors.min?2:-1)}}function Bs(i,n){if(i&1){let t=dt();d(0,"div",11)(1,"mat-card",21)(2,"button",22),E("click",function(){N(t);let a=x();return B(a.cancelCreate())}),d(3,"mat-icon"),b(4,"close"),u()(),d(5,"mat-card-header")(6,"mat-card-title",23),b(7),u()(),d(8,"mat-card-content")(9,"form",24),E("ngSubmit",function(){N(t);let a=x();return B(a.saveCreate())}),d(10,"mat-form-field",25)(11,"mat-label"),b(12),u(),it(13,"input",26),R(14,Rs,4,1,"mat-error"),u(),d(15,"mat-form-field",25)(16,"mat-label"),b(17),u(),it(18,"textarea",27),R(19,Fs,2,1,"mat-error"),u(),d(20,"mat-form-field",25)(21,"mat-label"),b(22),u(),it(23,"input",28),R(24,Ns,3,1,"mat-error"),u(),d(25,"app-availability-list",29,0),E("availabilitiesChange",function(a){N(t);let c=x();return B(c.createAvailabilities.set(a))}),u(),d(27,"mat-card-actions",30)(28,"button",31),E("click",function(){N(t);let a=x();return B(a.cancelCreate())}),b(29),u(),d(30,"button",32),b(31),u()()()()()()}if(i&2){let t=x();s(7),M(t.ts.t("admin.combos.createTitle")),s(2),L("formGroup",t.createForm),s(3),M(t.ts.t("admin.name")),s(2),F(t.createForm.controls.name.dirty&&t.createForm.controls.name.errors?14:-1),s(3),M(t.ts.t("admin.description")),s(2),F(t.createForm.controls.description.dirty&&(t.createForm.controls.description.errors!=null&&t.createForm.controls.description.errors.maxlength)?19:-1),s(3),M(t.ts.t("admin.price")),s(2),F(t.createForm.controls.price.dirty&&t.createForm.controls.price.errors?24:-1),s(),L("availabilities",t.createAvailabilities())("disabled",t.isSaving()),s(4),M(t.ts.t("admin.cancel")),s(),L("disabled",t.createForm.invalid||t.isSaving()),s(),$(" ",t.isSaving()?t.ts.t("admin.combos.creating"):t.ts.t("tables.create")," ")}}function Vs(i){return i.value&&/^\s*$/.test(i.value)?{whitespace:!0}:null}var Hi=class i{constructor(n,t,e,a,c){this.combosService=n;this.availabilityService=t;this.errorService=e;this.ngZone=a;this.ts=c;this.ngZone.runOutsideAngular(()=>{this.nowInterval=setInterval(()=>{this.ngZone.run(()=>this.now.set(Date.now()))},6e4)})}createAvailList;combos=V([]);createAvailabilities=V([]);now=V(Date.now());nowInterval;unavailableIds=Te(()=>{let n=this.now();return new Set(this.combos().filter(t=>!t.availabilities||t.availabilities.length===0?!1:!t.availabilities.some(e=>{let a=new Date(e.start_at).getTime(),c=e.end_at?new Date(e.end_at).getTime():1/0;return a<=n&&n<c})).map(t=>t.id))});ngOnDestroy(){clearInterval(this.nowInterval)}isLoading=V(!0);loadError=V("");actionError=V("");isCreating=V(!1);isSaving=V(!1);createForm=new me({name:new pt("",[W.required,W.maxLength(100),Vs]),description:new pt("",[W.maxLength(500)]),price:new pt(null,[W.required,W.min(.01)])});ngOnInit(){this.loadCombos()}loadCombos(){this.isLoading.set(!0),this.loadError.set(""),this.combosService.getCombos().subscribe({next:n=>{this.combos.set(n),this.isLoading.set(!1)},error:n=>{this.loadError.set(this.errorService.format(this.errorService.fromApiError(n))),this.isLoading.set(!1)}})}openCreate(){this.actionError.set(""),this.isCreating.set(!0),this.createAvailabilities.set([]),this.createForm.reset({name:"",description:"",price:null}),this.createForm.markAsPristine(),this.createForm.markAsUntouched()}cancelCreate(){this.isCreating.set(!1),this.isSaving.set(!1),this.actionError.set(""),this.createAvailabilities.set([])}saveCreate(){if(Object.values(this.createForm.controls).forEach(c=>c.markAsDirty()),this.createForm.invalid||this.isSaving())return;let n=this.createForm.getRawValue(),t=n.name?.trim()??"",e=n.description?.trim()??"",a=Number(n.price);this.actionError.set(""),this.isSaving.set(!0),this.combosService.createCombo({name:t,description:e,price:a}).subscribe({next:c=>{this.combos.update(y=>[c,...y]),this.availabilityService.syncAvailabilities(this.createAvailabilities(),[],y=>this.availabilityService.createAvailability("combos",c.id,y),(y,z)=>this.availabilityService.updateAvailability("combos",c.id,y,z),y=>this.availabilityService.deleteAvailability("combos",c.id,y)).subscribe({next:()=>{this.isSaving.set(!1),this.isCreating.set(!1)},error:()=>{this.isSaving.set(!1),this.isCreating.set(!1)}})},error:c=>{this.actionError.set(this.errorService.format(this.errorService.fromApiError(c))),this.isSaving.set(!1)}})}trackByComboId(n,t){return t.id}static \u0275fac=function(t){return new(t||i)(K(Je),K(Be),K(ye),K(qt),K(Et))};static \u0275cmp=ft({type:i,selectors:[["app-admin-combos"]],viewQuery:function(t,e){if(t&1&&jt(ws,5),t&2){let a;ut(a=gt())&&(e.createAvailList=a.first)}},decls:16,vars:9,consts:[["createAvailList",""],[1,"page-admin"],[1,"outer-container"],[1,"welcome-header"],[1,"welcome-title"],["mat-mini-fab","",1,"btn-add",3,"click","title"],[1,"welcome-text"],[1,"admin-error"],[1,"loading"],[1,"empty"],[1,"combos-list"],[1,"modal-overlay"],["diameter","48"],[1,"combo-card",3,"unavailable"],[1,"combo-card"],[1,"combo-body"],[1,"combo-main"],[1,"combo-name"],[1,"unavailable-badge"],[1,"combo-description"],[1,"combo-price"],[1,"modal","modal-create"],["mat-icon-button","",1,"modal-close",3,"click"],[1,"modal-title"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"modal-field-full"],["matInput","","formControlName","name"],["matInput","","rows","3","formControlName","description"],["matInput","","type","number","step","0.01","min","0.01","formControlName","price"],[3,"availabilitiesChange","availabilities","disabled"],[1,"modal-actions"],["mat-stroked-button","","type","button",1,"btn-cancel",3,"click"],["mat-flat-button","","type","submit",1,"btn-primary",3,"disabled"]],template:function(t,e){t&1&&(d(0,"main",1)(1,"div",2)(2,"div",3)(3,"h2",4),b(4),d(5,"button",5),E("click",function(){return e.openCreate()}),d(6,"mat-icon"),b(7,"add"),u()()(),d(8,"p",6),b(9),u()(),R(10,Ms,2,1,"div",7),R(11,Is,2,1,"div",7),R(12,Ps,2,0,"div",8),R(13,Ss,2,1,"div",9),R(14,ks,3,0,"div",10),u()(),R(15,Bs,32,13,"div",11)),t&2&&(s(4),$(" ",e.ts.t("admin.combos.title")," "),s(),L("title",e.ts.t("admin.combos.add")),s(4),M(e.ts.t("admin.combos.subtitle")),s(),F(e.loadError()?10:-1),s(),F(e.actionError()?11:-1),s(),F(e.isLoading()?12:-1),s(),F(!e.isLoading()&&e.combos().length===0?13:-1),s(),F(!e.isLoading()&&e.combos().length>0?14:-1),s(),F(e.isCreating()?15:-1))},dependencies:[Lt,be,pe,Ht,Re,Qt,Wt,Xe,ge,ue,xe,he,Ce,ve,Ne,_e,Tt,te,ee,zt,Dt,kt,Xt,Yt,Zt,fe,Jt,Kt,ne,ie,ke,Fi],styles:['@import"https://fonts.googleapis.com/css2?family=Fraunces:wght@500;700&family=Space+Grotesk:wght@400;500;600&display=swap";[_nghost-%COMP%]{--ink: #1b1a17;--clay: #f3ede4;--sand: #fbf8f2;--copper: #c86d3f;--rust: #8a3f24;--sage: #7a8f6a;--shadow: 0 25px 60px rgba(27, 26, 23, .18);display:block;min-height:100vh;overflow-x:clip;overflow-y:visible;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);color:var(--ink);font-family:Space Grotesk,Segoe UI,sans-serif}[_nghost-%COMP%]:before, [_nghost-%COMP%]:after{content:"";position:fixed;inset:auto auto 8% -10%;width:320px;height:320px;background:conic-gradient(from 120deg,#c86d3f26,#7a8f6a26);border-radius:50%;filter:blur(10px);z-index:0}[_nghost-%COMP%]:after{inset:-5% -10% auto auto;width:280px;height:280px;background:radial-gradient(circle,rgba(200,109,63,.2),transparent 70%)}.page[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:minmax(280px,560px);justify-content:center;align-items:start;padding:1rem clamp(1rem,3vw,3rem) 1.5rem}.site-header[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;align-items:center;justify-content:space-between;padding:1rem clamp(1rem,3vw,3rem);background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff}.brand[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;letter-spacing:.3rem;text-transform:uppercase;color:#fff}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.panel[_ngcontent-%COMP%]{background:var(--sand);border-radius:24px;padding:1.5rem 2rem;box-shadow:var(--shadow);border:1px solid rgba(27,26,23,.08);animation:_ngcontent-%COMP%_float-in .8s ease forwards}.panel__header[_ngcontent-%COMP%]{display:grid;gap:.25rem;margin-bottom:1rem}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.2rem;font-size:.75rem;color:var(--rust);margin:0}h1[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:clamp(2rem,3vw,2.6rem);margin:0}.subtitle[_ngcontent-%COMP%]{margin:0;color:#1b1a17b3}.form[_ngcontent-%COMP%]{display:grid;gap:.75rem}.field[_ngcontent-%COMP%]{display:grid;gap:.25rem}label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border:1px solid rgba(27,26,23,.2);border-radius:12px;padding:.65rem .875rem;font-size:.95rem;background:#fff;transition:border-color .2s ease,box-shadow .2s ease}input[_ngcontent-%COMP%]:not([matInput]):focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--copper);box-shadow:0 0 0 3px #c86d3f33}.form__actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;margin-top:.5rem}button[_ngcontent-%COMP%]{border-radius:999px;padding:.65rem 1.5rem;font-size:.9rem;font-weight:600;cursor:pointer;border:none}.primary[_ngcontent-%COMP%]{background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff;box-shadow:0 12px 25px #8a3f2459}.ghost[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(27,26,23,.2);color:var(--ink)}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]{border-color:#fff6;color:#fff}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]:hover{background:#ffffff26}@keyframes _ngcontent-%COMP%_float-in{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media(max-width:900px){.page[_ngcontent-%COMP%]{min-height:auto}}@media(max-width:600px){.panel[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-radius:20px}.site-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.form__actions[_ngcontent-%COMP%]{flex-direction:column}button[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{font-size:1.75rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.95rem}}@media(max-width:400px){[_nghost-%COMP%]{overflow-x:clip;overflow-y:visible}.page[_ngcontent-%COMP%]{padding:1.5rem 1rem 3rem;grid-template-columns:1fr}.panel[_ngcontent-%COMP%]{padding:1.5rem 1rem;border-radius:16px}.site-header[_ngcontent-%COMP%]{padding:1rem 1rem 0}h1[_ngcontent-%COMP%]{font-size:1.5rem}.subtitle[_ngcontent-%COMP%]{font-size:.9rem}label[_ngcontent-%COMP%]{font-size:.875rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border-radius:10px;padding:.7rem .75rem;font-size:.9rem}button[_ngcontent-%COMP%]{padding:.7rem 1.2rem;font-size:.9rem}}.page-admin[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;flex-direction:column;align-items:center;min-height:calc(100vh - 60px);padding:2rem 1rem}.outer-container[_ngcontent-%COMP%]{max-width:760px;width:100%}.welcome-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;position:sticky;top:7.5rem;z-index:30;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);padding:.75rem 0 .5rem}.welcome-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:1.5rem;margin:0 0 .5rem;color:var(--rust);display:flex;align-items:center;justify-content:center;gap:.75rem}.welcome-text[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#1b1a17b3}.btn-add[_ngcontent-%COMP%]{background:var(--copper)!important;color:#fff!important;width:36px!important;height:36px!important}.combos-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:.85rem}.combo-card[_ngcontent-%COMP%]{border:1px solid rgba(27,26,23,.1);border-radius:14px!important;background:var(--sand)!important}.combo-body[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between;align-items:flex-start;gap:1rem;padding:.9rem 1rem!important}.combo-main[_ngcontent-%COMP%]{min-width:0}.combo-name[_ngcontent-%COMP%]{color:var(--ink);font-weight:600;font-size:.95rem;margin-bottom:.3rem}.combo-description[_ngcontent-%COMP%]{color:#1b1a17a6;font-size:.82rem;line-height:1.35}.combo-price[_ngcontent-%COMP%]{color:var(--rust);font-weight:700;font-size:.95rem;white-space:nowrap}.combo-card.unavailable[_ngcontent-%COMP%]{background:#f5f5f5!important;border-color:#1b1a170d!important;opacity:.75}.combo-card.unavailable[_ngcontent-%COMP%]   .combo-name[_ngcontent-%COMP%], .combo-card.unavailable[_ngcontent-%COMP%]   .combo-description[_ngcontent-%COMP%], .combo-card.unavailable[_ngcontent-%COMP%]   .combo-price[_ngcontent-%COMP%]{color:#1b1a1759!important}.unavailable-badge[_ngcontent-%COMP%]{display:inline-block;background:#0000008c;color:#fff;font-size:.65rem;font-weight:600;letter-spacing:.05em;text-transform:uppercase;font-family:Space Grotesk,Segoe UI,sans-serif;border-radius:6px;padding:.15rem .5rem;vertical-align:middle;margin-left:.5rem}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:3rem}.empty[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#1b1a1780}.admin-error[_ngcontent-%COMP%]{border:1px solid rgba(220,53,69,.25);color:#a12f3b;background:#fff1f3;border-radius:12px;padding:.65rem .85rem;margin-bottom:.8rem;font-size:.88rem}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0006;display:flex;align-items:center;justify-content:center;z-index:100}.modal[_ngcontent-%COMP%]{position:relative;background:var(--sand)!important;border-radius:16px!important;width:min(520px,calc(100vw - 2rem));padding:.75rem .75rem .25rem}.modal-close[_ngcontent-%COMP%]{position:absolute;top:.25rem;right:.25rem;color:#1b1a178c!important}.modal-title[_ngcontent-%COMP%]{color:var(--rust)!important;font-family:Fraunces,Times New Roman,serif!important;font-size:1.1rem!important}.modal-field-full[_ngcontent-%COMP%]{width:100%}.modal-actions[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-end;gap:.6rem;margin-top:.4rem!important;padding:0!important}.btn-primary[_ngcontent-%COMP%]{background:var(--copper)!important;color:var(--sand)!important}.btn-cancel[_ngcontent-%COMP%]{color:var(--ink)!important;border-color:#1b1a1740!important}']})};var Qi=class i{constructor(n){this.apiService=n}getComboItems(){return this.apiService.get("/api/combo_items").pipe(Ot(n=>n.data??[]))}createComboItem(n){return this.apiService.post("/api/combo_items",{combo_item:n}).pipe(Ot(t=>t.data))}static \u0275fac=function(t){return new(t||i)(Ae(Gt))};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})};var Wa=(i,n)=>n.id;function js(i,n){if(i&1&&(d(0,"div",6),b(1),u()),i&2){let t=x();s(),M(t.loadError())}}function $s(i,n){if(i&1&&(d(0,"div",6),b(1),u()),i&2){let t=x();s(),M(t.actionError())}}function Us(i,n){i&1&&(d(0,"div",7),it(1,"mat-spinner",11),u())}function Gs(i,n){if(i&1&&(d(0,"div",8),b(1),u()),i&2){let t=x();s(),M(t.ts.t("admin.comboItems.empty"))}}function Hs(i,n){if(i&1&&(d(0,"mat-card",12)(1,"mat-card-content",13)(2,"div",14)(3,"div",15),b(4),u(),d(5,"div",16),b(6),u()(),d(7,"div",17),b(8),u()()()),i&2){let t=n.$implicit;s(4),M(t.combo_name||"#"+t.combo_id),s(2),M(t.item_name||"#"+t.item_id),s(2),$("x",t.quantity)}}function Qs(i,n){if(i&1&&(d(0,"div",9),ct(1,Hs,9,3,"mat-card",12,Oi().trackByComboItemId,!0),u()),i&2){let t=x();s(),mt(t.comboItems())}}function Ws(i,n){if(i&1&&(d(0,"mat-option",24),b(1),u()),i&2){let t=n.$implicit;L("value",t.id),s(),M(t.name)}}function Zs(i,n){if(i&1&&(d(0,"mat-error"),b(1),u()),i&2){let t=x(2);s(),M(t.ts.t("admin.comboItems.comboRequired"))}}function Ys(i,n){if(i&1&&(d(0,"mat-option",24),b(1),u()),i&2){let t=n.$implicit;L("value",t.id),s(),M(t.name)}}function Xs(i,n){if(i&1&&(d(0,"mat-error"),b(1),u()),i&2){let t=x(2);s(),M(t.ts.t("admin.comboItems.itemRequired"))}}function Ks(i,n){if(i&1&&b(0),i&2){let t=x(3);$(" ",t.ts.t("admin.comboItems.quantityRequired")," ")}}function Js(i,n){if(i&1&&b(0),i&2){let t=x(3);$(" ",t.ts.t("admin.comboItems.quantityMin")," ")}}function tl(i,n){if(i&1&&(d(0,"mat-error"),R(1,Ks,1,1)(2,Js,1,1),u()),i&2){let t=x(2);s(),F(t.createForm.controls.quantity.errors.required?1:t.createForm.controls.quantity.errors.min?2:-1)}}function el(i,n){if(i&1){let t=dt();d(0,"div",10)(1,"mat-card",18)(2,"button",19),E("click",function(){N(t);let a=x();return B(a.cancelCreate())}),d(3,"mat-icon"),b(4,"close"),u()(),d(5,"mat-card-header")(6,"mat-card-title",20),b(7),u()(),d(8,"mat-card-content")(9,"form",21),E("ngSubmit",function(){N(t);let a=x();return B(a.saveCreate())}),d(10,"mat-form-field",22)(11,"mat-label"),b(12),u(),d(13,"mat-select",23),ct(14,Ws,2,2,"mat-option",24,Wa),u(),R(16,Zs,2,1,"mat-error"),u(),d(17,"mat-form-field",22)(18,"mat-label"),b(19),u(),d(20,"mat-select",25),ct(21,Ys,2,2,"mat-option",24,Wa),u(),R(23,Xs,2,1,"mat-error"),u(),d(24,"mat-form-field",22)(25,"mat-label"),b(26),u(),it(27,"input",26),R(28,tl,3,1,"mat-error"),u(),d(29,"mat-card-actions",27)(30,"button",28),E("click",function(){N(t);let a=x();return B(a.cancelCreate())}),b(31),u(),d(32,"button",29),b(33),u()()()()()()}if(i&2){let t=x();s(7),M(t.ts.t("admin.comboItems.createTitle")),s(2),L("formGroup",t.createForm),s(3),M(t.ts.t("admin.comboLabel")),s(2),mt(t.combos()),s(2),F(t.createForm.controls.combo_id.dirty&&(t.createForm.controls.combo_id.errors!=null&&t.createForm.controls.combo_id.errors.required)?16:-1),s(3),M(t.ts.t("admin.itemLabel")),s(2),mt(t.items()),s(2),F(t.createForm.controls.item_id.dirty&&(t.createForm.controls.item_id.errors!=null&&t.createForm.controls.item_id.errors.required)?23:-1),s(3),M(t.ts.t("admin.quantity")),s(2),F(t.createForm.controls.quantity.dirty&&t.createForm.controls.quantity.errors?28:-1),s(3),M(t.ts.t("admin.cancel")),s(),L("disabled",t.createForm.invalid||t.isSaving()),s(),$(" ",t.isSaving()?t.ts.t("admin.comboItems.creating"):t.ts.t("tables.create")," ")}}var Wi=class i{constructor(n,t,e,a,c){this.comboItemsService=n;this.combosService=t;this.itemsService=e;this.errorService=a;this.ts=c}comboItems=V([]);combos=V([]);items=V([]);isLoading=V(!0);loadError=V("");actionError=V("");isCreating=V(!1);isSaving=V(!1);createForm=new me({combo_id:new pt(null,[W.required]),item_id:new pt(null,[W.required]),quantity:new pt(1,[W.required,W.min(1)])});ngOnInit(){this.loadData()}loadData(){this.isLoading.set(!0),this.loadError.set("");let n=3,t=()=>{n-=1,n===0&&this.isLoading.set(!1)};this.comboItemsService.getComboItems().subscribe({next:e=>{this.comboItems.set(e),t()},error:e=>{this.loadError.set(this.errorService.format(this.errorService.fromApiError(e))),t()}}),this.combosService.getCombos().subscribe({next:e=>{this.combos.set(e),t()},error:e=>{this.loadError.set(this.errorService.format(this.errorService.fromApiError(e))),t()}}),this.itemsService.getItems({admin:!0}).subscribe({next:e=>{this.items.set(e.filter(a=>!a.deleted_at)),t()},error:e=>{this.loadError.set(this.errorService.format(this.errorService.fromApiError(e))),t()}})}openCreate(){this.actionError.set(""),this.isCreating.set(!0),this.createForm.reset({combo_id:null,item_id:null,quantity:1}),this.createForm.markAsPristine(),this.createForm.markAsUntouched()}cancelCreate(){this.isCreating.set(!1),this.isSaving.set(!1),this.actionError.set("")}saveCreate(){if(Object.values(this.createForm.controls).forEach(c=>c.markAsDirty()),this.createForm.invalid||this.isSaving())return;let n=this.createForm.getRawValue(),t=Number(n.combo_id),e=Number(n.item_id),a=Number(n.quantity);this.actionError.set(""),this.isSaving.set(!0),this.comboItemsService.createComboItem({combo_id:t,item_id:e,quantity:a}).subscribe({next:c=>{this.comboItems.update(y=>[c,...y]),this.isSaving.set(!1),this.isCreating.set(!1)},error:c=>{this.actionError.set(this.errorService.format(this.errorService.fromApiError(c))),this.isSaving.set(!1)}})}trackByComboItemId(n,t){return t.id}static \u0275fac=function(t){return new(t||i)(K(Qi),K(Je),K(Ke),K(ye),K(Et))};static \u0275cmp=ft({type:i,selectors:[["app-admin-combo-items"]],decls:16,vars:9,consts:[[1,"page-admin"],[1,"outer-container"],[1,"welcome-header"],[1,"welcome-title"],["mat-mini-fab","",1,"btn-add",3,"click","title"],[1,"welcome-text"],[1,"admin-error"],[1,"loading"],[1,"empty"],[1,"combo-items-list"],[1,"modal-overlay"],["diameter","48"],[1,"combo-item-card"],[1,"combo-item-body"],[1,"combo-item-main"],[1,"combo-item-combo"],[1,"combo-item-item"],[1,"combo-item-quantity"],[1,"modal","modal-create"],["mat-icon-button","",1,"modal-close",3,"click"],[1,"modal-title"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"modal-field-full"],["formControlName","combo_id"],[3,"value"],["formControlName","item_id"],["matInput","","type","number","min","1","step","1","formControlName","quantity"],[1,"modal-actions"],["mat-stroked-button","","type","button",1,"btn-cancel",3,"click"],["mat-flat-button","","type","submit",1,"btn-primary",3,"disabled"]],template:function(t,e){t&1&&(d(0,"main",0)(1,"div",1)(2,"div",2)(3,"h2",3),b(4),d(5,"button",4),E("click",function(){return e.openCreate()}),d(6,"mat-icon"),b(7,"add"),u()()(),d(8,"p",5),b(9),u()(),R(10,js,2,1,"div",6),R(11,$s,2,1,"div",6),R(12,Us,2,0,"div",7),R(13,Gs,2,1,"div",8),R(14,Qs,3,0,"div",9),u()(),R(15,el,34,11,"div",10)),t&2&&(s(4),$(" ",e.ts.t("admin.comboItems.title")," "),s(),L("title",e.ts.t("admin.comboItems.add")),s(4),M(e.ts.t("admin.comboItems.subtitle")),s(),F(e.loadError()?10:-1),s(),F(e.actionError()?11:-1),s(),F(e.isLoading()?12:-1),s(),F(!e.isLoading()&&e.comboItems().length===0?13:-1),s(),F(!e.isLoading()&&e.comboItems().length>0?14:-1),s(),F(e.isCreating()?15:-1))},dependencies:[Lt,be,pe,Ht,Re,Qt,Wt,Xe,ge,ue,xe,he,Ce,ve,Ne,_e,Tt,te,ee,zt,Dt,kt,Xt,Yt,Zt,fe,Jt,Kt,ze,Le,Fe,ne,ie],styles:['@import"https://fonts.googleapis.com/css2?family=Fraunces:wght@500;700&family=Space+Grotesk:wght@400;500;600&display=swap";[_nghost-%COMP%]{--ink: #1b1a17;--clay: #f3ede4;--sand: #fbf8f2;--copper: #c86d3f;--rust: #8a3f24;--sage: #7a8f6a;--shadow: 0 25px 60px rgba(27, 26, 23, .18);display:block;min-height:100vh;overflow-x:clip;overflow-y:visible;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);color:var(--ink);font-family:Space Grotesk,Segoe UI,sans-serif}[_nghost-%COMP%]:before, [_nghost-%COMP%]:after{content:"";position:fixed;inset:auto auto 8% -10%;width:320px;height:320px;background:conic-gradient(from 120deg,#c86d3f26,#7a8f6a26);border-radius:50%;filter:blur(10px);z-index:0}[_nghost-%COMP%]:after{inset:-5% -10% auto auto;width:280px;height:280px;background:radial-gradient(circle,rgba(200,109,63,.2),transparent 70%)}.page[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:minmax(280px,560px);justify-content:center;align-items:start;padding:1rem clamp(1rem,3vw,3rem) 1.5rem}.site-header[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;align-items:center;justify-content:space-between;padding:1rem clamp(1rem,3vw,3rem);background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff}.brand[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;letter-spacing:.3rem;text-transform:uppercase;color:#fff}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.panel[_ngcontent-%COMP%]{background:var(--sand);border-radius:24px;padding:1.5rem 2rem;box-shadow:var(--shadow);border:1px solid rgba(27,26,23,.08);animation:_ngcontent-%COMP%_float-in .8s ease forwards}.panel__header[_ngcontent-%COMP%]{display:grid;gap:.25rem;margin-bottom:1rem}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.2rem;font-size:.75rem;color:var(--rust);margin:0}h1[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:clamp(2rem,3vw,2.6rem);margin:0}.subtitle[_ngcontent-%COMP%]{margin:0;color:#1b1a17b3}.form[_ngcontent-%COMP%]{display:grid;gap:.75rem}.field[_ngcontent-%COMP%]{display:grid;gap:.25rem}label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border:1px solid rgba(27,26,23,.2);border-radius:12px;padding:.65rem .875rem;font-size:.95rem;background:#fff;transition:border-color .2s ease,box-shadow .2s ease}input[_ngcontent-%COMP%]:not([matInput]):focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--copper);box-shadow:0 0 0 3px #c86d3f33}.form__actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;margin-top:.5rem}button[_ngcontent-%COMP%]{border-radius:999px;padding:.65rem 1.5rem;font-size:.9rem;font-weight:600;cursor:pointer;border:none}.primary[_ngcontent-%COMP%]{background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff;box-shadow:0 12px 25px #8a3f2459}.ghost[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(27,26,23,.2);color:var(--ink)}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]{border-color:#fff6;color:#fff}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]:hover{background:#ffffff26}@keyframes _ngcontent-%COMP%_float-in{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media(max-width:900px){.page[_ngcontent-%COMP%]{min-height:auto}}@media(max-width:600px){.panel[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-radius:20px}.site-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.form__actions[_ngcontent-%COMP%]{flex-direction:column}button[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{font-size:1.75rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.95rem}}@media(max-width:400px){[_nghost-%COMP%]{overflow-x:clip;overflow-y:visible}.page[_ngcontent-%COMP%]{padding:1.5rem 1rem 3rem;grid-template-columns:1fr}.panel[_ngcontent-%COMP%]{padding:1.5rem 1rem;border-radius:16px}.site-header[_ngcontent-%COMP%]{padding:1rem 1rem 0}h1[_ngcontent-%COMP%]{font-size:1.5rem}.subtitle[_ngcontent-%COMP%]{font-size:.9rem}label[_ngcontent-%COMP%]{font-size:.875rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border-radius:10px;padding:.7rem .75rem;font-size:.9rem}button[_ngcontent-%COMP%]{padding:.7rem 1.2rem;font-size:.9rem}}.page-admin[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;flex-direction:column;align-items:center;min-height:calc(100vh - 60px);padding:2rem 1rem}.outer-container[_ngcontent-%COMP%]{max-width:760px;width:100%}.welcome-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;position:sticky;top:7.5rem;z-index:30;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);padding:.75rem 0 .5rem}.welcome-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:1.5rem;margin:0 0 .5rem;color:var(--rust);display:flex;align-items:center;justify-content:center;gap:.75rem}.welcome-text[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#1b1a17b3}.btn-add[_ngcontent-%COMP%]{background:var(--copper)!important;color:#fff!important;width:36px!important;height:36px!important}.combo-items-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:.85rem}.combo-item-card[_ngcontent-%COMP%]{border:1px solid rgba(27,26,23,.1);border-radius:14px!important;background:var(--sand)!important}.combo-item-body[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between;align-items:center;gap:1rem;padding:.9rem 1rem!important}.combo-item-main[_ngcontent-%COMP%]{min-width:0}.combo-item-combo[_ngcontent-%COMP%]{color:var(--ink);font-weight:600;font-size:.95rem;margin-bottom:.2rem}.combo-item-item[_ngcontent-%COMP%]{color:#1b1a17a6;font-size:.84rem}.combo-item-quantity[_ngcontent-%COMP%]{color:var(--rust);font-weight:700;font-size:1rem;white-space:nowrap}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:3rem}.empty[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#1b1a1780}.admin-error[_ngcontent-%COMP%]{border:1px solid rgba(220,53,69,.25);color:#a12f3b;background:#fff1f3;border-radius:12px;padding:.65rem .85rem;margin-bottom:.8rem;font-size:.88rem}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0006;display:flex;align-items:center;justify-content:center;z-index:100}.modal[_ngcontent-%COMP%]{position:relative;background:var(--sand)!important;border-radius:16px!important;width:min(520px,calc(100vw - 2rem));padding:.75rem .75rem .25rem}.modal-close[_ngcontent-%COMP%]{position:absolute;top:.25rem;right:.25rem;color:#1b1a178c!important}.modal-title[_ngcontent-%COMP%]{color:var(--rust)!important;font-family:Fraunces,Times New Roman,serif!important;font-size:1.1rem!important}.modal-field-full[_ngcontent-%COMP%]{width:100%}.modal-actions[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-end;gap:.6rem;margin-top:.4rem!important;padding:0!important}.btn-primary[_ngcontent-%COMP%]{background:var(--copper)!important;color:var(--sand)!important}.btn-cancel[_ngcontent-%COMP%]{color:var(--ink)!important;border-color:#1b1a1740!important}']})};function il(i,n){i&1&&it(0,"app-admin-tables")}function nl(i,n){i&1&&it(0,"app-admin-items")}function al(i,n){i&1&&it(0,"app-admin-combos")}function ol(i,n){i&1&&it(0,"app-admin-combo-items")}function rl(i,n){i&1&&it(0,"app-admin-users")}var vn=["tables","items","combos","combo-items","users"],Za=class i{constructor(n,t,e,a,c){this.authService=n;this.router=t;this.route=e;this.location=a;this.ts=c}tabIndex=0;ngOnInit(){let n=this.route.snapshot.queryParamMap.get("tab"),t=vn.indexOf(n??"");this.tabIndex=t>=0?t:0,this.router.navigate([],{relativeTo:this.route,queryParams:{tab:vn[this.tabIndex]},replaceUrl:!0})}onTabChange(n){this.tabIndex=n,this.router.navigate([],{relativeTo:this.route,queryParams:{tab:vn[n]},replaceUrl:!0})}goBack(){this.location.back()}goToKitchen(){this.router.navigate(["/kitchen"])}logout(){this.authService.logout().subscribe({next:()=>this.router.navigate(["/login"]),error:()=>this.router.navigate(["/login"])})}static \u0275fac=function(t){return new(t||i)(K($n),K(jn),K(qn),K(Vn),K(Et))};static \u0275cmp=ft({type:i,selectors:[["app-admin"]],decls:26,vars:14,consts:[[3,"logoutClick","showAdmin"],[1,"header-separator"],["mat-button","",1,"quit-btn",3,"click"],[1,"tabs-wrapper"],[1,"admin-tabs",3,"selectedIndexChange","selectedIndex"],[3,"label"],[1,"tab-content"]],template:function(t,e){t&1&&(d(0,"app-header",0),E("logoutClick",function(){return e.logout()}),d(1,"span",1),b(2,"|"),u(),d(3,"button",2),E("click",function(){return e.goToKitchen()}),d(4,"mat-icon"),b(5,"restaurant"),u(),b(6),u(),d(7,"span",1),b(8,"|"),u(),d(9,"button",2),E("click",function(){return e.goBack()}),d(10,"mat-icon"),b(11,"restaurant_menu"),u(),b(12),u()(),d(13,"div",3)(14,"mat-tab-group",4),Bn("selectedIndexChange",function(c){return Nn(e.tabIndex,c)||(e.tabIndex=c),c}),E("selectedIndexChange",function(c){return e.onTabChange(c)}),it(15,"mat-tab",5)(16,"mat-tab",5)(17,"mat-tab",5)(18,"mat-tab",5)(19,"mat-tab",5),u()(),d(20,"div",6),R(21,il,1,0,"app-admin-tables"),R(22,nl,1,0,"app-admin-items"),R(23,al,1,0,"app-admin-combos"),R(24,ol,1,0,"app-admin-combo-items"),R(25,rl,1,0,"app-admin-users"),u()),t&2&&(L("showAdmin",!1),s(6),$(" ",e.ts.t("header.kitchen")," "),s(6),$(" ",e.ts.t("header.quit")," "),s(2),zn("selectedIndex",e.tabIndex),s(),L("label",e.ts.t("admin.tables.tab")),s(),L("label",e.ts.t("admin.items.tab")),s(),L("label",e.ts.t("admin.combos.tab")),s(),L("label",e.ts.t("admin.comboItems.tab")),s(),L("label",e.ts.t("admin.users.tab")),s(2),F(e.tabIndex===0?21:-1),s(),F(e.tabIndex===1?22:-1),s(),F(e.tabIndex===2?23:-1),s(),F(e.tabIndex===3?24:-1),s(),F(e.tabIndex===4?25:-1))},dependencies:[Lt,Na,un,za,Tt,te,Dt,kt,ka,Vi,$i,Hi,Wi,Gi],styles:['@import"https://fonts.googleapis.com/css2?family=Fraunces:wght@500;700&family=Space+Grotesk:wght@400;500;600&display=swap";[_nghost-%COMP%]{--ink: #1b1a17;--clay: #f3ede4;--sand: #fbf8f2;--copper: #c86d3f;--rust: #8a3f24;--sage: #7a8f6a;--shadow: 0 25px 60px rgba(27, 26, 23, .18);display:block;min-height:100vh;overflow-x:clip;overflow-y:visible;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);color:var(--ink);font-family:Space Grotesk,Segoe UI,sans-serif}[_nghost-%COMP%]:before, [_nghost-%COMP%]:after{content:"";position:fixed;inset:auto auto 8% -10%;width:320px;height:320px;background:conic-gradient(from 120deg,#c86d3f26,#7a8f6a26);border-radius:50%;filter:blur(10px);z-index:0}[_nghost-%COMP%]:after{inset:-5% -10% auto auto;width:280px;height:280px;background:radial-gradient(circle,rgba(200,109,63,.2),transparent 70%)}.page[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:minmax(280px,560px);justify-content:center;align-items:start;padding:1rem clamp(1rem,3vw,3rem) 1.5rem}.site-header[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;align-items:center;justify-content:space-between;padding:1rem clamp(1rem,3vw,3rem);background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff}.brand[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;letter-spacing:.3rem;text-transform:uppercase;color:#fff}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.panel[_ngcontent-%COMP%]{background:var(--sand);border-radius:24px;padding:1.5rem 2rem;box-shadow:var(--shadow);border:1px solid rgba(27,26,23,.08);animation:_ngcontent-%COMP%_float-in .8s ease forwards}.panel__header[_ngcontent-%COMP%]{display:grid;gap:.25rem;margin-bottom:1rem}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.2rem;font-size:.75rem;color:var(--rust);margin:0}h1[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:clamp(2rem,3vw,2.6rem);margin:0}.subtitle[_ngcontent-%COMP%]{margin:0;color:#1b1a17b3}.form[_ngcontent-%COMP%]{display:grid;gap:.75rem}.field[_ngcontent-%COMP%]{display:grid;gap:.25rem}label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border:1px solid rgba(27,26,23,.2);border-radius:12px;padding:.65rem .875rem;font-size:.95rem;background:#fff;transition:border-color .2s ease,box-shadow .2s ease}input[_ngcontent-%COMP%]:not([matInput]):focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--copper);box-shadow:0 0 0 3px #c86d3f33}.form__actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;margin-top:.5rem}button[_ngcontent-%COMP%]{border-radius:999px;padding:.65rem 1.5rem;font-size:.9rem;font-weight:600;cursor:pointer;border:none}.primary[_ngcontent-%COMP%]{background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff;box-shadow:0 12px 25px #8a3f2459}.ghost[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(27,26,23,.2);color:var(--ink)}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]{border-color:#fff6;color:#fff}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]:hover{background:#ffffff26}@keyframes _ngcontent-%COMP%_float-in{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media(max-width:900px){.page[_ngcontent-%COMP%]{min-height:auto}}@media(max-width:600px){.panel[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-radius:20px}.site-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.form__actions[_ngcontent-%COMP%]{flex-direction:column}button[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{font-size:1.75rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.95rem}}@media(max-width:400px){[_nghost-%COMP%]{overflow-x:clip;overflow-y:visible}.page[_ngcontent-%COMP%]{padding:1.5rem 1rem 3rem;grid-template-columns:1fr}.panel[_ngcontent-%COMP%]{padding:1.5rem 1rem;border-radius:16px}.site-header[_ngcontent-%COMP%]{padding:1rem 1rem 0}h1[_ngcontent-%COMP%]{font-size:1.5rem}.subtitle[_ngcontent-%COMP%]{font-size:.9rem}label[_ngcontent-%COMP%]{font-size:.875rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border-radius:10px;padding:.7rem .75rem;font-size:.9rem}button[_ngcontent-%COMP%]{padding:.7rem 1.2rem;font-size:.9rem}}[_nghost-%COMP%]{display:block;min-height:100vh;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc)}.header-separator[_ngcontent-%COMP%]{color:#fff6;font-size:1.2rem;-webkit-user-select:none;user-select:none}.quit-btn[_ngcontent-%COMP%]{color:#fff!important;font-size:.9rem!important;font-weight:500!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}  .quit-btn .mat-icon{font-size:18px!important;width:18px!important;height:18px!important;margin-right:.35rem;color:#fff!important}.tabs-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:.75rem clamp(1rem,3vw,3rem);position:sticky;top:3.5rem;z-index:40;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc)}  .admin-tabs .mat-mdc-tab-header{background:#fff;border-radius:999px;padding:.3rem;box-shadow:0 2px 8px #1b1a171a;border-bottom:none!important}  .admin-tabs .mat-mdc-tab-label-container{border-bottom:none!important}  .admin-tabs .mdc-tab{padding:0 1.75rem!important;min-width:auto!important;height:40px!important;border-radius:999px!important;font-family:Space Grotesk,Segoe UI,sans-serif!important;font-size:.9rem!important;font-weight:500!important;letter-spacing:0!important;color:#1b1a1773!important;transition:color .2s ease,background .2s ease}  .admin-tabs .mdc-tab:hover .mdc-tab__text-label{color:var(--ink)!important}  .admin-tabs .mdc-tab--active{background:linear-gradient(120deg,var(--copper),var(--rust))!important;color:#fff!important;font-weight:600!important}  .admin-tabs .mdc-tab--active .mdc-tab__text-label{color:#fff!important}  .admin-tabs .mat-mdc-tab-header .mdc-tab-indicator{display:none!important}  .admin-tabs .mat-mdc-tab .mat-ripple{display:none!important}  .admin-tabs .mat-mdc-tab-header{--mdc-tab-indicator-active-indicator-height: 0 !important}  .admin-tabs .mdc-tab__text-label{color:#1b1a1773!important;transition:color .2s ease!important}.placeholder[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:300px;color:#1b1a1766;font-size:1.1rem}@media(max-width:500px){.tabs-wrapper[_ngcontent-%COMP%]{top:3rem;padding:.5rem 1rem}  .admin-tabs .mdc-tab{padding:0 1.25rem!important;height:36px!important;font-size:.85rem!important}}']})};export{Za as AdminComponent};
