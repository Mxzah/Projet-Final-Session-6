import{a as p}from"./chunk-CDTCJ4FF.js";import{b as O,c as s,f as G,g as k}from"./chunk-PJCREBP6.js";import{l as x,m as T}from"./chunk-F3C3U3PJ.js";import"./chunk-67GKTUIW.js";import{k as E,l as j}from"./chunk-ZIWWK3EM.js";import{$ as y,$a as M,Ea as _,Gb as P,R as f,S as g,V as v,Y as C,Ya as w,_ as i,cb as N,ha as A,hb as D,ia as F,ma as R,pa as S,qa as b,ra as I}from"./chunk-AI52TPR3.js";var K="@",Q=(()=>{class e{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=i(A);loadingSchedulerFn=i(W,{optional:!0});_engine;constructor(o,n,r,a,m){this.doc=o,this.delegate=n,this.zone=r,this.animationType=a,this.moduleImpl=m}ngOnDestroy(){this._engine?.flush()}loadImpl(){let o=()=>this.moduleImpl??import("./chunk-WJFP4X6L.js").then(r=>r),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(o):n=o(),n.catch(r=>{throw new g(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:a})=>{this._engine=r(this.animationType,this.doc);let m=new a(this.delegate,this._engine,this.zone);return this.delegate=m,m})}createRenderer(o,n){let r=this.delegate.createRenderer(o,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let a=new u(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(m=>{let c=m.createRenderer(o,n);a.use(c),this.scheduler??=this.injector.get(I,null,{optional:!0}),this.scheduler?.notify(10)}).catch(m=>{a.use(r)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(o){this._engine?.flush(),this.delegate.componentReplaced?.(o)}static \u0275fac=function(n){N()};static \u0275prov=v({token:e,factory:e.\u0275fac})}return e})(),u=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let o of this.replay)o(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,o){return this.delegate.createElement(t,o)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,o){this.delegate.appendChild(t,o)}insertBefore(t,o,n,r){this.delegate.insertBefore(t,o,n,r)}removeChild(t,o,n,r){this.delegate.removeChild(t,o,n,r)}selectRootElement(t,o){return this.delegate.selectRootElement(t,o)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,o,n,r){this.delegate.setAttribute(t,o,n,r)}removeAttribute(t,o,n){this.delegate.removeAttribute(t,o,n)}addClass(t,o){this.delegate.addClass(t,o)}removeClass(t,o){this.delegate.removeClass(t,o)}setStyle(t,o,n,r){this.delegate.setStyle(t,o,n,r)}removeStyle(t,o,n){this.delegate.removeStyle(t,o,n)}setProperty(t,o,n){this.shouldReplay(o)&&this.replay.push(r=>r.setProperty(t,o,n)),this.delegate.setProperty(t,o,n)}setValue(t,o){this.delegate.setValue(t,o)}listen(t,o,n,r){return this.shouldReplay(o)&&this.replay.push(a=>a.listen(t,o,n,r)),this.delegate.listen(t,o,n,r)}shouldReplay(t){return this.replay!==null&&t.startsWith(K)}},W=new C("");function B(e="animations"){return w("NgAsyncAnimations"),y([{provide:M,useFactory:()=>new Q(i(F),i(x),i(R),e)},{provide:_,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var h=()=>{let e=i(p),t=i(s);return e.isAuthenticated()?(t.navigate(["/menu"]),!1):!0};var l=()=>{let e=i(p),t=i(s);return e.isAuthenticated()?!0:(t.navigate(["/login"]),!1)};var L=()=>{let e=i(p),t=i(s);return e.isAuthenticated()?e.isAdmin()?!0:(t.navigate(["/menu"]),!1):(t.navigate(["/login"]),!1)};var U=()=>{let e=i(p),t=i(s);return e.isAuthenticated()?e.isKitchenStaff()?!0:(t.navigate(["/menu"]),!1):(t.navigate(["/login"]),!1)};var z=[{path:"",loadComponent:()=>import("./chunk-72QQJ3NI.js").then(e=>e.MenuComponent)},{path:"login",loadComponent:()=>import("./chunk-2WOJPSF7.js").then(e=>e.LoginComponent),canActivate:[h]},{path:"signup",loadComponent:()=>import("./chunk-UJURQPE4.js").then(e=>e.SignupComponent),canActivate:[h]},{path:"table/:token",loadComponent:()=>import("./chunk-K5QD6Z5B.js").then(e=>e.TableScanComponent)},{path:"form",loadComponent:()=>import("./chunk-RMH56HC7.js").then(e=>e.TableFormComponent),canActivate:[l]},{path:"admin",loadComponent:()=>import("./chunk-364SRDFK.js").then(e=>e.AdminComponent),canActivate:[L],children:[{path:"",redirectTo:"tables",pathMatch:"full"},{path:"tables",loadComponent:()=>import("./chunk-3XENUZ4D.js").then(e=>e.AdminTablesComponent)},{path:"items",loadComponent:()=>import("./chunk-M5HE6FDS.js").then(e=>e.AdminItemsComponent)},{path:"combos",loadComponent:()=>import("./chunk-AIS2FEZD.js").then(e=>e.AdminCombosComponent)},{path:"users",loadComponent:()=>import("./chunk-2RMXP7FB.js").then(e=>e.AdminUsersComponent)},{path:"reviews",loadComponent:()=>import("./chunk-KHQVNJ2I.js").then(e=>e.AdminReviewsComponent)}]},{path:"menu",loadComponent:()=>import("./chunk-72QQJ3NI.js").then(e=>e.MenuComponent)},{path:"order",loadComponent:()=>import("./chunk-OFIAXWEM.js").then(e=>e.OrderComponent),canActivate:[l]},{path:"pay",loadComponent:()=>import("./chunk-4326FNME.js").then(e=>e.PayComponent),canActivate:[l]},{path:"reviews",loadComponent:()=>import("./chunk-A3NC3QWN.js").then(e=>e.ReviewsComponent),canActivate:[l]},{path:"kitchen",loadComponent:()=>import("./chunk-Y2BPGIBI.js").then(e=>e.CuisineComponent),canActivate:[U]},{path:"**",loadComponent:()=>import("./chunk-MTZGGQCK.js").then(e=>e.NotFoundComponent)}];var H=(e,t)=>{let o=i(s),n=i(p);return t(e).pipe(f({error:r=>{let a=r.status===401,m=r?.error?.success===!1&&r?.error?.errors?.some(c=>c==="Invalid email or password");(a||m)&&n.isAuthenticated()&&(n.clearSession(),o.navigate(["/login"]))}}))};var V={providers:[S(),G(z,k()),E(j([H])),B()]};var d=class e{title=b("RestoQR");static \u0275fac=function(o){return new(o||e)};static \u0275cmp=D({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(o,n){o&1&&P(0,"router-outlet")},dependencies:[O],styles:["[_nghost-%COMP%]{display:block}"]})};T(d,V).catch(e=>console.error(e));
