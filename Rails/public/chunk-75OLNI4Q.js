import{a as q,b as zt}from"./chunk-B5HP7SZ3.js";import{a as G}from"./chunk-U54RNCJV.js";import{a as st,b as pt,c as gt,d as ft,e as ut,f as _t,g as bt,h as A,i as B}from"./chunk-SIPQ3HYW.js";import{a as Z}from"./chunk-Z2FRV3RQ.js";import{a as It,c as Pt,e as Ot}from"./chunk-JZU62OJ3.js";import{a as L,b as R}from"./chunk-I7AMMOYK.js";import{a as Dt,b as kt,c as Et,d as Ft,e as At,g as Tt}from"./chunk-ZBD6JLV6.js";import{C as ht,D as xt,G as Mt,H as yt,b as it,c as x,e as nt,f as ot,g as rt,i as O,k as at,l as mt,n as lt,o as dt,u as ct,v as vt,w as Ct}from"./chunk-HXVBPVRM.js";import"./chunk-DCQBJ6LB.js";import{T,U as wt,W as St,X as z,Y as N,Z as j,_ as V}from"./chunk-33DWQQLF.js";import{a as et}from"./chunk-HALU6EK7.js";import{i as tt,j as F}from"./chunk-TJODSPPL.js";import{$b as Y,Bb as k,Cb as E,Db as v,Eb as r,Fb as a,Gb as C,Lb as P,Pb as h,Rb as l,Sa as S,Ua as o,Vb as H,Wb as Q,Xb as W,bb as u,bc as J,da as M,dc as m,ea as y,ec as s,fc as _,hb as D,kc as K,lc as X,ma as $,pc as U,qa as b,xb as p,yb as g}from"./chunk-QXPTUTPQ.js";var $t=(e,i)=>i.id;function Ht(e,i){if(e&1&&(r(0,"div",3),m(1),a()),e&2){let t=l();o(),s(t.error())}}function Qt(e,i){if(e&1&&m(0),e&2){let t=l(2);_(" ",t.ts.t("admin.nameRequired")," ")}}function Wt(e,i){if(e&1&&m(0),e&2){let t=l(2);_(" ",t.ts.t("admin.nameMaxLength")," ")}}function Yt(e,i){if(e&1&&m(0),e&2){let t=l(2);_(" ",t.ts.t("admin.nameWhitespace")," ")}}function Jt(e,i){if(e&1&&(r(0,"mat-error"),p(1,Qt,1,1)(2,Wt,1,1)(3,Yt,1,1),a()),e&2){let t=l();o(),g(t.form.controls.name.errors.required?1:t.form.controls.name.errors.maxlength?2:t.form.controls.name.errors.pattern?3:-1)}}function Kt(e,i){if(e&1&&m(0),e&2){let t=l(2);_(" ",t.ts.t("admin.descMaxLength")," ")}}function Xt(e,i){if(e&1&&m(0),e&2){let t=l(2);_(" ",t.ts.t("admin.descWhitespace")," ")}}function te(e,i){if(e&1&&(r(0,"mat-error"),p(1,Kt,1,1)(2,Xt,1,1),a()),e&2){let t=l();o(),g(t.form.controls.description.errors.maxlength?1:t.form.controls.description.errors.pattern?2:-1)}}function ee(e,i){if(e&1&&m(0),e&2){let t=l(2);_(" ",t.ts.t("admin.priceRequired")," ")}}function ie(e,i){if(e&1&&m(0),e&2){let t=l(2);_(" ",t.ts.t("admin.priceMin")," ")}}function ne(e,i){if(e&1&&m(0),e&2){let t=l(2);_(" ",t.ts.t("admin.priceMax")," ")}}function oe(e,i){if(e&1&&(r(0,"mat-error"),p(1,ee,1,1)(2,ie,1,1)(3,ne,1,1),a()),e&2){let t=l();o(),g(t.form.controls.price.errors.required?1:t.form.controls.price.errors.min?2:t.form.controls.price.errors.max?3:-1)}}function re(e,i){if(e&1&&(r(0,"mat-option",10),m(1),a()),e&2){let t=i.$implicit;v("value",t.id),o(),s(t.name)}}function ae(e,i){if(e&1&&(r(0,"mat-error"),m(1),a()),e&2){let t=l();o(),s(t.ts.t("admin.categoryRequired"))}}function me(e,i){if(e&1&&(r(0,"div",13),C(1,"img",22),a()),e&2){let t=l();o(),v("src",t.imagePreview(),S)}}function le(e,i){if(e&1&&(r(0,"mat-error",16),m(1),a()),e&2){let t=l();o(),s(t.imageError())}}function de(e,i){e&1&&C(0,"mat-spinner",21)}var w=class e{constructor(i,t,n,d,c,f){this.dialogRef=i;this.data=t;this.itemsService=n;this.ts=d;this.errorService=c;this.availabilityService=f;this.isCreating=t.item===null,this.categories=t.categories,t.item?(this.form.patchValue({name:t.item.name,description:t.item.description,price:t.item.price,category_id:t.item.category_id}),this.imagePreview.set(t.item.image_url||null),this.availabilityService.getAvailabilities("items",t.item.id).subscribe({next:I=>{this.originalAvailabilities=I,this.availabilities.set(I)}})):this.form.reset({name:"",description:"",price:0,category_id:t.categories[0]?.id??0})}isCreating;categories;form=new rt({name:new O("",[x.required,x.maxLength(100),x.pattern(/.*\S.*/)]),description:new O("",[x.maxLength(255),x.pattern(/.*\S.*/)]),price:new O(0,[x.required,x.min(0),x.max(9999.99)]),category_id:new O(0,[x.required])});image=null;imagePreview=b(null);imageError=b("");error=b("");loading=b(!1);availabilityList;availabilities=b([]);originalAvailabilities=[];onImageSelected(i){let t=i.target,n=t.files?.[0];if(!n)return;if(!["image/jpeg","image/png"].includes(n.type)){this.imageError.set(this.errorService.format(this.errorService.imageError("format",this.ts))),t.value="";return}let c=5*1024*1024;if(n.size>c){this.imageError.set(this.errorService.format(this.errorService.imageError("size",this.ts))),t.value="";return}this.imageError.set(""),this.image=n;let f=new FileReader;f.onload=()=>this.imagePreview.set(f.result),f.readAsDataURL(n)}save(){if(Object.values(this.form.controls).forEach(t=>t.markAsDirty()),this.availabilityList?.markAllDirty(),this.isCreating&&!this.image&&!this.imageError()&&this.imageError.set(this.errorService.format(this.errorService.imageError("required",this.ts))),this.form.invalid||this.imageError()||!(this.availabilityList?.isValid??!0))return;this.loading.set(!0),this.error.set("");let i=this.form.value;if(this.isCreating){let t={name:i.name,description:i.description??"",price:i.price,category_id:i.category_id};this.image&&(t.image=this.image),this.itemsService.createItem(t).subscribe({next:n=>{this.syncAvailabilities(n.id).subscribe({next:()=>{this.loading.set(!1),this.dialogRef.close({created:n})},error:d=>{this.error.set(this.errorService.format(this.errorService.fromApiError(d))),this.loading.set(!1)}})},error:n=>{this.error.set(this.errorService.format(this.errorService.fromApiError(n))),this.loading.set(!1)}})}else{let t={name:i.name,description:i.description??"",price:i.price,category_id:i.category_id};this.image&&(t.image=this.image),this.itemsService.updateItem(this.data.item.id,t).subscribe({next:n=>{this.syncAvailabilities(n.id).subscribe({next:()=>{this.loading.set(!1),this.dialogRef.close({updated:n})},error:d=>{this.error.set(this.errorService.format(this.errorService.fromApiError(d))),this.loading.set(!1)}})},error:n=>{this.error.set(this.errorService.format(this.errorService.fromApiError(n))),this.loading.set(!1)}})}}syncAvailabilities(i){return this.availabilityService.syncAvailabilities(this.availabilities(),this.originalAvailabilities,t=>this.availabilityService.createAvailability("items",i,t),(t,n)=>this.availabilityService.updateAvailability("items",i,t,n),t=>this.availabilityService.deleteAvailability("items",i,t))}static \u0275fac=function(t){return new(t||e)(u(st),u(pt),u(G),u(V),u(Z),u(zt))};static \u0275cmp=D({type:e,selectors:[["app-item-form-dialog"]],viewQuery:function(t,n){if(t&1&&H(q,5),t&2){let d;Q(d=W())&&(n.availabilityList=d.first)}},decls:49,vars:21,consts:[["fileInput",""],["mat-dialog-title","",1,"dialog-title"],["mat-icon-button","","mat-dialog-close","",1,"modal-close"],[1,"dialog-error"],["id","itemForm",3,"ngSubmit","formGroup"],["appearance","outline",1,"field-full"],["matInput","","formControlName","name"],["matInput","","formControlName","description","rows","3"],["matInput","","type","number","formControlName","price","step","0.01"],["formControlName","category_id"],[3,"value"],[1,"image-field"],[1,"image-label"],[1,"image-preview"],["type","file","accept","image/jpeg,image/png",1,"file-input-hidden",3,"change"],["type","button",1,"file-btn",3,"click"],[1,"image-error"],[3,"availabilitiesChange","availabilities","disabled"],["align","end"],["mat-stroked-button","","mat-dialog-close","",1,"btn-cancel"],["mat-flat-button","","type","submit","form","itemForm",1,"btn-primary",3,"disabled"],["diameter","18",1,"btn-spinner"],["alt","Aper\xE7u",3,"src"]],template:function(t,n){if(t&1){let d=P();r(0,"h2",1)(1,"span"),m(2),a(),r(3,"button",2)(4,"mat-icon"),m(5,"close"),a()()(),r(6,"mat-dialog-content"),p(7,Ht,2,1,"div",3),r(8,"form",4),h("ngSubmit",function(){return M(d),y(n.save())}),r(9,"mat-form-field",5)(10,"mat-label"),m(11),a(),C(12,"input",6),p(13,Jt,4,1,"mat-error"),a(),r(14,"mat-form-field",5)(15,"mat-label"),m(16),a(),C(17,"textarea",7),p(18,te,3,1,"mat-error"),a(),r(19,"mat-form-field",5)(20,"mat-label"),m(21),a(),C(22,"input",8),p(23,oe,4,1,"mat-error"),a(),r(24,"mat-form-field",5)(25,"mat-label"),m(26),a(),r(27,"mat-select",9),k(28,re,2,2,"mat-option",10,$t),a(),p(30,ae,2,1,"mat-error"),a(),r(31,"div",11)(32,"label",12),m(33),a(),p(34,me,2,1,"div",13),r(35,"input",14,0),h("change",function(f){return M(d),y(n.onImageSelected(f))}),a(),r(37,"button",15),h("click",function(){M(d);let f=Y(36);return y(f.click())}),r(38,"mat-icon"),m(39,"upload"),a(),m(40),a(),p(41,le,2,1,"mat-error",16),a()(),r(42,"app-availability-list",17),h("availabilitiesChange",function(f){return M(d),y(n.availabilities.set(f))}),a()(),r(43,"mat-dialog-actions",18)(44,"button",19),m(45),a(),r(46,"button",20),p(47,de,1,0,"mat-spinner",21),m(48),a()()}t&2&&(o(2),s(n.isCreating?n.ts.t("admin.addItem"):n.ts.t("admin.editItem")),o(5),g(n.error()?7:-1),o(),v("formGroup",n.form),o(3),s(n.ts.t("admin.name")),o(2),g(n.form.controls.name.dirty&&n.form.controls.name.errors?13:-1),o(3),s(n.ts.t("admin.description")),o(2),g(n.form.controls.description.dirty&&n.form.controls.description.errors?18:-1),o(3),s(n.ts.t("admin.price")),o(2),g(n.form.controls.price.dirty&&n.form.controls.price.errors?23:-1),o(3),s(n.ts.t("admin.category")),o(2),E(n.categories),o(2),g(n.form.controls.category_id.dirty&&n.form.controls.category_id.errors?30:-1),o(3),s(n.ts.t("admin.image")),o(),g(n.imagePreview()?34:-1),o(6),_(" ",n.ts.t("admin.chooseFile")," "),o(),g(n.imageError()?41:-1),o(),v("availabilities",n.availabilities())("disabled",n.loading()),o(3),s(n.ts.t("admin.cancel")),o(),v("disabled",n.loading()||n.form.invalid),o(),g(n.loading()?47:-1),o(),_(" ",n.loading()?n.ts.t("admin.saving"):n.isCreating?n.ts.t("admin.add"):n.ts.t("admin.save")," "))},dependencies:[F,ct,at,it,mt,nt,ot,dt,lt,A,ft,ut,bt,_t,z,wt,T,j,N,xt,ht,vt,Ct,yt,Mt,Ot,Pt,It,R,L,q],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.dialog-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:0;padding:0}.modal-close[_ngcontent-%COMP%]{width:36px!important;height:36px!important;padding:0!important;border-radius:50%!important;background:#fff!important;border:1px solid rgba(27,26,23,.1)!important;display:flex!important;align-items:center!important;justify-content:center!important;color:#1b1a17!important}.modal-close[_ngcontent-%COMP%]:hover{background:#f3ede4!important}.file-input-hidden[_ngcontent-%COMP%]{display:none}mat-dialog-actions[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;overflow:hidden}.btn-cancel[_ngcontent-%COMP%]{border-radius:10px!important;color:#1b1a17!important;border-color:#1b1a1726!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-cancel[_ngcontent-%COMP%]:hover{background:#1b1a170a!important}.btn-primary[_ngcontent-%COMP%]{border-radius:10px!important;background:#c86d3f!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-primary[_ngcontent-%COMP%]:hover{opacity:.9}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6!important;cursor:not-allowed}.file-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;border-radius:10px;border:1px solid rgba(27,26,23,.15);background:#fff;color:#1b1a17;font-family:Space Grotesk,Segoe UI,sans-serif;font-size:.875rem;font-weight:500;padding:.45rem 1rem;cursor:pointer;margin-top:.5rem}.file-btn[_ngcontent-%COMP%]:hover{background:#1b1a170a}.image-preview[_ngcontent-%COMP%]{margin-bottom:.75rem}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:80px;object-fit:cover;display:block;border-radius:8px}"]})};var ce=(e,i)=>i.id;function se(e,i){if(e&1&&(r(0,"div",6),m(1),a()),e&2){let t=l();o(),s(t.loadError())}}function pe(e,i){if(e&1&&(r(0,"div",6),m(1),a()),e&2){let t=l();o(),s(t.actionError())}}function ge(e,i){e&1&&(r(0,"div",7),C(1,"mat-spinner",10),a())}function fe(e,i){if(e&1&&(r(0,"div",8),m(1),a()),e&2){let t=l();o(),s(t.ts.t("admin.noItems"))}}function ue(e,i){if(e&1&&C(0,"img",14),e&2){let t=l().$implicit;v("src",t.image_url,S)("alt",t.name)}}function _e(e,i){e&1&&C(0,"div",15)}function be(e,i){if(e&1&&(r(0,"div",16),m(1),a()),e&2){let t=l(3);o(),s(t.ts.t("admin.archived"))}}function ve(e,i){if(e&1&&(r(0,"div",17),m(1),a()),e&2){let t=l(3);o(),s(t.ts.t("admin.unavailable"))}}function Ce(e,i){if(e&1){let t=P();r(0,"button",25),h("click",function(){M(t);let d=l().$implicit,c=l(2);return y(c.confirmRestore(d))}),r(1,"mat-icon"),m(2,"unarchive"),a()()}if(e&2){let t=l(3);v("title",t.ts.t("admin.restoreBtn"))}}function he(e,i){if(e&1){let t=P();r(0,"button",26),h("click",function(){M(t);let d=l().$implicit,c=l(2);return y(c.openEdit(d))}),r(1,"mat-icon"),m(2,"edit"),a()(),r(3,"button",27),h("click",function(){M(t);let d=l().$implicit,c=l(2);return y(c.confirmDelete(d))}),r(4,"mat-icon"),m(5,"delete"),a()()}if(e&2){let t=l(3);v("title",t.ts.t("admin.editBtn")),o(3),v("title",t.ts.t("admin.deleteBtn"))}}function xe(e,i){if(e&1&&(r(0,"mat-card",12)(1,"div",13),p(2,ue,1,2,"img",14)(3,_e,1,0,"div",15),p(4,be,2,1,"div",16)(5,ve,2,1,"div",17),a(),r(6,"mat-card-content",18)(7,"mat-card-title",19),m(8),a(),r(9,"mat-card-subtitle",20),m(10),a(),r(11,"span",21),m(12),a(),r(13,"span",22),m(14),K(15,"number"),a()(),r(16,"mat-card-actions",23),p(17,Ce,3,1,"button",24)(18,he,6,2),a()()),e&2){let t=i.$implicit,n=l(2);J("archived",t.deleted_at)("unavailable",n.unavailableIds().has(t.id)),o(2),g(t.image_url?2:3),o(2),g(t.deleted_at?4:n.unavailableIds().has(t.id)?5:-1),o(4),s(t.name),o(2),s(t.description),o(2),s(t.category_name??"\u2014"),o(2),_("",X(15,11,t.price,"1.2-2")," $"),o(3),g(t.deleted_at?17:18)}}function Me(e,i){if(e&1&&(r(0,"div",9),k(1,xe,19,14,"mat-card",11,ce),a()),e&2){let t=l();o(),E(t.items())}}var Nt=class e{constructor(i,t,n,d,c,f){this.itemsService=i;this.apiService=t;this.ts=n;this.dialog=d;this.errorService=c;this.ngZone=f;this.ngZone.runOutsideAngular(()=>{this.nowInterval=setInterval(()=>{this.ngZone.run(()=>this.now.set(Date.now()))},6e4)})}items=b([]);isLoading=b(!0);categories=b([]);loadError=b("");actionError=b("");now=b(Date.now());nowInterval;categoryNames=U(()=>[...new Set(this.items().map(i=>i.category_name??"\u2014"))]);unavailableIds=U(()=>{let i=this.now();return new Set(this.items().filter(t=>t.deleted_at?!1:!t.availabilities||t.availabilities.length===0?!0:!t.availabilities.some(n=>{let d=new Date(n.start_at).getTime(),c=n.end_at?new Date(n.end_at).getTime():1/0;return d<=i&&i<c})).map(t=>t.id))});ngOnDestroy(){clearInterval(this.nowInterval)}ngOnInit(){this.loadData(),this.loadCategories()}loadData(){this.isLoading.set(!0),this.loadError.set(""),this.itemsService.getItems({admin:!0}).subscribe({next:i=>{this.ngZone.run(()=>{this.items.set(i),this.isLoading.set(!1),this.categories().length===0&&this.extractCategoriesFromItems(i)})},error:i=>{this.ngZone.run(()=>{this.loadError.set(this.errorService.format(this.errorService.fromApiError(i))),this.isLoading.set(!1)})}})}loadCategories(){this.apiService.get("/api/categories").subscribe({next:i=>{i.data&&this.categories.set(i.data)},error:()=>{this.items().length>0&&this.extractCategoriesFromItems(this.items())}})}extractCategoriesFromItems(i){let t=new Map;for(let n of i)t.has(n.category_id)||t.set(n.category_id,{id:n.category_id,name:n.category_name??"\u2014",position:t.size});this.categories.set([...t.values()])}openCreate(){let i={item:null,categories:this.categories()};this.dialog.open(w,{data:i,width:"460px",maxHeight:"90vh",disableClose:!1}).afterClosed().subscribe({next:n=>{n?.created&&this.ngZone.run(()=>this.items.update(d=>[...d,n.created]))}})}openEdit(i){let t={item:i,categories:this.categories()};this.dialog.open(w,{data:t,width:"460px",maxHeight:"90vh",disableClose:!1}).afterClosed().subscribe({next:d=>{d?.updated&&this.ngZone.run(()=>this.items.update(c=>c.map(f=>f.id===i.id?d.updated:f)))}})}confirmDelete(i){let t=i.in_use?{title:this.ts.t("admin.archiveItem"),message:this.ts.t("admin.archiveConfirm"),itemName:i.name,warning:this.ts.t("admin.archiveWarning"),confirmLabel:this.ts.t("admin.archive"),confirmClass:"btn-danger"}:{title:this.ts.t("admin.deleteItem"),message:this.ts.t("admin.deleteConfirm"),itemName:i.name,confirmLabel:this.ts.t("admin.delete"),confirmClass:"btn-danger"};this.dialog.open(B,{data:t,width:"400px",maxHeight:"90vh"}).afterClosed().subscribe({next:d=>{d&&(this.actionError.set(""),i.in_use?this.itemsService.softDeleteItem(i.id).subscribe({next:c=>{c.data&&this.ngZone.run(()=>this.items.update(f=>f.map(I=>I.id===i.id?c.data:I)))},error:c=>{this.ngZone.run(()=>this.actionError.set(this.errorService.format(this.errorService.fromApiError(c))))}}):this.itemsService.hardDeleteItem(i.id).subscribe({next:()=>{this.ngZone.run(()=>this.items.update(c=>c.filter(f=>f.id!==i.id)))},error:c=>{this.ngZone.run(()=>this.actionError.set(this.errorService.format(this.errorService.fromApiError(c))))}}))}})}confirmRestore(i){let t={title:this.ts.t("admin.restoreItem"),message:this.ts.t("admin.restoreConfirm"),itemName:i.name,confirmLabel:this.ts.t("admin.restoreBtn"),confirmClass:"btn-restore"};this.dialog.open(B,{data:t,width:"400px",maxHeight:"90vh"}).afterClosed().subscribe({next:d=>{d&&(this.actionError.set(""),this.itemsService.restoreItem(i.id).subscribe({next:c=>{c.data&&this.ngZone.run(()=>this.items.update(f=>f.map(I=>I.id===i.id?c.data:I)))},error:c=>{this.ngZone.run(()=>this.actionError.set(this.errorService.format(this.errorService.fromApiError(c))))}}))}})}getItemsByCategory(i){return this.items().filter(t=>(t.category_name??"\u2014")===i)}static \u0275fac=function(t){return new(t||e)(u(G),u(et),u(V),u(gt),u(Z),u($))};static \u0275cmp=D({type:e,selectors:[["app-admin-items"]],decls:15,vars:8,consts:[[1,"page-admin"],[1,"outer-container"],[1,"welcome-header"],[1,"welcome-title"],["mat-mini-fab","",1,"btn-add",3,"click","title"],[1,"welcome-text"],[1,"admin-error"],[1,"loading"],[1,"empty"],[1,"items-grid"],["diameter","48"],[1,"item-card",3,"archived","unavailable"],[1,"item-card"],[1,"item-image"],[3,"src","alt"],[1,"image-placeholder"],[1,"archived-badge"],[1,"unavailable-badge"],[1,"item-body"],[1,"item-name"],[1,"item-description"],[1,"item-category"],[1,"item-price"],[1,"item-actions"],["mat-icon-button","",1,"action-btn","restore",3,"title"],["mat-icon-button","",1,"action-btn","restore",3,"click","title"],["mat-icon-button","",1,"action-btn","edit",3,"click","title"],["mat-icon-button","",1,"action-btn","delete",3,"click","title"]],template:function(t,n){t&1&&(r(0,"main",0)(1,"div",1)(2,"div",2)(3,"h2",3),m(4),r(5,"button",4),h("click",function(){return n.openCreate()}),r(6,"mat-icon"),m(7,"add"),a()()(),r(8,"p",5),m(9),a()(),p(10,se,2,1,"div",6),p(11,pe,2,1,"div",6),p(12,ge,2,0,"div",7),p(13,fe,2,1,"div",8),p(14,Me,3,0,"div",9),a()()),t&2&&(o(4),_(" ",n.ts.t("admin.itemsTitle")," "),o(),v("title",n.ts.t("admin.addItem")),o(4),s(n.ts.t("admin.itemsSubtitle")),o(),g(n.loadError()?10:-1),o(),g(n.actionError()?11:-1),o(),g(n.isLoading()?12:-1),o(),g(!n.isLoading()&&n.items().length===0?13:-1),o(),g(!n.isLoading()&&n.items().length>0?14:-1))},dependencies:[F,A,Tt,Dt,At,Et,Ft,kt,z,St,T,j,N,R,L,tt],styles:['@import"https://fonts.googleapis.com/css2?family=Fraunces:wght@500;700&family=Space+Grotesk:wght@400;500;600&display=swap";[_nghost-%COMP%]{--ink: #1b1a17;--clay: #f3ede4;--sand: #fbf8f2;--copper: #c86d3f;--rust: #8a3f24;--sage: #7a8f6a;--shadow: 0 25px 60px rgba(27, 26, 23, .18);display:block;min-height:100vh;overflow-x:clip;overflow-y:visible;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);color:var(--ink);font-family:Space Grotesk,Segoe UI,sans-serif}[_nghost-%COMP%]:before, [_nghost-%COMP%]:after{content:"";position:fixed;inset:auto auto 8% -10%;width:320px;height:320px;background:conic-gradient(from 120deg,#c86d3f26,#7a8f6a26);border-radius:50%;filter:blur(10px);z-index:0}[_nghost-%COMP%]:after{inset:-5% -10% auto auto;width:280px;height:280px;background:radial-gradient(circle,rgba(200,109,63,.2),transparent 70%)}.page[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:minmax(280px,560px);justify-content:center;align-items:start;padding:1rem clamp(1rem,3vw,3rem) 1.5rem}.site-header[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;align-items:center;justify-content:space-between;padding:1rem clamp(1rem,3vw,3rem);background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff}.brand[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;letter-spacing:.3rem;text-transform:uppercase;color:#fff}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.panel[_ngcontent-%COMP%]{background:var(--sand);border-radius:24px;padding:1.5rem 2rem;box-shadow:var(--shadow);border:1px solid rgba(27,26,23,.08);animation:_ngcontent-%COMP%_float-in .8s ease forwards}.panel__header[_ngcontent-%COMP%]{display:grid;gap:.25rem;margin-bottom:1rem}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.2rem;font-size:.75rem;color:var(--rust);margin:0}h1[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:clamp(2rem,3vw,2.6rem);margin:0}.subtitle[_ngcontent-%COMP%]{margin:0;color:#1b1a17b3}.form[_ngcontent-%COMP%]{display:grid;gap:.75rem}.field[_ngcontent-%COMP%]{display:grid;gap:.25rem}label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border:1px solid rgba(27,26,23,.2);border-radius:12px;padding:.65rem .875rem;font-size:.95rem;background:#fff;transition:border-color .2s ease,box-shadow .2s ease}input[_ngcontent-%COMP%]:not([matInput]):focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--copper);box-shadow:0 0 0 3px #c86d3f33}.form__actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;margin-top:.5rem}button[_ngcontent-%COMP%]{border-radius:999px;padding:.65rem 1.5rem;font-size:.9rem;font-weight:600;cursor:pointer;border:none}.primary[_ngcontent-%COMP%]{background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff;box-shadow:0 12px 25px #8a3f2459}.ghost[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(27,26,23,.2);color:var(--ink)}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]{border-color:#fff6;color:#fff}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]:hover{background:#ffffff26}@keyframes _ngcontent-%COMP%_float-in{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media(max-width:900px){.page[_ngcontent-%COMP%]{min-height:auto}}@media(max-width:600px){.panel[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-radius:20px}.site-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.form__actions[_ngcontent-%COMP%]{flex-direction:column}button[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{font-size:1.75rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.95rem}}@media(max-width:400px){[_nghost-%COMP%]{overflow-x:clip;overflow-y:visible}.page[_ngcontent-%COMP%]{padding:1.5rem 1rem 3rem;grid-template-columns:1fr}.panel[_ngcontent-%COMP%]{padding:1.5rem 1rem;border-radius:16px}.site-header[_ngcontent-%COMP%]{padding:1rem 1rem 0}h1[_ngcontent-%COMP%]{font-size:1.5rem}.subtitle[_ngcontent-%COMP%]{font-size:.9rem}label[_ngcontent-%COMP%]{font-size:.875rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border-radius:10px;padding:.7rem .75rem;font-size:.9rem}button[_ngcontent-%COMP%]{padding:.7rem 1.2rem;font-size:.9rem}}.page-admin[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;flex-direction:column;align-items:center;min-height:calc(100vh - 60px);padding:2rem 1rem}.outer-container[_ngcontent-%COMP%]{max-width:960px;width:100%}.welcome-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;position:sticky;top:7.5rem;z-index:30;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);padding:.75rem 0 .5rem}.welcome-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:1.5rem;margin:0 0 .5rem;color:var(--rust);display:flex;align-items:center;justify-content:center;gap:.75rem}.btn-add[_ngcontent-%COMP%]{background:var(--copper)!important;color:#fff!important;width:36px!important;height:36px!important;padding:0!important;display:flex!important;align-items:center!important;justify-content:center!important}.btn-add[_ngcontent-%COMP%]:hover{opacity:.85}.welcome-text[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#1b1a17b3}.items-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1.25rem}.item-card[_ngcontent-%COMP%]{background:#fff!important;border-radius:14px!important;border:1px solid rgba(27,26,23,.08);overflow:hidden;padding:0!important;transition:box-shadow .2s ease}.item-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #1b1a171a!important}.item-image[_ngcontent-%COMP%]{position:relative;width:100%;aspect-ratio:16 / 10;background:var(--clay);overflow:hidden}.item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.image-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;background:var(--clay)}.item-body[_ngcontent-%COMP%]{padding:.75rem 1rem .5rem!important;flex:1}.item-name[_ngcontent-%COMP%]{font-weight:600!important;font-size:.95rem!important;color:var(--ink)!important;margin:0 0 .15rem!important;padding:0!important}.item-description[_ngcontent-%COMP%]{font-size:.8rem!important;color:#1b1a178c!important;margin:0 0 .25rem!important;padding:0!important;display:-webkit-box!important;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden!important;white-space:normal!important;text-overflow:ellipsis!important}.item-category[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#1b1a1766;margin-bottom:.5rem;font-style:italic}.item-price[_ngcontent-%COMP%]{display:block;font-weight:700;font-size:1rem;color:var(--ink)}.item-actions[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-end;gap:.25rem;padding:.4rem .75rem .75rem!important;margin:0!important}.action-btn[_ngcontent-%COMP%]{color:#1b1a1773!important;width:36px!important;height:36px!important;padding:0!important;border-radius:50%!important;display:flex!important;align-items:center!important;justify-content:center!important}.action-btn[_ngcontent-%COMP%]:hover{color:var(--ink)!important}.action-btn.delete[_ngcontent-%COMP%]:hover{color:var(--rust)!important}.action-btn.restore[_ngcontent-%COMP%]{color:#1b1a1773!important}.action-btn.restore[_ngcontent-%COMP%]:hover{color:#2e7d32!important}.item-card.archived[_ngcontent-%COMP%]{background:#f5f5f5!important;border-color:#1b1a170d!important;opacity:.75}.item-card.archived[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .item-card.archived[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%], .item-card.archived[_ngcontent-%COMP%]   .item-category[_ngcontent-%COMP%], .item-card.archived[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{color:#1b1a1759!important}.item-card.archived[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}.archived-badge[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:#00000059;color:#fff;font-size:.85rem;font-weight:600;letter-spacing:.05em;text-transform:uppercase;font-family:Space Grotesk,Segoe UI,sans-serif}.item-card.unavailable[_ngcontent-%COMP%]{background:#f5f5f5!important;border-color:#1b1a170d!important;opacity:.75}.item-card.unavailable[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .item-card.unavailable[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%], .item-card.unavailable[_ngcontent-%COMP%]   .item-category[_ngcontent-%COMP%], .item-card.unavailable[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{color:#1b1a1759!important}.item-card.unavailable[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}.unavailable-badge[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:#00000059;color:#fff;font-size:.85rem;font-weight:600;letter-spacing:.05em;text-transform:uppercase;font-family:Space Grotesk,Segoe UI,sans-serif}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:3rem}.empty[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#1b1a1780}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0006;display:flex;align-items:center;justify-content:center;z-index:100}.modal[_ngcontent-%COMP%]{position:relative;background:var(--sand)!important;border-radius:16px!important;padding:0!important;max-width:400px;width:90%;box-shadow:0 12px 40px #00000026!important;max-height:90vh;overflow-y:auto}.modal-close[_ngcontent-%COMP%]{width:36px!important;height:36px!important;padding:0!important;border-radius:50%!important;background:#fff!important;border:1px solid rgba(27,26,23,.1)!important;display:flex!important;align-items:center!important;justify-content:center!important;color:var(--ink)!important;flex-shrink:0}.modal-close[_ngcontent-%COMP%]:hover{background:var(--clay)!important}.modal[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:0!important;margin:0!important}.modal-edit[_ngcontent-%COMP%]{max-width:420px;padding:0!important;display:flex!important;flex-direction:column!important;max-height:90vh;overflow:hidden!important}.modal-delete-header[_ngcontent-%COMP%], .modal-edit-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.25rem 1.5rem 1rem;flex-shrink:0}.modal-edit-body[_ngcontent-%COMP%]{overflow-y:auto!important;flex:1 1 auto!important;padding:0 1.5rem 1.5rem!important}.modal-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif!important;font-size:1.25rem!important;margin:0 0 .75rem!important;color:var(--ink)!important;padding:0!important}.modal-text[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:.9rem;color:#1b1a17b3}.modal-warning[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:.82rem;color:#b45309;background:#b4530914;border-radius:8px;padding:.5rem .75rem}.modal[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0 1.5rem!important}.modal-error[_ngcontent-%COMP%]{background:#dc35451a;color:#dc3545;padding:.5rem .75rem;border-radius:8px;font-size:.85rem;margin-bottom:1rem}.modal-field-full[_ngcontent-%COMP%]{width:100%;margin-bottom:.25rem}  .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__leading,   .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__notch,   .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__trailing{border-color:#1b1a1740!important;border-width:1px!important}  .modal-edit .mat-mdc-form-field.mat-focused .mat-mdc-floating-label{color:#1b1a1799!important}  .modal-edit .mdc-text-field--focused .mdc-notched-outline__leading,   .modal-edit .mdc-text-field--focused .mdc-notched-outline__notch,   .modal-edit .mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#1b1a1740!important;border-width:1px!important}  .modal-edit input.mat-mdc-input-element:focus,   .modal-edit textarea.mat-mdc-input-element:focus,   .modal-edit .mat-mdc-select:focus,   .modal-edit .mat-mdc-select-trigger:focus{outline:none!important;box-shadow:none!important}  .modal-edit .mat-mdc-text-field-wrapper:focus-within{outline:none!important;box-shadow:none!important}.modal-field[_ngcontent-%COMP%]{margin-bottom:1rem}.file-label[_ngcontent-%COMP%]{display:block;font-size:.85rem;font-weight:500;color:var(--ink);margin-bottom:.3rem}.file-error[_ngcontent-%COMP%]{display:block;margin-top:.25rem}.image-preview[_ngcontent-%COMP%]{width:100%;max-height:180px;border-radius:8px;overflow:hidden;margin-bottom:.5rem;background:var(--clay)}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:180px;object-fit:cover;display:block}.file-input-hidden[_ngcontent-%COMP%]{display:none}.file-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;padding:.45rem 1rem;border:1.5px solid rgba(27,26,23,.2);border-radius:10px;background:var(--sand);color:var(--ink);font-family:Space Grotesk,Segoe UI,sans-serif;font-size:.85rem;font-weight:500;cursor:pointer;transition:background .15s,border-color .15s}.file-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.1rem;width:1.1rem;height:1.1rem}.file-btn[_ngcontent-%COMP%]:hover{background:var(--clay);border-color:#1b1a1759}.modal-actions[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-end!important;gap:.75rem;margin:0!important;padding:1rem 1.5rem 1.5rem!important}.modal-edit-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem;padding:1rem 1.5rem;flex-shrink:0;border-top:1px solid rgba(27,26,23,.08)}.btn-cancel[_ngcontent-%COMP%]{border-radius:10px!important;color:var(--ink)!important;border-color:#1b1a1726!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-cancel[_ngcontent-%COMP%]:hover{background:#1b1a170a!important}.btn-danger[_ngcontent-%COMP%]{border-radius:10px!important;background:var(--rust)!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-danger[_ngcontent-%COMP%]:hover{opacity:.9}.btn-restore[_ngcontent-%COMP%]{border-radius:10px!important;background:#2e7d32!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-restore[_ngcontent-%COMP%]:hover{opacity:.9}.btn-primary[_ngcontent-%COMP%]{border-radius:10px!important;background:var(--copper)!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-primary[_ngcontent-%COMP%]:hover{opacity:.9}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6!important;cursor:not-allowed}.admin-error[_ngcontent-%COMP%]{background:#dc354514;color:#b91c1c;border:1px solid rgba(220,53,69,.2);border-radius:10px;padding:.65rem 1rem;font-size:.875rem;margin-bottom:1rem}@media(max-width:500px){.welcome-header[_ngcontent-%COMP%]{top:6.25rem}}@media(max-width:700px){.items-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1rem}}@media(max-width:450px){.items-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}}']})};export{Nt as AdminItemsComponent};
