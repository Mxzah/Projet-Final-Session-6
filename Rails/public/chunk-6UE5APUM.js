import{a as Ce,b as he}from"./chunk-KOCYE6BT.js";import{a as Ne}from"./chunk-55KDX27Q.js";import{a as ke}from"./chunk-UJCOXOT6.js";import{a as Te}from"./chunk-GYJY2DLJ.js";import{a as be,b as ve,c as Oe,e as Me,f as ye,g as we,h as Pe,i as Se,j as Ie}from"./chunk-MIZ6BDON.js";import{b as ae,c as de,d as le,h as ce,i as me,l as se,m as pe}from"./chunk-LSPF5D22.js";import{b as W,c as w,e as H,f as Y,g as J,i as k,j as K,k as Q,l as X,m as Z,n as ee,r as te,s as ne,u as ie,v as re,w as oe}from"./chunk-UGZQ7MAW.js";import{$ as _e,X as ge,Y as ue,aa as fe,ba as xe,ea as Ee,fa as Le}from"./chunk-MNHDPFKN.js";import{b as U}from"./chunk-AEZNZYFK.js";import{f as $,p as B}from"./chunk-SS6MEMTN.js";import{$b as j,Ab as F,Bb as q,Cb as h,Db as n,Eb as r,Fb as M,Kb as b,O as N,Ob as u,Qb as c,Sa as V,Ua as i,ac as A,bb as O,cc as a,da as s,dc as m,ea as p,ec as x,fc as R,gc as G,hb as D,hc as I,ic as E,jc as L,m as S,qa as C,rc as y,w as T,wb as _,xb as f,yb as z}from"./chunk-RLSS7KTN.js";function De(o,t){if(o&1){let e=b();n(0,"mat-card",2)(1,"mat-card-content")(2,"mat-icon",5),a(3,"receipt_long"),r(),n(4,"p"),a(5),r(),n(6,"button",6),u("click",function(){s(e);let d=c();return p(d.onAddItems())}),M(7,"mat-icon",5),a(8),r()()()}if(o&2){let e=c();i(5),m(e.ts.t("order.empty")),i(3),x(" ",e.ts.t("order.addItems")," ")}}function ze(o,t){if(o&1&&(n(0,"div",27),M(1,"img",37),r()),o&2){let e=c().$implicit;i(),h("src",e.image_url,V)("alt",e.name)}}function Fe(o,t){if(o&1&&(n(0,"mat-chip-set")(1,"mat-chip",38),a(2),r()()),o&2){let e=c().$implicit,l=c(2);i(2),m(l.getStatusLabel(e.status))}}function qe(o,t){if(o&1&&(n(0,"span",31),a(1),r()),o&2){let e=c(3);i(),m(e.ts.t("order.pendingBadge"))}}function je(o,t){if(o&1&&(n(0,"p",33)(1,"mat-icon",5),a(2,"sticky_note_2"),r(),n(3,"span"),a(4),r()()),o&2){let e=c().$implicit;i(4),m(e.note)}}function Ae(o,t){if(o&1){let e=b();n(0,"mat-card-actions",36)(1,"button",39),u("click",function(){s(e);let d=c().$implicit,g=c(2);return p(g.openEditLine(d))}),n(2,"mat-icon"),a(3,"edit"),r()(),n(4,"button",40),u("click",function(){s(e);let d=c().$implicit,g=c(2);return p(g.confirmDeleteLine(d))}),n(5,"mat-icon"),a(6,"delete"),r()()()}if(o&2){let e=c(3);i(),h("title",e.ts.t("order.modify")),i(3),h("title",e.ts.t("order.delete"))}}function Re(o,t){if(o&1&&(n(0,"mat-card",24)(1,"mat-card-content",25)(2,"div",26),_(3,ze,2,2,"div",27),n(4,"div",28)(5,"div",29)(6,"h3",30),a(7),r(),_(8,Fe,3,1,"mat-chip-set")(9,qe,2,1,"span",31),r(),n(10,"p",32),a(11),r(),_(12,je,5,1,"p",33),r(),n(13,"div",34)(14,"span"),a(15,"Total"),r(),n(16,"strong",35),a(17),r()()(),_(18,Ae,7,2,"mat-card-actions",36),r()()),o&2){let e=t.$implicit,l=c(2);A("pending-line",e.status==="pending"),i(3),f(e.image_url?3:-1),i(4),m(e.name),i(),f(e.status!=="pending"?8:9),i(3),R("",e.quantity," x CA$",e.unit_price.toFixed(2)),i(),f(e.note?12:-1),i(5),x("CA$",(e.unit_price*e.quantity).toFixed(2)),i(),f(l.canModifyLine(e)?18:-1)}}function Ge(o,t){if(o&1&&(n(0,"div",41)(1,"mat-icon"),a(2,"sticky_note_2"),r(),n(3,"span"),a(4),r()()),o&2){let e=c(3);i(4),m(e.existingNote())}}function $e(o,t){if(o&1&&(n(0,"p",42),a(1),r()),o&2){let e=c(3);i(),m(e.ts.t("order.noDetails"))}}function Be(o,t){if(o&1){let e=b();_(0,Ge,5,1,"div",41),_(1,$e,2,1,"p",42),n(2,"button",43),u("click",function(){s(e);let d=c(2);return p(d.openEditNote())}),n(3,"mat-icon"),a(4,"edit"),r(),a(5),r()}if(o&2){let e=c(2);f(e.existingNote()?0:-1),i(),f(e.existingNote()?-1:1),i(4),x(" ",e.ts.t("order.editNote")," ")}}function Ue(o,t){if(o&1&&(n(0,"mat-error"),a(1),r()),o&2){let e=c(3);i(),m(e.ts.t("order.noteErrorSpaces"))}}function We(o,t){if(o&1){let e=b();n(0,"mat-form-field",21)(1,"mat-label"),a(2),r(),n(3,"textarea",44),L("ngModelChange",function(d){s(e);let g=c(2);return E(g.noteInput,d)||(g.noteInput=d),p(d)}),r(),n(4,"mat-hint",45),a(5),r(),_(6,Ue,2,1,"mat-error"),r()}if(o&2){let e=c(2);i(2),m(e.ts.t("order.noteLabel")),i(),I("ngModel",e.noteInput),h("placeholder",e.ts.t("order.notePlaceholder")),i(2),x("",e.noteInput.length," / 255"),i(),f(e.noteInput.length>0&&e.noteInput.trim().length===0?6:-1)}}function He(o,t){if(o&1){let e=b();n(0,"div",3)(1,"div",7)(2,"h1",8),a(3),r(),n(4,"div",9)(5,"div",10)(6,"mat-icon"),a(7,"person"),r(),n(8,"span"),a(9),n(10,"strong"),a(11),r()()(),n(12,"span",11),a(13),r()(),n(14,"button",6),u("click",function(){s(e);let d=c();return p(d.onAddItems())}),M(15,"mat-icon",5),a(16),r()(),n(17,"div",12)(18,"h2",13),a(19),r(),F(20,Re,19,10,"mat-card",14,z),r(),n(22,"mat-card",15)(23,"div",16)(24,"span"),a(25),r(),n(26,"span",17),a(27),r()()(),n(28,"mat-card",18)(29,"mat-card-header")(30,"mat-card-title",19),a(31),r()(),n(32,"mat-card-content",20),_(33,Be,6,3)(34,We,7,5,"mat-form-field",21),r()(),M(35,"mat-divider"),n(36,"div",22)(37,"button",23),u("click",function(){s(e);let d=c();return p(d.onSend())}),n(38,"mat-icon",5),a(39,"send"),r(),a(40),r()()()}if(o&2){let e=c();i(3),m(e.ts.t("order.title")),i(6),x("",e.ts.t("order.server"),": "),i(2),m(e.ts.t("order.serverNotImplemented")),i(),j("background-color",(e.existingVibeColor()||"#C87941")+"22")("color",e.existingVibeColor()||"#C87941"),i(),x(" \u2726 ",e.existingVibeName()||e.ts.t("order.vibeNotSet")," "),i(3),x(" ",e.ts.t("order.addItems")," "),i(3),m(e.ts.t("order.linesTitle")),i(),q(e.lines()),i(5),G("",e.ts.t("order.subtotal")," (",e.totalItems()," ",e.totalItems()>1?e.ts.t("order.articles"):e.ts.t("order.article"),")"),i(2),x("CA$",e.subtotal().toFixed(2)),i(4),m(e.ts.t("order.details")),i(2),f(e.openOrderId()!==null?33:34),i(4),h("disabled",e.pendingCount()===0||e.isSending()||e.isFormInvalid()),i(3),x(" ",e.ts.t("order.send")," ")}}function Ye(o,t){if(o&1&&(n(0,"div",49),a(1),r()),o&2){let e=c(2);i(),m(e.editLineError())}}function Je(o,t){if(o&1&&a(0),o&2){let e=c(3);x(" ",e.ts.t("order.quantityRequired")," ")}}function Ke(o,t){if(o&1&&a(0),o&2){let e=c(3);x(" ",e.ts.t("order.quantityMin")," ")}}function Qe(o,t){if(o&1&&a(0),o&2){let e=c(3);x(" ",e.ts.t("order.quantityMax")," ")}}function Xe(o,t){if(o&1&&(n(0,"mat-error"),_(1,Je,1,1)(2,Ke,1,1)(3,Qe,1,1),r()),o&2){let e=c(2);i(),f(e.editLineForm.controls.quantity.errors.required?1:e.editLineForm.controls.quantity.errors.min?2:e.editLineForm.controls.quantity.errors.max?3:-1)}}function Ze(o,t){if(o&1){let e=b();n(0,"div",4)(1,"mat-card",46)(2,"button",47),u("click",function(){s(e);let d=c();return p(d.cancelEditLine())}),n(3,"mat-icon"),a(4,"close"),r()(),n(5,"mat-card-header")(6,"mat-card-title",48),a(7),r()(),n(8,"mat-card-content"),_(9,Ye,2,1,"div",49),n(10,"p",50),a(11),r(),n(12,"form",51),u("ngSubmit",function(){s(e);let d=c();return p(d.saveEditLine())}),n(13,"mat-form-field",52)(14,"mat-label"),a(15),r(),M(16,"input",53),_(17,Xe,4,1,"mat-error"),r(),n(18,"mat-form-field",52)(19,"mat-label"),a(20),r(),M(21,"textarea",54),r(),n(22,"mat-card-actions",55)(23,"button",56),u("click",function(){s(e);let d=c();return p(d.cancelEditLine())}),a(24),r(),n(25,"button",57),a(26),r()()()()()()}if(o&2){let e=c();i(7),m(e.ts.t("order.editLine")),i(2),f(e.editLineError()?9:-1),i(2),m(e.editingLine().name),i(),h("formGroup",e.editLineForm),i(3),m(e.ts.t("order.quantity")),i(2),f(e.editLineForm.controls.quantity.dirty&&e.editLineForm.controls.quantity.errors?17:-1),i(3),m(e.ts.t("order.noteField")),i(),h("placeholder",e.ts.t("order.notePlaceholderLine")),i(3),m(e.ts.t("admin.cancel")),i(),h("disabled",e.editLineLoading()||e.editLineForm.invalid),i(),x(" ",e.editLineLoading()?e.ts.t("admin.saving"):e.ts.t("admin.save")," ")}}function et(o,t){if(o&1){let e=b();n(0,"div",4)(1,"mat-card",58)(2,"button",47),u("click",function(){s(e);let d=c();return p(d.cancelDeleteLine())}),n(3,"mat-icon"),a(4,"close"),r()(),n(5,"mat-card-header")(6,"mat-card-title",48),a(7),r()(),n(8,"mat-card-content")(9,"p",59),a(10),n(11,"strong"),a(12),r(),a(13," ?"),r(),n(14,"p",60),a(15),r()(),n(16,"mat-card-actions",55)(17,"button",61),u("click",function(){s(e);let d=c();return p(d.cancelDeleteLine())}),a(18),r(),n(19,"button",62),u("click",function(){s(e);let d=c();return p(d.deleteLine())}),a(20),r()()()()}if(o&2){let e=c();i(7),m(e.ts.t("order.deleteLine")),i(3),x("",e.ts.t("order.deleteLineConfirm")," "),i(2),m(e.lineToDelete().name),i(3),m(e.ts.t("order.deleteLineHardDelete")),i(3),m(e.ts.t("admin.cancel")),i(2),m(e.ts.t("admin.delete"))}}function tt(o,t){if(o&1){let e=b();n(0,"div",4)(1,"mat-card",46)(2,"button",47),u("click",function(){s(e);let d=c();return p(d.cancelEditNote())}),n(3,"mat-icon"),a(4,"close"),r()(),n(5,"mat-card-header")(6,"mat-card-title",48),a(7),r()(),n(8,"mat-card-content")(9,"mat-form-field",52)(10,"mat-label"),a(11),r(),n(12,"textarea",63),L("ngModelChange",function(d){s(e);let g=c();return E(g.noteEditInput,d)||(g.noteEditInput=d),p(d)}),r(),n(13,"mat-hint",45),a(14),r()(),n(15,"mat-card-actions",55)(16,"button",61),u("click",function(){s(e);let d=c();return p(d.cancelEditNote())}),a(17),r(),n(18,"button",64),u("click",function(){s(e);let d=c();return p(d.saveNote())}),a(19),r()()()()()}if(o&2){let e=c();i(7),m(e.ts.t("order.editNote")),i(4),m(e.ts.t("order.noteField")),i(),I("ngModel",e.noteEditInput),h("placeholder",e.ts.t("order.notePlaceholder")),i(2),x("",e.noteEditInput.length," / 255"),i(3),m(e.ts.t("admin.cancel")),i(2),m(e.ts.t("order.saveNote"))}}var Ve=class o{constructor(t,e,l,d,g,P){this.cartService=t;this.ts=e;this.authService=l;this.orderService=d;this.tableService=g;this.router=P}openOrderId=C(null);serverLines=C([]);isSending=C(!1);existingNote=C(null);existingVibeName=C(null);existingVibeColor=C(null);noteInput="";editingLine=C(null);editLineForm=new J({quantity:new k(1,[w.required,w.min(1),w.max(50)]),note:new k("",[w.maxLength(255)])});editLineError=C("");editLineLoading=C(!1);lineToDelete=C(null);isEditingNote=C(!1);noteEditInput="";pendingLines=y(()=>this.cartService.lines().map((t,e)=>({id:-1-e,quantity:t.quantity,unit_price:t.unit_price,note:t.note,status:"pending",name:t.name,image_url:t.image_url||null})));lines=y(()=>[...this.serverLines(),...this.pendingLines()]);subtotal=y(()=>this.lines().reduce((t,e)=>t+e.unit_price*e.quantity,0));totalItems=y(()=>this.lines().reduce((t,e)=>t+e.quantity,0));pendingCount=y(()=>this.cartService.lines().length);ngOnInit(){this.loadOpenOrder()}mapApiLine(t){return{id:t.id,quantity:t.quantity,unit_price:t.unit_price,note:t.note,status:t.status,name:t.orderable_name||`${t.orderable_type} #${t.orderable_id}`,image_url:t.image_url||null}}loadOpenOrder(){this.orderService.getOrders().subscribe({next:t=>{let l=(t.data||[]).find(d=>!d.ended_at)||null;if(!l){this.openOrderId.set(null),this.serverLines.set([]),this.existingNote.set(null),this.existingVibeName.set(null),this.existingVibeColor.set(null);return}this.openOrderId.set(l.id),this.existingNote.set(l.note||null),this.existingVibeName.set(l.vibe_name??null),this.existingVibeColor.set(l.vibe_color??null),this.serverLines.set((l.order_lines||[]).map(d=>this.mapApiLine(d)))},error:()=>{this.openOrderId.set(null),this.serverLines.set([])}})}isFormInvalid(){return this.openOrderId()!==null?!1:this.noteInput.length>0&&this.noteInput.trim().length===0}getStatusLabel(t){let e={sent:"order.status.sent",in_preparation:"order.status.inPreparation",ready:"order.status.ready",served:"order.status.served"};return e[t]?this.ts.t(e[t]):""}canModifyLine(t){return t.status==="sent"||t.status==="pending"}openEditLine(t){this.editingLine.set(t),this.editLineForm.patchValue({quantity:t.quantity,note:t.note||""}),this.editLineForm.markAsPristine(),this.editLineForm.markAsUntouched(),this.editLineError.set("")}cancelEditLine(){this.editingLine.set(null),this.editLineError.set("")}saveEditLine(){let t=this.editingLine();if(!t||(Object.values(this.editLineForm.controls).forEach(d=>d.markAsDirty()),this.editLineForm.invalid))return;let e=this.editLineForm.value;if(t.id<0){let d=-t.id-1;this.cartService.updateLine(d,{quantity:e.quantity,note:e.note??""}),this.editingLine.set(null);return}let l=this.openOrderId();l&&(this.editLineLoading.set(!0),this.editLineError.set(""),this.orderService.updateOrderLine(l,t.id,{quantity:e.quantity,note:e.note??""}).subscribe({next:()=>{this.editingLine.set(null),this.editLineLoading.set(!1),this.loadOpenOrder()},error:()=>{this.editLineError.set(this.ts.t("order.editError")),this.editLineLoading.set(!1)}}))}confirmDeleteLine(t){this.lineToDelete.set(t)}cancelDeleteLine(){this.lineToDelete.set(null)}deleteLine(){let t=this.lineToDelete();if(!t)return;if(t.id<0){let l=-t.id-1;this.cartService.removeLine(l),this.lineToDelete.set(null);return}let e=this.openOrderId();e&&this.orderService.deleteOrderLine(e,t.id).subscribe({next:()=>{this.lineToDelete.set(null),this.loadOpenOrder()},error:()=>{this.lineToDelete.set(null)}})}openEditNote(){this.isEditingNote.set(!0),this.noteEditInput=this.existingNote()||""}cancelEditNote(){this.isEditingNote.set(!1)}saveNote(){let t=this.openOrderId();t&&this.orderService.updateOrder(t,{note:this.noteEditInput}).subscribe({next:()=>{this.existingNote.set(this.noteEditInput||null),this.isEditingNote.set(!1)},error:()=>{this.isEditingNote.set(!1)}})}onSend(){let t=this.cartService.lines();if(t.length===0||this.isSending()||this.isFormInvalid())return;let e=g=>{let P=t.map(v=>this.orderService.createOrderLine(g,{quantity:v.quantity,note:v.note,orderable_type:v.orderable_type,orderable_id:v.orderable_id}));return T(P)},l=this.openOrderId();this.isSending.set(!0),(l?e(l):(()=>{let g=this.tableService.getCurrentTable();return g?this.orderService.createOrder({nb_people:1,note:this.noteInput,table_id:g.id}).pipe(N(P=>{let v=P.data?.[0];return v?(this.openOrderId.set(v.id),e(v.id)):S(null)})):(this.isSending.set(!1),alert("Please scan/select a table before sending the order."),this.router.navigate(["/form"]),S(null))})()).subscribe({next:g=>{g&&(this.cartService.clear(),this.loadOpenOrder())},error:()=>{alert("Unable to send order lines. Please try again.")},complete:()=>{this.isSending.set(!1)}})}onAddItems(){this.router.navigate(["/menu"])}goBack(){this.router.navigate(["/menu"])}logout(){this.cartService.clear(),this.authService.logout().subscribe({next:t=>{t?.success&&this.router.navigate(["/login"])},error:()=>{localStorage.removeItem("currentUser"),this.router.navigate(["/login"])}})}static \u0275fac=function(e){return new(e||o)(O(ke),O(Ee),O(U),O(Ne),O(Te),O(B))};static \u0275cmp=D({type:o,selectors:[["app-order"]],decls:7,vars:4,consts:[[3,"logoutClick"],[1,"order-page"],["appearance","outlined",1,"empty-state"],[1,"order-container"],[1,"modal-overlay"],["aria-hidden","true"],["mat-raised-button","","color","primary",3,"click"],[1,"order-header"],[1,"order-title"],[1,"server-vibe-row"],[1,"server-info"],[1,"vibe-badge-header"],[1,"order-lines"],[1,"section-title"],["appearance","outlined",1,"order-line-card",3,"pending-line"],["appearance","outlined",1,"order-summary"],[1,"summary-row"],[1,"summary-price"],["appearance","outlined",1,"order-details-card"],[1,"details-title"],[1,"details-content"],["appearance","outline",1,"full-width"],[1,"order-actions"],["mat-raised-button","","color","primary",3,"click","disabled"],["appearance","outlined",1,"order-line-card"],[1,"line-content"],[1,"line-main"],[1,"line-image"],[1,"line-info"],[1,"line-head"],[1,"line-name"],[1,"pending-badge"],[1,"line-details"],[1,"line-note"],[1,"line-total"],[1,"line-price"],[1,"item-actions"],["loading","lazy",3,"src","alt"],["selected","","color","primary"],["mat-icon-button","",1,"action-btn","edit",3,"click","title"],["mat-icon-button","",1,"action-btn","delete",3,"click","title"],[1,"detail-item"],[1,"no-details"],["mat-stroked-button","",1,"btn-edit-note",3,"click"],["matInput","","rows","2","maxlength","255",3,"ngModelChange","ngModel","placeholder"],["align","end"],[1,"modal","modal-edit"],["mat-icon-button","",1,"modal-close",3,"click"],[1,"modal-title"],[1,"modal-error"],[1,"modal-item-name"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"modal-field-full"],["matInput","","type","number","formControlName","quantity","min","1","max","50"],["matInput","","formControlName","note","rows","2","maxlength","255",3,"placeholder"],[1,"modal-actions"],["mat-stroked-button","","type","button",1,"btn-cancel",3,"click"],["mat-flat-button","","type","submit",1,"btn-primary",3,"disabled"],[1,"modal"],[1,"modal-text"],[1,"modal-hard-delete"],["mat-stroked-button","",1,"btn-cancel",3,"click"],["mat-flat-button","",1,"btn-danger",3,"click"],["matInput","","rows","3","maxlength","255",3,"ngModelChange","ngModel","placeholder"],["mat-flat-button","",1,"btn-primary",3,"click"]],template:function(e,l){e&1&&(n(0,"app-header",0),u("logoutClick",function(){return l.logout()}),r(),n(1,"main",1),_(2,De,9,2,"mat-card",2)(3,He,41,18,"div",3),r(),_(4,Ze,27,11,"div",4),_(5,et,21,6,"div",4),_(6,tt,20,7,"div",4)),e&2&&(i(2),f(l.lines().length===0?2:3),i(2),f(l.editingLine()?4:-1),i(),f(l.lineToDelete()?5:-1),i(),f(l.isEditingNote()?6:-1))},dependencies:[$,re,Q,W,X,H,Y,ie,ne,te,K,oe,ee,Z,Le,_e,ue,ge,we,be,Me,Oe,ye,ve,Ie,Pe,Se,he,Ce,me,ce,ae,le,de,xe,fe,pe,se],styles:['@import"https://fonts.googleapis.com/css2?family=Fraunces:wght@500;700&family=Space+Grotesk:wght@400;500;600&display=swap";[_nghost-%COMP%]{--ink: #1b1a17;--clay: #f3ede4;--sand: #fbf8f2;--copper: #c86d3f;--rust: #8a3f24;--sage: #7a8f6a;--shadow: 0 25px 60px rgba(27, 26, 23, .18);display:block;min-height:100vh;overflow-x:clip;overflow-y:visible;background:radial-gradient(circle at top left,#f7e6d8,#f9f5ef 45%,#efe7dc);color:var(--ink);font-family:Space Grotesk,Segoe UI,sans-serif}[_nghost-%COMP%]:before, [_nghost-%COMP%]:after{content:"";position:fixed;inset:auto auto 8% -10%;width:320px;height:320px;background:conic-gradient(from 120deg,#c86d3f26,#7a8f6a26);border-radius:50%;filter:blur(10px);z-index:0}[_nghost-%COMP%]:after{inset:-5% -10% auto auto;width:280px;height:280px;background:radial-gradient(circle,rgba(200,109,63,.2),transparent 70%)}.page[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:minmax(280px,560px);justify-content:center;align-items:start;padding:1rem clamp(1rem,3vw,3rem) 1.5rem}.site-header[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;align-items:center;justify-content:space-between;padding:1rem clamp(1rem,3vw,3rem);background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff}.brand[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;letter-spacing:.3rem;text-transform:uppercase;color:#fff}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.panel[_ngcontent-%COMP%]{background:var(--sand);border-radius:24px;padding:1.5rem 2rem;box-shadow:var(--shadow);border:1px solid rgba(27,26,23,.08);animation:_ngcontent-%COMP%_float-in .8s ease forwards}.panel__header[_ngcontent-%COMP%]{display:grid;gap:.25rem;margin-bottom:1rem}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.2rem;font-size:.75rem;color:var(--rust);margin:0}h1[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:clamp(2rem,3vw,2.6rem);margin:0}.subtitle[_ngcontent-%COMP%]{margin:0;color:#1b1a17b3}.form[_ngcontent-%COMP%]{display:grid;gap:.75rem}.field[_ngcontent-%COMP%]{display:grid;gap:.25rem}label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border:1px solid rgba(27,26,23,.2);border-radius:12px;padding:.65rem .875rem;font-size:.95rem;background:#fff;transition:border-color .2s ease,box-shadow .2s ease}input[_ngcontent-%COMP%]:not([matInput]):focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--copper);box-shadow:0 0 0 3px #c86d3f33}.form__actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;margin-top:.5rem}button[_ngcontent-%COMP%]{border-radius:999px;padding:.65rem 1.5rem;font-size:.9rem;font-weight:600;cursor:pointer;border:none}.primary[_ngcontent-%COMP%]{background:linear-gradient(120deg,var(--copper),var(--rust));color:#fff;box-shadow:0 12px 25px #8a3f2459}.ghost[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(27,26,23,.2);color:var(--ink)}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]{border-color:#fff6;color:#fff}.site-header[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]:hover{background:#ffffff26}@keyframes _ngcontent-%COMP%_float-in{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media(max-width:900px){.page[_ngcontent-%COMP%]{min-height:auto}}@media(max-width:600px){.panel[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-radius:20px}.site-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.form__actions[_ngcontent-%COMP%]{flex-direction:column}button[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{font-size:1.75rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.95rem}}@media(max-width:400px){[_nghost-%COMP%]{overflow-x:clip;overflow-y:visible}.page[_ngcontent-%COMP%]{padding:1.5rem 1rem 3rem;grid-template-columns:1fr}.panel[_ngcontent-%COMP%]{padding:1.5rem 1rem;border-radius:16px}.site-header[_ngcontent-%COMP%]{padding:1rem 1rem 0}h1[_ngcontent-%COMP%]{font-size:1.5rem}.subtitle[_ngcontent-%COMP%]{font-size:.9rem}label[_ngcontent-%COMP%]{font-size:.875rem}input[_ngcontent-%COMP%]:not([matInput]), select[_ngcontent-%COMP%]{border-radius:10px;padding:.7rem .75rem;font-size:.9rem}button[_ngcontent-%COMP%]{padding:.7rem 1.2rem;font-size:.9rem}}.order-page[_ngcontent-%COMP%]{padding:1.5rem clamp(1rem,3vw,3rem) 2.5rem;min-height:calc(100vh - 60px);max-width:940px;margin:0 auto}.order-container[_ngcontent-%COMP%]{display:grid;gap:1.25rem}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:240px;gap:1rem;text-align:center}.empty-state[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:grid;gap:.75rem;justify-items:center}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem;color:#1b1a178c}.empty-state[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{justify-content:center}.order-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.75rem;margin-bottom:1rem}.order-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:clamp(1.5rem,2.5vw,2rem);margin:0;color:var(--ink)}.section-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:1.2rem;margin:0 0 1rem;color:var(--ink)}.order-lines[_ngcontent-%COMP%]{display:grid;gap:.9rem}.order-line-card[_ngcontent-%COMP%]{overflow:hidden}.line-content[_ngcontent-%COMP%]{display:grid;gap:1rem;padding:1.1rem 1.2rem}.line-main[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;gap:1rem}.line-image[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:12px;overflow:hidden;flex-shrink:0;background:var(--clay)}.line-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.line-info[_ngcontent-%COMP%]{flex:1}.line-head[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.75rem;flex-wrap:wrap;margin-bottom:.45rem}.line-name[_ngcontent-%COMP%]{font-weight:600;font-size:1.05rem;margin:0;color:var(--ink)}.line-details[_ngcontent-%COMP%]{font-size:.9rem;color:#1b1a1799;margin:0}.line-note[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.35rem;font-size:.83rem;color:#1b1a1780;margin:.35rem 0 0}.line-note[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:1rem;height:1rem;font-size:1rem}.line-total[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:.2rem;min-width:136px;color:#1b1a17b3;font-size:.8rem;text-transform:uppercase;letter-spacing:.05em}.line-price[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem;color:var(--ink);white-space:nowrap;text-transform:none;letter-spacing:normal}.order-summary[_ngcontent-%COMP%]{padding:.2rem 1.25rem}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:1.1rem;font-weight:600;color:var(--ink)}.summary-price[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif;font-size:1.5rem;font-weight:700}.order-details-card[_ngcontent-%COMP%]{padding:.25rem 0}.details-title[_ngcontent-%COMP%]{font-size:1rem!important;font-weight:600;color:var(--ink)}.details-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;padding:.5rem 1.25rem 1.25rem!important}.detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem;font-size:.95rem;color:var(--ink)}.detail-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.1rem;width:1.1rem;height:1.1rem;color:var(--copper)}.vibe-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .85rem;border-radius:999px;font-weight:600;font-size:.9rem;align-self:flex-start}.no-details[_ngcontent-%COMP%]{color:#1b1a1773;font-size:.9rem;margin:0}.full-width[_ngcontent-%COMP%]{width:100%}.order-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem;flex-wrap:wrap}.order-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:130px}button[mat-raised-button].mat-primary[_ngcontent-%COMP%], button[mat-raised-button][color=primary][_ngcontent-%COMP%]{background:linear-gradient(120deg,var(--copper),var(--rust))!important;color:#fff!important}mat-chip[_ngcontent-%COMP%]{font-size:.78rem}.server-vibe-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.6rem;flex-wrap:wrap}.server-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem;font-size:.95rem;color:var(--ink)}.server-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.1rem;width:1.1rem;height:1.1rem;color:var(--copper)}.vibe-badge-header[_ngcontent-%COMP%]{padding:.2rem .75rem;border-radius:999px;font-weight:600;font-size:.82rem}.pending-line[_ngcontent-%COMP%]{border-left:3px solid var(--copper)!important;opacity:.85}.pending-badge[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;color:var(--copper);background:#c86d3f1f;padding:.2rem .65rem;border-radius:999px;white-space:nowrap}.item-actions[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-end;gap:.25rem;padding:0!important;margin:0!important}.action-btn[_ngcontent-%COMP%]{color:#1b1a1773!important;width:36px!important;height:36px!important;padding:0!important;border-radius:50%!important;display:flex!important;align-items:center!important;justify-content:center!important}.action-btn[_ngcontent-%COMP%]:hover{color:var(--ink)!important}.action-btn.delete[_ngcontent-%COMP%]:hover{color:var(--rust)!important}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0006;display:flex;align-items:center;justify-content:center;z-index:100}.modal[_ngcontent-%COMP%]{position:relative;background:var(--sand)!important;border-radius:16px!important;padding:1.5rem!important;max-width:400px;width:90%;box-shadow:0 12px 40px #00000026!important;max-height:90vh;overflow-y:auto}.modal-close[_ngcontent-%COMP%]{position:sticky!important;top:0;float:right;margin-left:auto;z-index:10;width:36px!important;height:36px!important;padding:0!important;border-radius:50%!important;background:#fff!important;border:1px solid rgba(27,26,23,.1)!important;display:flex!important;align-items:center!important;justify-content:center!important;color:var(--ink)!important}.modal-close[_ngcontent-%COMP%]:hover{background:var(--clay)!important}.modal[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:0!important;margin:0!important}.modal-edit[_ngcontent-%COMP%]{max-width:420px}.modal-title[_ngcontent-%COMP%]{font-family:Fraunces,Times New Roman,serif!important;font-size:1.25rem!important;margin:0 0 .75rem!important;color:var(--ink)!important;padding:0!important}.modal-text[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:.9rem;color:#1b1a17b3}.modal-hard-delete[_ngcontent-%COMP%]{font-size:.8rem;color:var(--rust);font-style:italic;margin:-1rem 0 1rem}.modal-item-name[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:var(--ink);margin:0 0 1rem}.modal[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0!important}.modal-error[_ngcontent-%COMP%]{background:#dc35451a;color:#dc3545;padding:.5rem .75rem;border-radius:8px;font-size:.85rem;margin-bottom:1rem}.modal-field-full[_ngcontent-%COMP%]{width:100%;margin-bottom:.25rem}  .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__leading,   .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__notch,   .modal-edit .mat-mdc-form-field.mat-focused .mdc-notched-outline__trailing{border-color:#1b1a1740!important;border-width:1px!important}  .modal-edit .mat-mdc-form-field.mat-focused .mat-mdc-floating-label{color:#1b1a1799!important}  .modal-edit .mdc-text-field--focused .mdc-notched-outline__leading,   .modal-edit .mdc-text-field--focused .mdc-notched-outline__notch,   .modal-edit .mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#1b1a1740!important;border-width:1px!important}  .modal-edit input.mat-mdc-input-element:focus,   .modal-edit textarea.mat-mdc-input-element:focus,   .modal-edit .mat-mdc-select:focus,   .modal-edit .mat-mdc-select-trigger:focus{outline:none!important;box-shadow:none!important}  .modal-edit .mat-mdc-text-field-wrapper:focus-within{outline:none!important;box-shadow:none!important}.modal-actions[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-end;gap:.75rem;margin:1rem 0 0!important;padding:0!important}.btn-cancel[_ngcontent-%COMP%]{border-radius:10px!important;color:var(--ink)!important;border-color:#1b1a1726!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-cancel[_ngcontent-%COMP%]:hover{background:#1b1a170a!important}.btn-danger[_ngcontent-%COMP%]{border-radius:10px!important;background:var(--rust)!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-danger[_ngcontent-%COMP%]:hover{opacity:.9}.btn-primary[_ngcontent-%COMP%]{border-radius:10px!important;background:var(--copper)!important;color:#fff!important;font-family:Space Grotesk,Segoe UI,sans-serif!important}.btn-primary[_ngcontent-%COMP%]:hover{opacity:.9}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6!important;cursor:not-allowed}.btn-edit-note[_ngcontent-%COMP%]{align-self:flex-start;border-radius:10px!important;font-size:.85rem!important;color:var(--copper)!important;border-color:var(--copper)!important}.btn-edit-note[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem;margin-right:.25rem}@media(max-width:600px){.order-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.order-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.line-main[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.line-image[_ngcontent-%COMP%]{width:60px;height:60px}.line-total[_ngcontent-%COMP%]{align-items:flex-start;min-width:0}.order-actions[_ngcontent-%COMP%]{flex-direction:column}.order-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}']})};export{Ve as OrderComponent};
